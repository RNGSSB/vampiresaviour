
;===========================================================================
;========================_____________________________======================
;========================|                           |======================
;========================| MARVEL VS CAPCOM 2 |======================
;========================|                           |======================
;========================|              CYCLOPS    |======================
;========================|___________________________|======================
;===========================================================================
;===========================================================================

;----------------------------________________-------------------------------
;---------------------------|                |------------------------------
;---------------------------| Configuration  |------------------------------
;---------------------------|________________|------------------------------

;---------------------------------------------------------------------------
[Data]
life = 1000
attack = 120
defence = 100
power = 5000
fall.defence_up = 50
liedown.time = 16
airjuggle = 20
sparkno = 0
guard.sparkno = 40
KO.echo = 0
volume = 50
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = .83
yscale = 1.07 
ground.back = 30
ground.front = 30
air.back = 24
air.front = 24
z.width = 3      
height = 60
attack.width = 4,4
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0

[Velocity]
walk.fwd  = 4
walk.back = -3
run.fwd  = 7.75, 0
run.back = -7.75, 0
jump.neu = 0,-10.5 
jump.back = -4,-10.25
jump.fwd = 4,-10.25
airjump.neu = 0,-10.25
airjump.back = -4.25
airjump.fwd = 4.25
runjump.back = -0,0
runjump.fwd = 5.7,0

[Movement]
airjump.num = 0
airjump.height = 45
yaccel = .59
stand.friction = .80
crouch.friction = .80

[Statedef 21]
type    = S
physics = S
sprpriority = 1

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 21, 1]
type = VelSet
triggerall = enemy, stateno != [191, 192]
trigger1 = command = "holdfwd"
x =  1.9

[State 21, 2]
type = VelSet
triggerall = enemy, stateno != [191, 192]
trigger1 = command = "holdback"
x = -1.6

[State 21, 3]
type = VelSet
triggerall = enemy, stateno != [191, 192]
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = command = "holdfwd" && anim != 22
value = 22

[State 21, 4]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = command = "holdback" && anim != 22
value = 22

[State 21, 4]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = command != "holdfwd" && anim != 0
trigger1 = command != "holdback" && anim != 0
value = 0

[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 22, 22)



;----------------------------________________-------------------------------
;---------------------------|                |------------------------------
;---------------------------| Overrides  |------------------------------
;---------------------------|________________|------------------------------

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = PrevStateNo = 9000
value = 1

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = !Time
y = 0

[State 0, 2]
type = Helper
trigger1 = !NumHelper(6000)
stateno = 6000
id = 6000
ownpal = 1
pos = 5,-115
size.xscale = .83
size.yscale = 1.07 


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 0
value = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = IsHelper

;------------------------------------------------------------------------------------------------------------
;
[Statedef 5999]
type = S
movetype = I
physics = N
anim = 6000
ctrl = 0
sprpriority = 3
velset = 0,Parent,Vel Y


[State 6003]
type = Varset
trigger1 = Time = 0
var(37) = parent,id

[State 6003]
type = Turn
trigger1 = parent,facing != facing

[State 6003]
type = DestroySelf
trigger1 = !PlayerIDExist(var(37))


[State 6003]
type = BindToParent
trigger1 = PlayerIDExist(var(37))




;------------------------------------------------------------------------------------------------------------
;Stand Spark Helper
[Statedef 6000]
type = S
movetype = I
physics = N
anim = 6000
ctrl = 0
sprpriority = 2
velset = 0,0


[State 6000]
type = AssertSpecial
trigger1 = Time%2 = 0
flag = invisible


[State 6000]
type = null;Helper
trigger1 = Parent,Anim = 10 && !NumHelper(6001)
stateno = 6001
id = 6001
pos = 9,-115

[State 6000]
type = null;Helper
trigger1 = Parent,Anim = 12 && !NumHelper(6001)
stateno = 6001
id = 6001
pos = 8,-60

[State 6000]
type = DestroySelf
trigger1 = (Parent,stateno != 0) && (Parent,stateno != [10,12]); && (Parent,stateno != 20)


[State 6000]
type = BindToParent
trigger1 = Parent,Anim = 0
pos = 7,-107


[State 6000]
type = BindToParent
trigger1 = Parent,Anim = 11
pos = 7,-662


[State 6000]
type = null;BindToParent
trigger1 = Parent,Anim = 20
pos = 32,-115

[State 6000]
type = null;BindToParent
trigger1 = Parent,Anim = 21
pos = 4,-115

[State 6000]
type = VelSet
trigger1 = 1
x = (RootDist X+9)*0.1
y = (RootDist Y-109)*0.1+42*(parent,statetype = C)*0.1

[State 6000]
type = VelSet
trigger1 = RootDist X = 0
x = 0

[State 6000]
type = null;VelSet
trigger1 = (RootDist Y-109)+42*(parent,statetype = C)
y = 0


;------------------------------------------------------------------------------------------------------------
;Stand Spark Helper
[Statedef 6001]
type = S
movetype = I
physics = N
anim = 6000
ctrl = 0
sprpriority = 2
velset = 0,0


[State 6001]
type = AssertSpecial
trigger1 = Time%2 = 0
flag = invisible


[State 6001]
type = DestroySelf
trigger1 = Root,Anim = 0
trigger2 = Root,Anim = 11


[State 6001]
type = null;BindToParent
trigger1 = Parent,Anim = 0
pos = 9,-101


[State 6001]
type = null;BindToParent
trigger1 = Parent,Anim = 11
pos = 8,-60

[State 6001]
type = VelSet
trigger1 = 1
x = (RootDist X+9)*0.1
y = (RootDist Y-109)*0.1+42*(parent,statetype = C)*0.1

[State 6001]
type = VelSet
trigger1 = RootDist X = 0
x = 0

[State 6001]
type = null;VelSet
trigger1 = (RootDist Y-109)+42*(parent,statetype = C)
y = 0

;------------------------------------------------------------------------------------------------------------
;Cloak
[Statedef 6199]
type = S
movetype = I
physics =N
anim = 6000
ctrl = 0
sprpriority = 1
velset = 0,0



[State 6199]
type = Turn
trigger1 = Parent,Facing != Facing

[State 6199]
type = DestroySelf
trigger1 = parent,stateno != 199

[State 6199]
type = BindToParent
trigger1 = 1
pos = 0,-1



;---------------------------------------------------------------------------
; Stand to Crouch
[Statedef 10]
type    = C
physics = C
;anim = 10
ctrl = 1

[State 10, 1]
type = VelMul
trigger1 = !Time
x = .75

[State 10, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 10
value = 10

[State 10, 2]
type = ChangeState
trigger1 = !AnimTime
value = 11

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
;anim = 11
sprpriority = 0
ctrl = 1

[State 11, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 11
value = 11

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

[State 11,4]
type = DestroySelf
trigger1 = ishelper

;---------------------------------------------------------------------------
; Crouch to Stand
[Statedef 12]
type    = S
physics = S
;anim = 12
ctrl = 1

[State 12, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 10
value = 12

[State 12, 1]
type = ChangeState
trigger1 = !AnimTime
value = 0

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = var(45) = 0
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = var(45) = 0
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, 1]
type = VelSet
trigger1 = var(45) > 0
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x) * 1.3

[State 20, 2]
type = VelSet
trigger1 = var(45) > 0
trigger1 = command = "holdback"
x = const(velocity.walk.back.x) * 1.3

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = !Time && Anim != 20
value = 20

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = !Time && Anim != 21
value = 21

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
;anim = 40
ctrl = 0
sprpriority = 1

[State 40, VarSet]
type = VarSet
trigger1 = !Time
sysvar(1) = 0

[State 40, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, VarSet]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, VelSet]
type = VelSet
trigger1 = !var(45)
trigger1 = !AnimTime
x = IfElse(!sysvar(1), const(velocity.jump.neu.x), IfElse((sysvar(1) = 1), const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, VelSet]
type = VelSet
trigger1 = var(45)
trigger1 = !AnimTime
x = IfElse(!sysvar(1), const(velocity.jump.neu.x), IfElse((sysvar(1) = 1), const(velocity.jump.fwd.x), const(velocity.jump.back.x))) * 1.5
y = const(velocity.jump.y)

[State 40, VelSet]
type = VelSet
trigger1 = !var(45)
trigger1 = !AnimTime
trigger1 = PrevStateNo = 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, VelSet]
type = VelSet
trigger1 = var(45)
trigger1 = !AnimTime
trigger1 = PrevStateNo= 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x) * 1.5

[State 40, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 40
value = 40

[State 40, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump
[Statedef 41]
type = A
physics = S
;anim = 40
ctrl = 0

[State 41, VarSet]
type = VarSet
trigger1 = !Time
sysvar(1) = 0

[State 41, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 41, VarSet]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 7001, Explod]
type = Explod
trigger1 = Time = 0
ID = 474
anim = 8250
id = 8250
pos = -120, 0
scale = 0.54,0.48
sprpriority = 4
supermove = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 41,0
volumescale = 255

[State 41, VarSet]
type = VarSet
trigger1 = !Time
var(10) = 1

[State 41, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 40

[State 41, VelSet]
type = VelSet
trigger1 = !var(45)
trigger1 = !AnimTime
x = IfElse(!sysvar(1), const(velocity.jump.neu.x), IfElse((sysvar(1) = 1), const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -19.4

[State 41, VelSet]
type = VelSet
trigger1 = var(45)
trigger1 = !AnimTime
x = IfElse(!sysvar(1), const(velocity.jump.neu.x), IfElse((sysvar(1) = 1), const(velocity.jump.fwd.x), const(velocity.jump.back.x))) * 1.5
y = -19.4

[State 41, ChangeState]
type = ChangeState
trigger1 = time = 3
value = 42
ctrl = 1

;---------------------------------------------------------------------------
; Super Jump Up
[Statedef 42]
type    = A
physics = A

[State 50, VelAdd]
type = VelAdd
triggerall = var(10)
triggerall = command = "holdfwd"
triggerall = command != "holdback"
trigger1 = !sysvar(1)
trigger1 = Vel X < 4
trigger2 = sysvar(1) = -1
trigger2 = Vel X < 4
x = .25

[State 50, VelAdd]
type = VelAdd
triggerall = var(10)
triggerall = command != "holdfwd"
triggerall = command = "holdback"
trigger1 = !sysvar(1)
trigger1 = Vel X > -1
trigger2 = sysvar(1) = 1
trigger2 = Vel X > 2.5
x = -.15

[State 1211, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y= - 0.17

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 41
trigger1 = Anim != 42
trigger1 = Anim != 43
value = (ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43)))

[State 50, ChangeState]
type = ChangeState
triggerall = IfElse(((PrevStateNo = 40) || (PrevStateNo = 41)),(Time > 10),1)
triggerall = var(11) < 1
trigger1 = command = "up"
trigger2 = command = "UF"
trigger3 = command = "UB"
value = 51

;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
velset = 0,0
ctrl = 0

[State 7001, VelAdd]
type = VelAdd
triggerall = Vel X >= -2
trigger1 = command = "holdback"
trigger1 = Anim != 42
x = -0.1

[State 7001, VelAdd]
type = VelAdd
triggerall = Vel X <= 2.5
trigger1 = command = "holdfwd"
trigger1 = Anim != 43
x = 0.25

[State 45, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 40
value = 40

[State 45, ChangeAnim]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 40

[State 45, ChangeAnim]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 40

[State 45, VarAdd]
type = VarAdd
trigger1 = !Time
var(11) = 1

[State 45, VarSet]
type = VarSet
trigger1 = !Time
sysvar(1) = 0

[State 45, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, VarSet]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, VelSet]
type = VelSet
trigger1 = !var(45)
trigger1 = Time > 3
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, VelSet]
type = VelSet
trigger1 = var(45)
trigger1 = Time > 3
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x))) * 1.3
y = const(velocity.airjump.y)

[State 45, ChangeState]
type = ChangeState
trigger1 = Time > 3
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, VelAdd]
type = VelAdd
triggerall = var(10)
triggerall = command = "holdfwd"
triggerall = command != "holdback"
trigger1 = !sysvar(1)
trigger1 = Vel X < 4
trigger2 = sysvar(1) = -1
trigger2 = Vel X < 4
x = .25

[State 50, VelAdd]
type = VelAdd
triggerall = var(10)
triggerall = command != "holdfwd"
triggerall = command = "holdback"
trigger1 = !sysvar(1)
trigger1 = Vel X > -1
trigger2 = sysvar(1) = 1
trigger2 = Vel X > 2.5
x = -.15

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 41
trigger1 = Anim != 42
trigger1 = Anim != 43
value = (ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43)))

[State 50, ChangeState]
type = ChangeState
triggerall = IfElse(((PrevStateNo = 40) || (PrevStateNo = 41)),(Time > 10),1)
triggerall = var(11) < 1
trigger1 = command = "up"
trigger2 = command = "UF"
trigger3 = command = "UB"
value = 51

;---------------------------------------------------------------------------
; Double Jump Start
[Statedef 51]
type    = A
physics = N
velset = 0,0
ctrl = 0

[State 7001, VelAdd]
type = VelAdd
triggerall = Vel X >= -2
trigger1 = command = "holdback"
trigger1 = Anim != 42
x = -0.1

[State 7001, VelAdd]
type = VelAdd
triggerall = Vel X <= 2.5
trigger1 = command = "holdfwd"
trigger1 = Anim != 43
x = 0.25

[State 1211, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 45, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 48

[State 45, ChangeAnim]
type = ChangeAnim
trigger1 = SelfAnimExist(44)
value = 48

[State 45, ChangeAnim]
type = ChangeAnim
trigger1 = !SelfAnimExist(44)
value = 48

[State 45, VarAdd]
type = VarAdd
trigger1 = !Time
var(11) = 1

[State 45, VarSet]
type = VarSet
trigger1 = !Time
sysvar(1) = 0

[State 45, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, VarSet]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, VelSet]
type = VelSet
trigger1 = !var(45)
trigger1 = Time > 3
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, VelSet]
type = VelSet
trigger1 = var(45)
trigger1 = Time > 3
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x))) * 1.3
y = const(velocity.airjump.y)

[State 45, ChangeState]
type = ChangeState
trigger1 = Time > 3
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
;anim = 47
facep2 = 1
ctrl = 0

[State 52, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 47
value = 47

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 52,0

[State 52, 1]
type = VelSet
trigger1 = !Time
y = 0

[State 52, 2]
type = PosSet
trigger1 = !Time
y = 0

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200

[State 52, 3]
type = CtrlSet
trigger1 = !IsHelper
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Falling

[Statedef 1211]
type    = A
movetype= I
physics = A
anim = 44
sprpriority = 1

[State 1211, Ctrl]
type = CtrlSet
trigger1 = prevstateno = 4100
value = 1

[State 1211, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 0
value = 1

[State 1211, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 1
value = 1

[State 112, 3]
type = VelAdd
trigger1 = command = "holdfwd"
trigger1 = Vel X < 3.5
x = .4

[State 112, 4]
type = VelAdd
trigger1 = command = "holdback"
trigger1 = Vel X > -3.5
x = -.2

[State 1211, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 1211, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 1211, ChangeState]
type = ChangeState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 52

;---------------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type    = S
physics = S
;anim = 100 + ((PrevStateNo = 250) * 1)
ctrl = 0

[State 100, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != stateno
value = 100

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -20,ceil(const(size.head.pos.y)/2)
scale = 0.5, 0.5

[State 610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 42,0
volume = 250

[State 100, CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 2, = 0
value = 1

[State 100, VelSet]
type = VelSet
trigger1 = var(45) = 0
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 10, < 10
x = 7

[State 100, VelSet]
type = VelSet
trigger1 = var(45) > 0
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 10, < 10
x = 7 * 1.3

[State 100, VelSet]
type = VelSet
trigger1 = AnimElem = 10, >= 0
x = 1

[State 100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; RUN_BACK
[Statedef 105]
type    = S
physics = S
;anim = 105
velset = 0,0
ctrl = 1

[State 105, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = 105

[State 105, VelSet]
type = VelSet
trigger1 = var(45) = 0
trigger1 = AnimElem = 6, < 0
x = -9

[State 105, VelSet]
type = VelSet
trigger1 = var(45) > 0
trigger1 = AnimElem = 6, < 0
x = -9 * 1.3

[State 105, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 105, 3]
type = ChangeState
trigger1 = !AnimTime
value = 0

;---------------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;---------------------------------------------------------------------------
; WIN
[Statedef 180]
type = S
ctrl = 0

[State 180, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State 180, ChangeState]
type = ChangeState
trigger1 = !numhelper(8500)
value = ifelse(winko,181+random%5,182)

;---------------------------------------------------------------------------
; WIN1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7, = 0
value = 6,3
channel = 0

[State 181, Helper]
type = Helper
trigger1 = AnimElem = 7, = 0
stateno = 10181
sprpriority = 1
postype = p1
pos = 57,-93
bindtime = 1
ownpal = 1
id = 10181
name = "Cyclops' Visor"

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,180]
flag = RoundNotOver

;---------------------------------------------------------------------------
; WIN1 Cyclops' Visor
[Statedef 10181]
type = A
physics = N
anim = 10181
velset = 2.5,-7.5
ctrl = 0

[State 10181, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 10181, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 10181, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 10181, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 10181
trigger1 = Pos Y = 0
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
value = 20181

;---------------------------------------------------------------------------
; WIN2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 3,1
channel = 0

[State 182, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = 7,3
volume = 50

[State 182, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 10182
sprpriority = 1
postype = p1
pos = -5,-100
removetime = -1
bindtime = -1
ownpal = 1
id = 10182
name = "Win Pose 2 Explod"

[State 182, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,180]
flag = RoundNotOver

;---------------------------------------------------------------------------
; WIN3
[Statedef 183]
type = S
ctrl = 0
anim = 195
velset = 0,0

[State 183, Explod]
type = Explod
trigger1 = Time = 1
anim = 10195
sprpriority = 1
postype = p1
pos = 3,-12
bindtime = -1
ownpal = 1
id = 10195
name = "Taunt!!"

[State 183, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = 6,3
channel = 0

[State 183, ChangeAnim]
type = ChangeAnim
trigger1 = AnimElem = 4, >= 0
value = 195
elem = 4

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,180]
flag = RoundNotOver

;---------------------------------------------------------------------------
; WIN4
[Statedef 184]
type = S
ctrl = 0
anim = 195
velset = 0,0

[State 184, Explod]
type = Explod
trigger1 = Time = 1
anim = 10195
sprpriority = 1
postype = p1
pos = 3,-12
bindtime = -1
ownpal = 1
id = 10195
name = "Taunt!!"

[State 184, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = 6,4
channel = 0

[State 184, ChangeAnim]
type = ChangeAnim
trigger1 = AnimElem = 4, >= 0
value = 195
elem = 4

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,180]
flag = RoundNotOver

;---------------------------------------------------------------------------
; WIN5
[Statedef 185]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 185, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7, = 0
value = 6,5
channel = 0

[State 185, Helper]
type = Helper
trigger1 = AnimElem = 7, = 0
stateno = 10181
sprpriority = 1
postype = p1
pos = 57,-93
bindtime = 1
ownpal = 1
id = 10181
name = "Cyclops' Visor"

[State 185, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,180]
flag = RoundNotOver

;---------------------------------------------------------------------------
; INTRO(1)
[Statedef 191]
type = S
movetype = I
physics = N
anim = 191
velset = 0,0
ctrl = 0

; Like in vs Series, you always start with 1 power stock...
[State 190, PowerAdd]
type = PowerSet
triggerall = Roundno = 1
trigger1 = time = 0
value = 1000


[State 191, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 150
flag = Intro

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 10
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 11
time = 1
add = -20,-20,-20
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 12
time = 1
add = -20,-20,-20
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 13
time = 1
add = -40,-40,-40
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 14
time = 1
add = -40,-40,-40
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 15
time = 1
add = -60,-60,-60
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 15
time = 1
add = -60,-60,-60
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 16
time = 1
add = -80,-80,-80
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 17
time = 1
add = -80,-80,-80
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 18
time = 1
add = -100,-100,-100
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 19
time = 1
add = -100,-100,-100
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 20
time = 1
add = -80,-80,-80
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 21
time = 1
add = -80,-80,-80
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256


;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 22
time = 1
add = -60,-60,-60
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256


;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 23
time = 1
add = -60,-60,-60
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256


;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 24
time = 1
add = -40,-40,-40
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 25
time = 1
add = -40,-40,-40
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 26
time = 1
add = -20,-20,-20
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 27
time = 1
add = -20,-20,-20
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

;Generated by Fighter Factory PalFX Editor
[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 6, = 28
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 191, Helper]
type = Helper
trigger1 = AnimElem = 4, = 0
stateno = 20191
postype = p1
pos = 8,-128
bindtime = 1
ownpal = 1
id = 20191
name = "Jacket!!"
persistent = 0

[State 191, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6, = 0
value = 6,0
channel = 0
persistent = 0

[State 191, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 7,5
volumescale = 210

[State 191, Explod]
type = Explod
trigger1 = AnimElem = 6, = 30
anim = 10191
sprpriority = 1
postype = p1
pos = 0,-7
bindtime = -1
ownpal = 1
id = 10191
name = "Intro!!"
persistent = 0

[State 191, ChangeAnim]
type = Changestate
trigger1 = !AnimTime
value = 0

;---------------------------------------------------------------------------
; INTRO(1) Jacket
[Statedef 20191]
type = S
movetype = I
physics = N
anim = 20191
sprpriority = 2
velset = 0,0
ctrl = 0

[State 20191, VelSet]
type = VelSet
trigger1 = !Time
y = -10.6
x = 1.1

[State 20191, VelSet]
type = VelSet
trigger1 = time = 15
x = 0

[State 20191, VelAdd]
type = VelAdd
trigger1 = Vel Y < 0
y = .65

[State 20191, VelAdd]
type = VelAdd
trigger1 = Vel Y >= 0
y = .185

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > 0
trigger1 = Anim = 20191
value = 30191

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 30191
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
trigger1 = Pos Y > -60
value = 40191
elem = 1

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 30191
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
trigger1 = Pos Y > -60
value = 40191
elem = 2

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 30191
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = Pos Y > -60
value = 40191
elem = 3

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 30191
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
trigger1 = Pos Y > -60
value = 40191
elem = 4

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 30191
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
trigger1 = Pos Y > -60
value = 40191
elem = 5

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 30191
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 1, < 0
trigger1 = Pos Y > -60
value = 40191
elem = 6

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 40191
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
trigger1 = Pos Y > -30
value = 50191
elem = 1

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 40191
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
trigger1 = Pos Y > -30
value = 50191
elem = 2

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 40191
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = Pos Y > -30
value = 50191
elem = 3

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 40191
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
trigger1 = Pos Y > -30
value = 50191
elem = 4

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 40191
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
trigger1 = Pos Y > -30
value = 50191
elem = 5

[State 20191, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 40191
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 1, < 0
trigger1 = Pos Y > -30
value = 50191
elem = 6

[State 20191, DestroySelf]
type = DestroySelf
trigger1 = Pos Y > -10


;---------------------------------------------------------------------------
; TAUNT
[Statedef 195]
type = S
movetype = I
physics = S
;anim = 195
velset = 0,0
ctrl = 0

[State 195, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 195, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 10195
sprpriority = 1
postype = p1
pos = 3,-12
bindtime = -1
ownpal = 1
id = 10195

[State 195, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = 6,1
channel = 0

[State 195, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;---------------------------------Basics------------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; s. Jab
[Statedef 200]
type = S
movetype = A
physics = S
;anim = 200
juggle = 3
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 200, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 200, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0
volume = 50

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 5 && time % 1 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 200, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 9,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
ground.velocity = -5.5,0
airguard.velocity = -6,-2
air.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 9000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Strong
[Statedef 210]
type = S
movetype = A
physics = S
;anim = 210
juggle = 3
poweradd = 25
ctrl = 0

[State 210, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 210, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3,0
volume = 250

[State 210, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1
volume = 50

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 5 && time % 1 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 210, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = S,NA
hitflag  = MAF
guardflag = MA
animtype = Up
damage = 35,0
getpower = 50,0
givepower = 20,0
pausetime = 10,8
guard.pausetime = 12,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = S1,1
guardsound = S1,5
ground.type = High
ground.slidetime = 16
ground.hittime = 19
air.hittime = 20
guard.hittime = 17
yaccel = .75
ground.velocity = 0,-16.5
ground.cornerpush.veloff = 0
air.velocity = 0,-16.5
guard.velocity = -10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = 45,-60
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

[State 210, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Fierce
[Statedef 220]
type = S
movetype = A
physics = S
;anim = 220
poweradd = 50
juggle = 3
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 220, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 220, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 5 && time % 1 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 220, Helper]
type = Helper
trigger1 = AnimElem = 4, = 0
stateno = 221
postype = p1
pos = 1,-93
scale = 0.5, 1
bindtime = 1
ownpal = 1
id = 221
name = "s. Fierce!"

[State 220, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 222
sprpriority = 1
postype = p1
pos = 21,-93
bindtime = 1
ownpal = 1
id = 222
name = "s. Fierce!"

[State 220, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;--------------------------------------------------------------------------
; Fierce Projectile
[Statedef 221]
type = S
movetype = A
physics = N
velset = 9,0
anim = 221
sprpriority = 2
juggle = 3
ctrl = 0

[State 221, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 221, PlaySnd]
type = PlaySnd
trigger1 = !Time
trigger1 = PrevStateNo != 221
value = 7,0
volume = 50

[State 221, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = root, fvar(0)

[State 221, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 221, StateTypeSet]
type = StateTypeSet
trigger1 = parent, StateNo = 420
trigger1 = !Time
statetype = C

[State 221, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, NP
animtype = Light
damage = 63
hitflag = MAF
guardflag = MA
pausetime = 0, 1
sparkno = -1
sparkxy = 0,0
guard.sparkno = S8050
hitsound = S1,6
guardsound = S1,5
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -8.5,0
ground.cornerpush.veloff = 0
guard.velocity = -8.5
air.velocity = -13,0
airguard.velocity = -7,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1


[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 221, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 221, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 222
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 221, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 221, DestroySelf]
type = DestroySelf
trigger1 = FrontEdgeBodyDist < -70
trigger2 = MoveContact

;---------------------------------------------------------------------------
; Projectile Contact
[Statedef 222]
type = S
movetype = I
physics = N
ctrl = 0

[State 222, DestroySelf]
type = DestroySelf
trigger1 = 1

;---------------------------------------------------------------------------
; s. Short
[Statedef 230]
type = S
movetype = A
physics = S
;anim = 230
juggle = 3
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 230, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 230, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 230, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,0
volume = 50

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 5 && time % 1 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 230, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 20,0
getpower = 20,0
givepower = 20,0
pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
sparkno = S00000
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -4.5,0
ground.cornerpush.veloff = -6.5
ground.velocity = -4.5,0
air.velocity = -6,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 9000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 50)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 230, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Short Special
[Statedef 231]
type = S
movetype = A
physics = S
;anim = 231
juggle = 3
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 231, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 231, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 231, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,0
volume = 50

[State 231, HitDef]
type = HitDef
trigger1 = enemyNear, Anim != 5070
trigger1 = !MoveContact
attr = S, NA
animtype = Light
damage = 14
hitflag = MAFD
guardflag = MA
pausetime = 12, 12
sparkno = -1
sparkxy = 0,-54
hitsound = 1,1
guardsound = 1,5
guard.sparkno = S9999
ground.type = Low
ground.slidetime = 10
ground.hittime = 12
ground.velocity = -5
guard.slidetime = 11
guard.hittime = 11
air.velocity = -3
airguard.velocity = -6
ground.cornerpush.veloff = -9
fall.recovertime = 16
id = 1

[State 0]
type = explod;d4
trigger1 = movehit
persistent = 0
ignorehitpause = 1
sprpriority = 2
pos = p2dist x -10,p2dist y - 54
anim = 9991
scale = 0.48,0.48


[State 231, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Forward
[Statedef 240]
type = S
movetype = A
physics = S
;anim = 240
juggle = 3
poweradd = 25
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 240, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 240, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 240, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,1
volume = 50

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 5 && time % 1 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 240, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 35,0
getpower = 30,0
givepower = 20,0
pausetime = 9,7
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S1,1
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .88
ground.velocity = -8.3,0
ground.cornerpush.veloff = -11.5
air.velocity = -4,-6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Roundhouse
[Statedef 250]
type = S
movetype = A
physics = S
;anim = 250
juggle = 3
poweradd = 50
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 250, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 250, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 250, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3,0
channel = 0

[State 250, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,2
volume = 50

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 5 && time % 1 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 250, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Hard
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 12,13
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -13,0
air.velocity = -9,-2
ground.cornerpush.veloff = -16.5
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 95)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 250, ChangeState]
type = ChangeState
trigger1 = AnimElem = 6, > 0
trigger1 = command = "c"
value = 251

[State 250, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Roundhouse Special
[Statedef 251]
type = S
movetype = A
physics = S
;anim = 251
juggle = 3
poweradd = 50
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 251, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 251, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 251, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3,0
channel = 0

[State 251, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2
volume = 50

[State 251, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Hard
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 12,13
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -13,0
air.velocity = -9,-2
ground.cornerpush.veloff = -16.5
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 95)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 251, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; c. Jab
[Statedef 400]
type = C
movetype = A
physics = C
;anim = 400
juggle = 3
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 400, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 400, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0
volume = 50

[State 400, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = C,NA
hitflag = MAFD
guardflag = LA
animtype = light
damage = 30,0
getpower = 20,0
givepower = 20,0
pausetime = 8,6
guard.pausetime = 9,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-50
hitsound = S1,0
guardsound = S1,5
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -6.5,-8
airguard.velocity = -6,-2
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 9000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 45)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 400, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; c. Strong
[Statedef 410]
type = C
movetype = A
physics = C
;anim = 410
juggle = 3
poweradd = 25
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 410, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 410, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1
volume = 50

[State 210, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3,0
volume = 250

[State 410, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
animtype = Medium
damage = 25
hitflag = MAFD
guardflag = LA
pausetime = 10,8
guard.pausetime = 11,12
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S1,1
guardsound = S1,5
ground.type = Low
ground.slidetime = 13
ground.hittime = 15
air.hittime = 12
yaccel = .88
ground.velocity = -9.6,0
air.velocity = -7,-2
airguard.velocity = -6,-2
ground.cornerpush.veloff = -9.5
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 410, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; c. Fierce
[Statedef 420]
type = C
movetype = A
physics = C
;anim = 420
poweradd = 50
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 420, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 420, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 420, Helper]
type = Helper
trigger1 = AnimElem = 4, = 0
stateno = 221
postype = p1
pos = 21,-69
bindtime = 1
ownpal = 1
id = 221
name = "c. Fierce!"

[State 420, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 222
sprpriority = 1
postype = p1
pos = 32,-69
bindtime = 1
ownpal = 1
id = 422
name = "c. Fierce!"

[State 420, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; c. Short
[Statedef 430]
type = C
movetype = A
physics = C
;anim = 430
juggle = 3
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 430, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 430, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 430, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0
volume = 50

[State 430, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = C,NA
hitflag = MAFD
guardflag = LA
animtype = light
damage = 30,0
getpower = 20,0
givepower = 20,0
pausetime = 9,8
guard.pausetime = 9,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-50
hitsound = S1,0
guardsound = S1,5
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -6.5,0
air.velocity = -5,-2
airguard.velocity = -6,-2
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 9000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 25)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 430, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; c. Forward
[Statedef 440]
type = C
movetype = A
physics = C
;anim = 440
juggle = 3
poweradd = 25
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 440, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 440, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 440, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1
volume = 50

[State 210, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3,0
volume = 250

[State 440, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S,NA
hitflag  = MAFD
guardflag = MA
animtype = Up
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 10,9
guard.pausetime = 12,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = S1,1
guardsound = S1,5
ground.type = High
ground.slidetime = 16
ground.hittime = 19
air.hittime = 20
guard.hittime = 17
yaccel = .82
ground.velocity = -1,-5.5
ground.cornerpush.veloff = 0
air.velocity = -1,-5.5
guard.velocity = -10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 440, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; c. Forward
[Statedef 441]
type = C
movetype = A
physics = C
anim = 440
juggle = 3
poweradd = 25
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 440, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 440, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,1
volume = 50

[State 210, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3,0
volume = 250

[State 440, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S,NA
hitflag  = MAFD
guardflag = MA
animtype = Up
damage = 35,0
getpower = 50,0
givepower = 20,0
pausetime = 10,8
guard.pausetime = 12,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = S1,1
guardsound = S1,5
ground.type = High
ground.slidetime = 16
ground.hittime = 19
air.hittime = 20
guard.hittime = 17
yaccel = .75
ground.velocity = -2,-16.5
ground.cornerpush.veloff = 0
air.velocity = 0,-16.5
guard.velocity = -10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = 45,-60
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

[State 440, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; c. Roundhouse
[Statedef 450]
type = C
movetype = A
physics = C
;anim = 450
juggle = 3
poweradd = 50
facep2 = !(prevstateno = 9000) 
ctrl = 0

[State 450, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 450, VelSet]
type = VelSet
trigger1 = !Time
y = 0

[State 450, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,2
volume = 50

[State 450, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = C,NA
hitflag  = MAFD
guardflag = LA
animtype = Hard
damage = 75,0
getpower = 30,0
givepower = 20,0
pausetime = 9,8
guard.pausetime = 9,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-5
hitsound = S1,2
guardsound = S1,5
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .53
ground.velocity = 0,-4
ground.cornerpush.veloff = 0
air.velocity = 0,-4
guard.velocity = -10
airguard.velocity = -6,-2
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 15)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 450, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; j. Jab
[Statedef 600]
type = A
movetype = A
physics = A
;anim = 600
ctrl = 0

[State 600, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,0
volume = 50

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 600, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Light
damage = 22,0
getpower = 20,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
air.velocity = -0.6,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 9000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
trigger1 = animelem = 5
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Strong
[Statedef 610]
type = A
movetype = A
physics = A
;anim = 610
poweradd = 25
ctrl = 0

[State 610, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 610, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,1
volume = 50

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(50) = 1

[State 610, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3,0
volume = 250

[State 600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 6
value = 1

[State 610, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Up
damage = 25,0
getpower = 30,0
givepower = 20,0
pausetime = 9,10
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,1
guardsound = S1,5
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .92
ground.velocity = -12,0
ground.cornerpush.veloff = -9
air.cornerpush.veloff = 0
air.velocity = -3,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
trigger1 = animelem = 6
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Strong Special
[Statedef 611]
type = A
movetype = A
physics = A
;anim = 611
poweradd = 25
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 611, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 611, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,1
volume = 50

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(50) = 1

[State 610, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Back
damage = 25,0
getpower = 30,0
givepower = 20,0
pausetime = 9,10
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,1
guardsound = S1,5
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .92
ground.velocity = -12,0
ground.cornerpush.veloff = -9
air.cornerpush.veloff = 0
air.velocity = -6,6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
trigger1 = animelem = 6
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Fierce
[Statedef 620]
type = A
movetype = A
physics = A
;anim = 620
poweradd = 50
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 620, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 620, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,2
volume = 50

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(50)
trigger1 = var(18) > 1 && var(19) > 0
var(50) = 1

[State 620, HitDef]
type = HitDef
trigger1 = !var(50) && animelem = 4
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 45,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -14,13
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620, HitDef]
type = HitDef
trigger1 = var(50) && animelem = 4
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Hard
damage = 45,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -14,13
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -60
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
trigger1 = animelem = 8
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Fierce Special
[Statedef 621]
type = A
movetype = A
physics = A
;anim = 621
poweradd = 50
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 621, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 621, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2
volume = 50

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(50)
trigger1 = var(18) > 1 && var(19) > 0
var(50) = 1

[State 620, HitDef]
type = HitDef
trigger1 = !var(50) && animelem = 4
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 55,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -1,15
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620, HitDef]
type = HitDef
trigger1 = var(50) && animelem = 4
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Hard
damage = 55,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -11,13
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 621, ChangeState]
type = ChangeState
trigger1 = animelem = 6
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Short
[Statedef 630]
type = A
movetype = A
physics = A
;anim = 630
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 630, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 630, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0
volume = 50

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(50) = 1

[State 630, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Light
damage = 22,0
getpower = 20,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
air.velocity = -0.6,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 9000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
trigger1 = animelem = 4
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Short Special
[Statedef 631]
type = A
movetype = A
physics = A
;anim = 631
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 631, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 631, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,0
volume = 50

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(50) = 1

[State 631, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Light
damage = 22,0
getpower = 20,0
givepower = 20,0
pausetime = 9,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 12
yaccel = .92
ground.velocity = -6.5,0
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
air.velocity = -0.6,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 631, ChangeState]
type = ChangeState
trigger1 = animelem = 4
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Forward
[Statedef 640]
type = A
movetype = A
physics = A
;anim = 640
poweradd = 25
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 640, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 640, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,1
volume = 50

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(50) = 1

[State 640, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Up
damage = 25,0
getpower = 30,0
givepower = 20,0
pausetime = 9,10
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,1
guardsound = S1,5
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .92
ground.velocity = -12,0
ground.cornerpush.veloff = -9
air.cornerpush.veloff = 0
air.velocity = -3,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
trigger1 = animelem = 7
value = 1211
ctrl = 1
;---------------------------------------------------------------------------
; j. Forward Special
[Statedef 641]
type = A
movetype = A
physics = A
;anim = 641
poweradd = 25
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 641, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 641, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,1
volume = 50

[State 610, VarSet]
type = VarSet
trigger1 = numtarget && prevstateno = [600,800)
trigger1 = target,statetype = A
var(50) = 1

[State 641, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Back
damage = 25,0
getpower = 30,0
givepower = 20,0
pausetime = 9,10
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,1
guardsound = S1,5
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime = 12
air.hittime = 12
yaccel = .92
ground.velocity = -12,0
ground.cornerpush.veloff = -9
air.cornerpush.veloff = 0
air.velocity = -6,6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -65
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 641, ChangeState]
type = ChangeState
trigger1 = animelem = 7
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Roundhouse
[Statedef 650]
type = A
movetype = A
physics = A
;anim = 650
poweradd = 50
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 650, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 650, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2
volume = 50

[State 610, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3,0
volume = 250

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(50)
trigger1 = var(18) > 1 && var(19) > 0
var(50) = 1

[State 620, HitDef]
type = HitDef
trigger1 = !var(50) && animelem = 3
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 45,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -14,13
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620, HitDef]
type = HitDef
trigger1 = var(50) && animelem = 3
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Hard
damage = 45,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -14,13
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
trigger1 = animelem = 9
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; j. Roundhouse Special
[Statedef 651]
type = A
movetype = A
physics = A
;anim = 651
poweradd = 50
juggle = 1
facep2 = (var(10) && PrevStateNo != 9000)
ctrl = 0

[State 651, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 651, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2
volume = 50

[State 620, VarSet]
type = VarSet
trigger1 = time = 0 && !var(50)
trigger1 = var(18) > 1 && var(19) > 0
var(50) = 1

[State 620, HitDef]
type = HitDef
trigger1 = !var(50) && animelem = 3
attr = A,NA
hitflag = MAFD
guardflag = MA
animtype = Back
damage = 45,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-45
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -16,13
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
id = 2+4

[State 620, HitDef]
type = HitDef
trigger1 = var(50) && animelem = 3
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Hard
damage = 45,0
getpower = 50,0
givepower = 20,0
pausetime = 10,10
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-35
hitsound = S1,2
guardsound = S1,5
ground.type = High
ground.slidetime = 12
ground.hittime = 14
air.hittime = 12
yaccel = .53
ground.velocity = -12,0
ground.cornerpush.veloff = -16.5
air.cornerpush.veloff = 0
air.velocity = -16,13
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -3
air.fall = 1
fall.recover = 0
fall.envshake.time = 10
id = 4+64

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 620, ChangeState]
type = ChangeState
trigger1 = animelem = 6
value = 1211
ctrl = 1

; Oo 
[Statedef 710]
type    = S
movetype = A
physics = S
anim = 9999
sprpriority = 1
velset = 0,0
ctrl = 0

[State 810, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 810, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 810, PosSet]
type = PosSet
trigger1 = 1
x = -180 * facing
y = 0

[State 810, VarSet]
type = VarSet
trigger1 = time = 0
var(57) = 0

[State 810, ChangeState]
type = ChangeState
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target,stateno = 5110
value = 100

;---------------------------------------------------------------------------
; s. Strong Throw
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 800, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitflag = M
guardflag = 
pausetime = 0, 0
hitsound = S1,7
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 801
p2stateno = 802
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2

[State 800, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Strong Throwing
[Statedef 801]
type = S
movetype = I
physics = N
velset = 0,0
anim = 800
sprpriority = 1
ctrl = 0

[State 901, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
pos = ceil(-45*const(size.xscale)),ceil(-83*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 801, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 800
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 23,0

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 800
trigger1 = AnimElem = 2, >= 0
pos = -5,-138

[State 801, VarSet]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = Anim = 800
trigger1 = !AnimTime
var(6) = 802

[State 801, VarSet]
type = VarSet
trigger1 = command = "holdback"
trigger1 = Anim = 800
trigger1 = !AnimTime
var(6) = 803

[State 801, VarSet]
type = VarSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = Anim = 800
trigger1 = !AnimTime
var(6) = 801

[State 801, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 800
trigger1 = !AnimTime
trigger1 = var(6) != 0
value = var(6)

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
pos = -12,-68

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
pos = 17,-59

[State 801, TargetBind]
type = TargetBind
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
pos = -17,-54

[State 801, Explod]
type = Explod
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
anim = 10801
sprpriority = 2
postype = p1
pos = -7,-122
bindtime = -1
ownpal = 1
id = 10801
name = "s. Throw Strong Up Explod"
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 801
trigger1 = AnimElem = 1, = 0
anim = 998
sprpriority = 2
postype = p2
pos = -5,-100
removetime = 20
bindtime = -1
ownpal = 1
id = 998
name = "s. Throw Strong Up Explod"
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
anim = 10802
sprpriority = 2
postype = p1
pos = 1,-119
bindtime = -1
ownpal = 1
id = 10802
name = "s. Throw Strong Forward Explod"
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 802
trigger1 = AnimElem = 1, = 0
anim = 999
sprpriority = 2
postype = p2
pos = -40,-110
facing = facing * -1
removetime = 20
bindtime = -1
ownpal = 1
id = 999
name = "s. Throw Strong Forward Explod"
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
anim = 10803
sprpriority = 2
postype = p1
pos = -4,-117
bindtime = -1
ownpal = 1
id = 10803
name = "s. Throw Strong Backward Explod"
persistent = 0

[State 801, Explod]
type = Explod
trigger1 = Anim = 803
trigger1 = AnimElem = 1, = 0
anim = 999
sprpriority = 2
postype = p2
pos = 40,-110
removetime = 20
bindtime = -1
ownpal = 1
id = 999
name = "s. Throw Strong Forward Explod"
persistent = 0

[State 801, PlaySnd]
type = PlaySnd
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = AnimElem = 1, = 0
value = 7,4
volume = 50

[State 801, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = AnimElem = 6, = 0
value = ceil(-196 * (fvar(0)))

[State 801, VarSet]
type = VarSet
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = !AnimTime
var(6) = 0

[State 801, ChangeState]
type = ChangeState
trigger1 = Anim = 801 || Anim = 802 || Anim = 803
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Strong Thrown
[Statedef 802]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 804

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 801
trigger1 = AnimElem = 3, = 0
value = 804
elem = 3
persistent = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 802
trigger1 = AnimElem = 3, = 0
value = 805
elem = 3
persistent = 0

[State 802, ChangeAnim2]
type = ChangeAnim2
trigger1 = EnemyNear, Anim = 803
trigger1 = AnimElem = 3, = 0
value = 806
elem = 3
persistent = 0

[State 802, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 3, < 0
value = 0

[State 802, PosAdd]
type = PosAdd
trigger1 = Anim = 804
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
y = -13

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 804
trigger1 = AnimElem = 4, = 0
y = -8.5

[State 802, Turn]
type = Turn
trigger1 = Anim = 806
trigger1 = AnimElem = 3, = 0

[State 802, PosAdd]
type = PosAdd
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = BackEdgeDist > 10
x = -8.5
y = -8

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
trigger1 = BackEdgeDist <= 10
x = 0
y = 0

[State 802, VelSet]
type = VelSet
trigger1 = Anim = 805 || Anim = 806
trigger1 = AnimElem = 4, = 0
x = -6.25
y = -8.25

[State 802, SelfState]
type = SelfState
trigger1 = Alive
trigger1 = !AnimTime
value = 50
ctrl = 1

[State 802, SelfState]
type = SelfState
trigger1 = !Alive
trigger1 = !AnimTime
value = 5040

;---------------------------------------------------------------------------
; s. Fierce Throw
[Statedef 820]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 820, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 820, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitflag = M
guardflag = 
pausetime = 0, 0
sparkno = -1
hitsound = S1,7
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2
fall = 1
fall.recover = 0
p1stateno = 821
p2stateno = 822

[State 800, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Fierce Throwing
[Statedef 821]
type = S
movetype = I
physics = N
velset = 0,0
anim = 820
sprpriority = 1
ctrl = 0

[State 901, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
pos = ceil(-45*const(size.xscale)),ceil(-83*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 821, VarSet]
type = VarSet
trigger1 = !Time
var(6) = facing

[State 821, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 23,0

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = -5,-138

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -15,-98

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 87,0

[State 821, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2, = 0
value = 3,1
channel = 0

[State 821, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = 0,7
volume = 50

[State 821, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, = 0
pos = 60,0

[State 821, Turn]
type = Turn
trigger1 = command = "holdback2"
trigger1 = AnimElem = 3, = 0

[State 821, EnvShake]
type = EnvShake
trigger1 = AnimElem = 4, = 0
time = 10
ampl = -6

[State 5100, 8]
type = Explod
trigger1 = AnimElem = 4
anim = 8010
pos = 60, 0
sprpriority = 5
ownpal = 1

[State 821, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 4, = 0
value = ceil(-196 * (fvar(0)))

[State 821, VarSet]
type = VarSet
trigger1 = !AnimTime
var(6) = 0

[State 821, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Fierce Thrown
[Statedef 822]
type = A
movetype = H
physics = N
sprpriority = 0
facep2 = 1
ctrl = 0

[State 822, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 821

[State 822, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 4, < 0
value = 0

[State 822, Turn]
type = Turn
trigger1 = facing = enemyNear, facing

[State 822, VelSet]
type = VelSet
trigger1 = animelem = 5
x = -10.5
y = -42

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = gethitvar(yaccel)

[State 0, VelMul]
type = VelMul
trigger1 = 1
y = 0.76

[State 822, SelfState]
type = SelfState
trigger1 = time = 39
value = 5040

;---------------------------------------------------------------------------
; s. Roundhouse Throw
[Statedef 830]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 798
ctrl = 0

[State 830, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 798
value = 798

[State 830, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitflag = M
guardflag = 
pausetime = 0, 0
sparkno = -1
hitsound = S1,7
fall = 1
fall.recover = 0
p1stateno = 831
p2stateno = 832
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2

[State 830, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Roundhouse Throwing
[Statedef 831]
type = S
movetype = I
physics = N
velset = 0,0
anim = 830
sprpriority = 1
ctrl = 0

[State 831, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 901, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
pos = ceil(-45*const(size.xscale)),ceil(-83*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 831, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 13, < 0
pos = 50,0

[State 831, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = 7,4
volume = 50

[State 831, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 10830
sprpriority = 2
postype = p1
pos = 17,-98
bindtime = -1
ownpal = 1
id = 10830
name = "s. Throw Roundhouse Explod"
persistent = 0

[State 831, Explod]
type = Explod
trigger1 = AnimElem = 3, = 0
anim = 997
sprpriority = 2
postype = p1
pos = 100,-105
removetime = 30
bindtime = -1
ownpal = 1
id = 997
name = "s. Throw Roundhouse Explod"
persistent = 0

[State 831, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 13, = 0
value = ceil(-171 * (fvar(0)))

[State 831, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; s. Roundhouse Thrown
[Statedef 832]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 832, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 831

[State 832, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -15
y = -4

[State 822, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 843

;---------------------------------------------------------------------------
; c. Roundhouse Throw
[Statedef 840]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
;anim = 797
ctrl = 0

[State 840, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 797
value = 797

[State 840, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitflag = M
guardflag = 
pausetime = 0, 0
sparkno = -1
hitsound = S1,7
fall = 1
fall.recover = 0
p1stateno = 841
p2stateno = 842
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2

[State 840, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; c. Roundhouse Throwing
[Statedef 841]
type = S
movetype = I
physics = N
velset = 0,0
anim = 840
sprpriority = 1
ctrl = 0

[State 901, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
pos = ceil(-45*const(size.xscale)),ceil(-83*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 841, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 66,-102

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 59,-93

[State 841, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, = 0
pos = -57,-60

[State 841, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 3, = 0
value = ceil(-145 * (fvar(0)))

[State 841, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = 3,1
channel = 0

[State 841, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; c. Roundhouse Thrown
[Statedef 842]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 842, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 841

[State 842, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 3, < 0
value = 0

[State 842, Turn]
type = Turn
trigger1 = !Time
trigger1 = facing = enemyNear, facing

[State 842, Turn]
type = Turn
trigger1 = !AnimTime

[State 842, VelSet]
type = VelSet
trigger1 = !AnimTime
x = -13
y = -5.5

[State 842, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 843

;---------------------------------------------------------------------------
; c. Roundhouse Thrown 2
[Statedef 843]
type = A
movetype = H
physics = N
anim = 5050
sprpriority = 0
ctrl = 0

[State 843, PosSet]
type = PosSet
trigger1 = !Time
y = -10

[State 843, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 843, PosFreeze]
type = PosFreeze
trigger1 = BackEdgeBodyDist < 5
time = 15
persistent = 0

[State 843, VelSet]
type = VelSet
trigger1 = BackEdgeBodyDist < 5
x = 0.75
y = 1.8
persistent = 0

[State 843, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 843, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 843, EnvShake]
type = EnvShake
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
trigger2 = BackEdgeBodyDist < 5
time = 10
ampl = -6

[State 843, SelfState]
type = SelfState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 5110

;---------------------------------------------------------------------------
; j. Fierce Throw Forward
[Statedef 850]
type = A
movetype = A
physics = A
poweradd = 100
;anim = 799
ctrl = 0

[State 850, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 796
value = 799

[State 850, HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NT
damage = 0
hitsound = S1,7
hitflag = AF
guardflag = 
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
fall.envshake.time = 10
fall.envshake.freq = 100
fall.envshake.ampl = -2
p1stateno = 851
p2stateno = 852

[State 850, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; j. Fierce Throwing Forward
[Statedef 851]
type = A
movetype = I
physics = N
velset = 0,0
anim = 850
sprpriority = 1
ctrl = 0

[State 901, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
pos = ceil(-45*const(size.xscale)),ceil(-83*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 851, VarAdd]
type = VarAdd
trigger1 = !Time
var(9) = 1

[State 851, ChangeAnim]
type = ChangeAnim
trigger1 = Pos Y < -95
value = 850
elem = 1

[State 851, VarSet]
type = VarSet
trigger1 = !Time
var(10) = 0

[State 851, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = 7,4
volume = 50

[State 851, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 10850
sprpriority = 2
postype = p1
pos = 7,-106
bindtime = -1
ownpal = 1
id = 10850
name = "j. Throw Fierce Explod"
persistent = 0

[State 851, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 996
sprpriority = 2
postype = p2
pos = 7,0
removetime = 8
bindtime = -1
ownpal = 1
id = 996
name = "j. Throw Fierce Explod"
persistent = 0

[State 851, VelAdd]
type = VelAdd
trigger1 = AnimElem = 3, = 0
y = 1

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 21,-91

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 38,-82

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 13,-57

[State 851, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, = 0
pos = 0,-30

[State 851, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 4, = 0
value = ceil(-182 * (fvar(0)))

[State 851, Gravity]
type = Gravity
trigger1 = AnimElem = 1

[State 851, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 851, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 851, VelSet]
type = VelSet
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
trigger2 = !AnimTime
x = -3.25
y = -8.25

[State 851, ChangeState]
type = ChangeState
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
trigger2 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; j. Fierce Thrown
[Statedef 852]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 852, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 851

[State 852, ChangeAnim2]
type = ChangeAnim2
trigger1 = enemyNear, Pos Y < -75
value = 851
elem = 1

[State 852, ScreenBound]
type = ScreenBound
trigger1 = AnimElem = 4, < 0
value = 0

[State 852, VelSet]
type = VelSet
trigger1 = AnimElem = 4
y = 29

[State 852, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 852, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0
persistent = 0

[State 852, EnvShake]
type = EnvShake
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
time = 10
ampl = -6

[State 852, SelfState]
type = SelfState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 5110


;---------------------------------------------------------------------------
;---------------------------------Specials----------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Optic Blast X
[Statedef 1000]
type = C
movetype = A
physics = C
velset = 0,0
poweradd = 100
ctrl = 0

[State 1000, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,0
channel = 0

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = 7,4
volume = 50

[State 1000, Helper]
type = Helper
trigger1 = AnimElem = 5, = 0
stateno = 21000
postype = p1
pos = 25,-92
bindtime = -1
ownpal = 1
id = 21000
persistent = 0
name = "Optic Blast Attacking Beam"

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 11000
sprpriority = 2
postype = p1
pos = 10,-67
scale = 1, 1.15
bindtime = -1
ownpal = 1
id = 11000
name = "Optic Blast Explod"
pausemovetime = 999999

[State 1000, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast X Attacking Beam
[Statedef 21000]
type = S
movetype = A
physics = N
velset = 0,0
sprpriority = 0
hitcountpersist = 1
;anim = 11000
ctrl = 0

[State 21000, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 11000
value = 11000
ignorehitpause = 1

[State 21000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 21000, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 21000, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X + 10
y = parent, Pos Y - 71
ignorehitpause = 1

[State 21000, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X - 10
y = parent, Pos Y - 71
ignorehitpause = 1

[State 21000, VarSet]
type = VarSet
trigger1 = MoveContact = 1
fvar(0) = floor(p2dist X)
persistent = 0
ignorehitpause = 1

[State 21001, HitDef]
type = HitDef
trigger1 = !MoveContact
trigger1 = !var(0)
attr = S, SP
animtype = Hard
damage = 60,7
sprpriority = 1
hitflag = MA
guardflag = MA
pausetime = 11,9
guard.sparkno = S8050
sparkno = S9999
hitsound = S1,6
guardsound = S1,5
ground.type = High
ground.slidetime = 24
ground.hittime = 24
ground.velocity = -16
guard.slidetime = 11
guard.hittime = 11
yaccel = .85
air.velocity = -11,2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 32014, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 60)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 21450]
type = varset
trigger1 = Time = 0
var(49) = 0

[State 21450]
type = varset
trigger1 = movecontact
trigger1 = enemynear,movetype = h
var(49) = floor(abs(enemynear,Pos X - Parent,Pos X)/32)-1
ignorehitpause  = 1

[State 21450]
type = ChangeAnim
trigger1 = movecontact
trigger1 = enemynear,movetype = h
trigger1 = var(49) = [1,9]
value = 11001
elem = var(49) + (!var(49))
ignorehitpause  = 1

[State 21000, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 21000, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 21000
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 21000, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 21000, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1
var(0) = 1
persistent = 0
ignorehitpause = 1

[State 21000, VarAdd]
type = VarAdd
trigger1 = var(0) > 0
var(0) = 1
ignorehitpause = 1

[State 21000, ParentVarSet]
type = ParentVarSet
trigger1 = Random < 100
trigger1 = var(59)
var(39) = 1
persistent = 0
ignorehitpause = 1

[State 21000, ChangeState]
type = ChangeState
trigger1 = var(0) = 1
value = 21000
ignorehitpause = 1

[State 21000, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1000
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast Y
[Statedef 1001]
type = S
movetype = A
physics = S
velset = 0,0
hitcountpersist = 1
poweradd = 100
ctrl = 0

[State 1001, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1001, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1001, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,0
channel = 0

[State 1001, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5, = 0
value = 7,4
volume = 50

[State 1001, Explod]
type = Explod
trigger1 = AnimElem = 5, = 0
anim = 11000
sprpriority = 2
postype = p1
pos = 26,-109
bindtime = -1
ownpal = 1
id = 11000
name = "Optic Blast Explod"
pausemovetime = 999999

[State 1001, Helper]
type = Helper
trigger1 = AnimElem = 5, = 0
stateno = 21001
postype = p1
pos = 30,-114
bindtime = -1
ownpal = 1
id = 21001
persistent = 0
name = "Optic Blast Attacking Beam"

[State 1000, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast Y Attacking Beam
[Statedef 21001]
type = S
movetype = A
physics = N
velset = 0,0
;anim = 11000
ctrl = 0

[State 21001, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 11000
value = 11000
ignorehitpause = 1

[State 21001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 21001, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 21001, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X + 30
y = parent, Pos Y - 114
ignorehitpause = 1
[State 21001, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X - 30
y = parent, Pos Y - 114
ignorehitpause = 1

[State 21001, VarSet]
type = VarSet
trigger1 = MoveContact = 1
fvar(0) = floor(p2dist X)
persistent = 0
ignorehitpause = 1

[State 21001, HitDef]
type = HitDef
trigger1 = !MoveContact
trigger1 = !var(0)
attr = S, SP
animtype = Hard
damage = 60,7
sprpriority = 1
hitflag = MA
guardflag = MA
pausetime = 11,9
guard.sparkno = S8050
sparkno = S9999
hitsound = S1,6
guardsound = S1,5
ground.type = High
ground.slidetime = 24
ground.hittime = 24
ground.velocity = -16
guard.slidetime = 11
guard.hittime = 11
yaccel = .85
air.velocity = -11,2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 32014, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 21001, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 21001, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 21001
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 21001, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 21001, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1
var(0) = 1
persistent = 0
ignorehitpause = 1

[State 21001, VarAdd]
type = VarAdd
trigger1 = var(0) > 0
var(0) = 1
ignorehitpause = 1

[State 21001, ParentVarSet]
type = ParentVarSet
trigger1 = Random < 100
trigger1 = var(59)
var(39) = 1
persistent = 0
ignorehitpause = 1

[State 21001, ChangeState]
type = ChangeState
trigger1 = var(0) = 1
value = 21001
ignorehitpause = 1

[State 21001, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1001
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Blast Z
[Statedef 1002]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1002, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1002, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1002, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,0
channel = 0

[State 1002, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = 7,4
volume = 50

[State 1002, Helper]
type = Helper
trigger1 = AnimElem = 4, = 0
stateno = 21002
postype = p1
pos = 16,-110
bindtime = -1
ownpal = 1
persistent = 0
id = 21002
name = "Optic Blast Attacking Beam"

[State 1000, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 11002
sprpriority = 2
postype = p1
pos = 14,-114
scale = 1, 1.15
bindtime = -1
ownpal = 1
id = 11002
name = "Optic Blast Explod"
pausemovetime = 999999

[State 1002, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Blast Z Attacking Beam
[Statedef 21002]
type = S
movetype = A
physics = N
hitcountpersist = 1
velset = 0,0
;anim = 11002
sprpriority = 2
ctrl = 0

[State 21002, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 11003
value = 11003
ignorehitpause = 1

[State 21002, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 21002, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 21002, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X + 16
y = parent, Pos Y - 118
ignorehitpause = 1

[State 21002, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X - 16
y = parent, Pos Y - 118
ignorehitpause = 1

[State 21002, VarSet]
type = VarSet
trigger1 = MoveContact = 1
fvar(0) = floor(p2dist X)
persistent = 0
ignorehitpause = 1

[State 21002, HitDef]
type = HitDef
trigger1 = !MoveContact
trigger1 = !var(0)
attr = S, SP
animtype = Hard
damage = 60,7
sprpriority = 1
hitflag = MA
guardflag = MA
pausetime = 11,9
guard.sparkno = S8050
sparkno = S9999
hitsound = S1,6
guardsound = S1,5
ground.type = High
ground.slidetime = 24
ground.hittime = 24
ground.velocity = -16
guard.slidetime = 11
guard.hittime = 11
yaccel = .80
air.velocity = -7,2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 32014, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 21002, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 21002, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 21002
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 21002, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 21002, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1
var(0) = 1
persistent = 0
ignorehitpause = 1

[State 21002, VarAdd]
type = VarAdd
trigger1 = var(0) > 0
var(0) = 1
ignorehitpause = 1


[State 21002, ChangeState]
type = ChangeState
trigger1 = var(0) < 3
trigger1 = MoveContact
value = 21002
ignorehitpause = 1

[State 21002, ParentVarSet]
type = ParentVarSet
trigger1 = Random < 100
trigger1 = var(59)
var(39) = 1
persistent = 0
ignorehitpause = 1

[State 21002, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1002
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Air Optic Blast
[Statedef 1100]
type = A
movetype = A
physics = N
sprpriority = 0
poweradd = 100
ctrl = 0

[State 1100, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1010
value = 1010

[State 1100, VelMul]
type = VelMul
trigger1 = !Time
x = .075
y = .125 ;.2

[State 1100, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,0
channel = 0

[State 1100, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
value = 7,4
volume = 50

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 11000
sprpriority = 1
postype = p1
pos = 34,-111
bindtime = -1
ownpal = 1
id = 11100
name = "Optic Blast Explod"
pausemovetime = 999999

[State 1100, Helper]
type = Helper
trigger1 = AnimElem = 4, = 0
stateno = 21100
postype = p1
pos = 39,-115
bindtime = -1
ownpal = 1
id = 21100
name = "Optic Blast Attacking Beam"

[State 1100, PosSet]
type = PosSet
trigger1 = Pos Y > -5
y = -5

[State 1100, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; Air Optic Blast Attacking Beam
[Statedef 21100]
type = S
movetype = A
physics = N
velset = 0,0
;anim = 11000
ctrl = 0

[State 21100, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 11000
value = 11000
ignorehitpause = 1

[State 21100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 21100, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 21100, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X + 39
y = parent, Pos Y - 115
ignorehitpause = 1

[State 21100, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X - 39
y = parent, Pos Y - 115
ignorehitpause = 1

[State 21100, VarSet]
type = VarSet
trigger1 = MoveContact = 1
fvar(0) = floor(p2dist X)
persistent = 0
ignorehitpause = 1

[State 21001, HitDef]
type = HitDef
trigger1 = !MoveContact
trigger1 = !var(0)
attr = S, SP
animtype = Hard
damage = 60,7
sprpriority = 1
hitflag = MA
guardflag = MA
pausetime = 11,9
guard.sparkno = S8050
sparkno = S9999
hitsound = S1,6
guardsound = S1,5
ground.type = High
ground.slidetime = 24
ground.hittime = 24
ground.velocity = -16
guard.slidetime = 11
guard.hittime = 11
yaccel = .80
air.velocity = -7,2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 32014, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 90)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 21100, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 21100, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 21100
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 21100, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 21100, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1
var(0) = 1
persistent = 0
ignorehitpause = 1

[State 21100, VarAdd]
type = VarAdd
trigger1 = var(0) > 0
var(0) = 1
ignorehitpause = 1

[State 21100, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 997
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),0
bindtime = 1
ownpal = 1
id = 997
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 21100, ChangeState]
type = ChangeState
trigger1 = var(0) = 1
value = 21100
ignorehitpause = 1

[State 21100, ParentVarSet]
type = ParentVarSet
trigger1 = Random < 100
trigger1 = var(59)
var(39) = 1
persistent = 0
ignorehitpause = 1

[State 21100, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1100
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Optic Sweep
[Statedef 1050]
type = C
movetype = A
physics = C
velset = 0,0
poweradd = 100
ctrl = 0

[State 1050, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1050, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1050, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 11050
sprpriority = 1
postype = p1
pos = 3,0
bindtime = -1
ownpal = 1
id = 11050
name = "Optic Sweep Beam"
pausemovetime = 999999

[State 1050, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 21050
sprpriority = 4
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
id = 21050
name = "Optic Sweep Glare"
pausemovetime = 999999

[State 1050, Helper]
type = Helper
trigger1 = AnimElem = 1, = 0
stateno = 21050
postype = p1
pos = 10,0
bindtime = -1
ownpal = 1
id = 21050
name = "Optic Sweep Attacking Beam"

[State 1050, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,3
channel = 0

[State 1050, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5, = 0
value = 7,4
volume = 50

[State 1050, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 1050
trigger1 = !AnimTime
value = 12

[State 1050, ChangeState]
type = ChangeState
trigger1 = Anim = 12
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Sweep Attacking Beam
[Statedef 21050]
type = C
movetype = A
physics = N
velset = 0,0
;anim = 11050
ctrl = 0

[State 21050, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 11050
value = 11050
ignorehitpause = 1

[State 21050, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 21050, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 21050, PosSet]
type = PosSet
trigger1 = 1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 21050, VarSet]
type = VarSet
trigger1 = MoveContact = 1
fvar(0) = floor(p2dist X)
persistent = 0
ignorehitpause = 1

[State 21001, HitDef]
type = HitDef
trigger1 = !MoveContact
trigger1 = !var(0)
attr = S, SP
animtype = Hard
damage = 60,7
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 13,8
guard.sparkno = S8050
sparkno = S9999
hitsound = S1,6
guardsound = S1,5
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .53
ground.velocity = 0,-4
ground.cornerpush.veloff = 0
air.velocity = 0,-4
guard.velocity = -10
airguard.velocity = -6,-2
down.velocity = -4,-6
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 32014, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 30)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 21050, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 21050, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 21050
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 21050, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 21050, VarAdd]
type = VarAdd
trigger1 = MoveContact = 1
var(0) = 1
persistent = 0
ignorehitpause = 1

[State 21050, VarAdd]
type = VarAdd
trigger1 = var(0) > 0
var(0) = 1
ignorehitpause = 1

[State 21050, Explod]
type = Explod
trigger1 = MoveHit = 1
anim = 10999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),0
bindtime = 1
ownpal = 1
id = 997
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 21050, ParentVarAdd]
type = ParentVarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 21050, ChangeState]
type = ChangeState
trigger1 = var(0) = 1
value = 21050
ignorehitpause = 1

[State 21050, VarSet]
type = VarSet
trigger1 = MoveHit
var(59) = 15
persistent = 0
ignorehitpause = 1

[State 21050, VarAdd]
type = VarAdd
trigger1 = var(59) > 0
var(59) = -1
ignorehitpause = 1

[State 21050, ParentVarSet]
type = ParentVarSet
trigger1 = Random < 100
trigger1 = var(59)
var(39) = 1
persistent = 0
ignorehitpause = 1

[State 21050, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 1050
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Gene Splice X Ground
[Statedef 1400]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1400, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1400, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,1
channel = 0
volumescale = 244

[State 1400, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1400, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1401

;---------------------------------------------------------------------------
; Gene Splice X Air One
[Statedef 1401]
type = A
movetype = A
physics = N
velset = 8,-9
juggle = 2
ctrl = 0

[State 1401, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1401, VelAdd]
type = VelAdd
trigger1 = Vel X > 0
x = -1

[State 1401, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .675

[State 1401, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .8

[State 1401, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1401, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1401, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 6
x = 0

[State 1401, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 10
y = 0

[State 210, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 32,7
hitflag = MA
guardflag = MA
pausetime = 7, 3
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.type = Low
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1401, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1401, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1402

[State 1401, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice X Air Two
[Statedef 1402]
type = A
movetype = A
physics = N
velset = 0,-7
ctrl = 0

[State 1402, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1402, Gravity]
type = Gravity
trigger1 = 1

[State 1402, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
animtype = Medium
damage = 22,7
hitflag = MA
guardflag = MA
ground.type = Low
pausetime = 7, 5
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1402, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice X Blast
[Statedef 1403]
type = A
movetype = I
physics = N
ctrl = 0

[State 1403, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1403, Gravity]
type = Gravity
trigger1 = 1

[State 1403, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1403, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 1403, Helper]
type = Helper
trigger1 = AnimElem = 1, = 0
stateno = 1404
postype = p1
pos = 4,-39
bindtime = 1
ownpal = 1
id = 1404
name = "Gene Splice Blast"

[State 1403, ChangeAnim]
type = ChangeAnim
trigger1 = !AnimTime
value = 44

[State 1403, ChangeState]
type = ChangeState
trigger1 = Pos Y = 0
trigger1 = Vel Y = 0
value = 1430

;--------------------------------------------------------------------------
; Gene Splice Blast
[Statedef 1404]
type = S
movetype = A
physics = N
velset = 0,-9
anim = 1404
sprpriority = 3
juggle = 2
ctrl = 0

[State 1404, AssertSpecial]
type = AssertSpecial
trigger1 = Time >= 0
flag = NoShadow

[State 1404, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = root, fvar(0)

[State 1404, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 1404, PlaySnd]
type = PlaySnd
trigger1 = !Time
trigger1 = PrevStateNo != 1404
value = 7,0
volume = 50

[State 1404, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, NP
animtype = Hard
damage = 16,7
hitflag = MAF
guardflag = MA
pausetime = 1, 1
sparkno = s8002
sparkxy = 0,-60
guard.sparkno = S8050
hitsound = S1,6
guardsound = S1,5
ground.type = High
air.type = low
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -6
guard.slidetime = 11
yaccel = 0.69
guard.hittime = 11
guard.velocity = -3
air.velocity = -7,-5
airguard.velocity = -3,-1
fall.recover = 0

[State 1404, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1404, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1404
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 1404, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1404, DestroySelf]
type = DestroySelf
trigger1 = Pos Y < -1200
trigger2 = MoveContact
trigger3 = PrevStateNo = 1404

;---------------------------------------------------------------------------
; Launched
[Statedef 1405]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1405

[State 1405, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 1405, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 9
trigger1 = Alive
value = IfElse(SelfAnimExist(5052),5052,(IfElse(SelfAnimExist(5051),5051,5050)))

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 5
trigger1 = Alive
x = -0.1
y = -8

[State 1405, VelSet]
type = VelSet
trigger1 = Time = 9
trigger1 = !Alive
x = -10
y = -7

[State 1405, SelfState]
type = SelfState
trigger1 = Time = 9
trigger1 = !Alive
value = 5050

[State 1405, Gravity]
type = Gravity
trigger1 = Time > 14

[State 1405, SelfState]
type = SelfState
;trigger1 = Vel Y > 0
trigger1 = Time = 40
value = 5040
ctrl = 1

;---------------------------------------------------------------------------
; Gene Splice Y Ground
[Statedef 1410]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1410, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1400
value = 1400

[State 1410, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,1
channel = 0
volumescale = 244

[State 1410, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1410, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1411

;---------------------------------------------------------------------------
; Gene Splice Y Air One
[Statedef 1411]
type = A
movetype = A
physics = N
velset = 6,-10
juggle = 2
ctrl = 0

[State 1411, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1401
value = 1401

[State 1411, VelAdd]
type = VelAdd
trigger1 = Time < 14
trigger1 = Vel X > 0
x = -.075

[State 1411, VelAdd]
type = VelAdd
trigger1 = Time >= 10
trigger1 = Vel X > 0
x = -.325

[State 1401, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .675

[State 1401, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .8

[State 1411, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1411, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1411, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 13
x = 0

[State 1411, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 10
y = 0

[State 1411, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 32,7
hitflag = MA
guardflag = MA
pausetime = 7, 3
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.type = Low
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1411, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1411, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1412

[State 1411, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice Y Air Two
[Statedef 1412]
type = A
movetype = A
physics = N
velset = 0,-8
ctrl = 0

[State 1412, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1402
value = 1402

[State 1412, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1412, Gravity]
type = Gravity
trigger1 = 1

[State 1412, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 22,7
hitflag = MA
guardflag = MA
pausetime = 7, 5
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1412, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1412, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1413

[State 1412, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice Y Air Three
[Statedef 1413]
type = A
movetype = A
physics = N
velset = 0,-10
ctrl = 0

[State 1413, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1401
value = 1401

[State 1413, Gravity]
type = Gravity
trigger1 = 1

[State 1413, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 22,7
hitflag = MA
guardflag = MA
pausetime = 7, 5
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1413, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice Z Ground
[Statedef 1420]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1420, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1400
value = 1400

[State 1420, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,1
channel = 0
volumescale = 244

[State 1420, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1420, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1421

;---------------------------------------------------------------------------
; Gene Splice Z Air One
[Statedef 1421]
type = A
movetype = A
physics = N
velset = 12,-11
juggle = 2
ctrl = 0

[State 1421, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1401
value = 1401

[State 1421, VelAdd]
type = VelAdd
trigger1 = Time < 19
trigger1 = Vel X > 0
x = -.3

[State 1421, VelAdd]
type = VelAdd
trigger1 = Time >= 15
trigger1 = Vel X > 0
x = -.45

[State 1401, VelAdd]
type = VelAdd
trigger1 = Time < 6
y = .675

[State 1401, VelAdd]
type = VelAdd
trigger1 = Time >= 6
y = .8

[State 1421, VelAdd]
type = Null ;VelAdd
trigger1 = 1
y = .6364

[State 1421, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1421, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 17
x = 0

[State 1421, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 13
y = 0

[State 1421, HitDef]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 32,7
hitflag = MA
guardflag = MA
pausetime = 7, 3
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.type = Low
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1421, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1421, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1422

[State 1421, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice Z Air Two
[Statedef 1422]
type = A
movetype = A
physics = N
velset = 0,-9
ctrl = 0

[State 1422, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1402
value = 1402

[State 1422, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1422, Gravity]
type = Gravity
trigger1 = 1

[State 1422, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
animtype = Medium
damage = 22,7
hitflag = MA
guardflag = MA
pausetime = 7, 5
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1422, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1422, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1423

[State 1422, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice Z Air Three
[Statedef 1423]
type = A
movetype = A
physics = N
velset = 0,-9
ctrl = 0

[State 1423, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1401
value = 1401

[State 1423, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1423, Gravity]
type = Gravity
trigger1 = 1

[State 1423, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
animtype = Medium
damage = 22,7
hitflag = MA
guardflag = MA
pausetime = 7, 5
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1423, VarSet]
type = VarSet
triggerall = MoveContact
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
var(14) = 1

[State 1423, ChangeState]
type = ChangeState
trigger1 = var(14)
trigger1 = AnimElem = 2, = 10
value = 1424

[State 1423, ChangeState]
type = ChangeState
trigger1 = !var(14)
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice Z Air Four
[Statedef 1424]
type = A
movetype = A
physics = N
velset = 0,-9
ctrl = 0

[State 1424, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 1402
value = 1402

[State 1424, VarSet]
type = VarSet
trigger1 = AnimElem = 1, = 0
var(14) = 0

[State 1424, Gravity]
type = Gravity
trigger1 = 1

[State 1424, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
animtype = Medium
damage = 22,7
hitflag = MA
guardflag = MA
pausetime = 7, 5
sparkno = s8002
guard.sparkno = S8050
sparkxy = 0,-80
hitsound = S1,2
guardsound = S1,5
ground.velocity = 0.4,-11
ground.slidetime = 15
ground.hittime = 17
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0.4,-11
airguard.velocity = -4,0
air.hittime = 17
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = -8
p2stateno = 1405

[State 1424, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1403

;---------------------------------------------------------------------------
; Gene Splice Land
[Statedef 1430]
type = S
movetype = I
physics = N
ctrl = 0

[State 1430, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1430, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Cyclone Kick Air
[Statedef 1200]
type = A
movetype = A
physics = N
velset = 5.5,-5
poweradd = 100
ctrl = 0

[State 1200, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1, = 0
value = 4,2
channel = 0

[State 1200, VelAdd]
type = VelAdd
trigger1 = 1
y = .775

[State 1200, PosSet]
type = PosSet
trigger1 = !Time
y = -10

[State 1200, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -20,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1200, HitDef]
type = HitDef
trigger1 = animelem = 4
attr = A, SA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 9,10
guard.pausetime = 12,13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,1
guardsound = S1,5
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -14,0
air.velocity = -14,-2
ground.cornerpush.veloff = -16.5
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 1200, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1201

;---------------------------------------------------------------------------
; Cyclone Kick Ground
[Statedef 1201]
type = C
movetype = A
physics = C
velset = 0,0
ctrl = 0

[State 1201, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1201, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 1201, HitDef]
type = HitDef
trigger1 = animelem = 5
attr = C, SA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 10,11
guard.pausetime = 12,13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-20
hitsound = S1,2
guardsound = S1,5
ground.type = Low
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -17,0
air.velocity = -14,-2
ground.cornerpush.veloff = -22.5
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recover = 0
id = 2+4

[State 1201, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rush Punch Elbows
[Statedef 1300]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1300, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1200, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1300, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1300, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 6

[State 1300, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 8

[State 1300, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4, = 0
trigger2 = AnimElem = 8, = 0
value = 0,0
volume = 50

[State 1300, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 25,0
getpower = 50,0
givepower = 20,0
pausetime = 5,6
guard.pausetime = 12,13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -13,0
air.velocity = -9,-2
ground.cornerpush.veloff = 0
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recovertime = 11

[State 1300, HitDef]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
animtype = Medium
damage = 25,0
getpower = 50,0
givepower = 20,0
pausetime = 5,6
guard.pausetime = 12,13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -13,0
air.velocity = -9,-2
ground.cornerpush.veloff = 0
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recovertime = 11

[State 1300, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1300, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 1301

[State 1300, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rush Punch Lows
[Statedef 1301]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0

[State 1301, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1301, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1301, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
trigger2 = AnimElem = 8, = 0
value = 0,0
volume = 50

[State 1301, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 7

[State 1301, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 9

[State 1301, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = Medium
damage = 25,0
getpower = 50,0
givepower = 20,0
pausetime = 5,6
guard.pausetime = 12,13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,0
guardsound = S1,5
ground.type = low
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -13,0
air.velocity = -9,-2
ground.cornerpush.veloff = 0
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recovertime = 11

[State 1301, HitDef]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
animtype = Medium
damage = 25,0
getpower = 50,0
givepower = 20,0
pausetime = 5,6
guard.pausetime = 12,13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .88
ground.velocity = -13,0
air.velocity = -9,-2
ground.cornerpush.veloff = 0
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recovertime = 11

[State 1301, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1301, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 1302

[State 1301, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rush Punch Upper
[Statedef 1302]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0

[State 1302, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1302, VarSet]
type = VarSet
trigger1 = !Time
var(14) = 0

[State 1301, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = 0,2
volume = 50

[State 1302, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 9

[State 1302, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 9

[State 1302, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype = Up
damage = 25,0
getpower = 50,0
givepower = 20,0
pausetime = 5,5
guard.pausetime = 12,13
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S1,0
guardsound = S1,5
ground.type = High
ground.slidetime = 18
ground.hittime = 20
air.hittime = 3
yaccel = .51
ground.velocity = -6,-6
air.velocity = -9,-6
ground.cornerpush.veloff = 0
airguard.velocity = -9,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall.recovertime = 11

[State 1302, VarAdd]
type = VarAdd
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
trigger5 = command = "b"
trigger6 = command = "c"
var(14) = 1

[State 1302, ChangeState]
type = ChangeState
trigger1 = var(14) > 1
trigger1 = !AnimTime
value = 1303

[State 1302, ChangeState]
type = ChangeState
trigger1 = var(14) <= 1
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rush Punch Blast
[Statedef 1303]
type = S
movetype = A
physics = S
ctrl = 0

[State 1303, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 220
value = 220

[State 1302, VelSet]
type = VelSet
trigger1 = AnimElem = 3, < 0
x = 7

[State 1302, VelSet]
type = VelSet
trigger1 = AnimElem = 8, < 0
x = 7

[State 1303, Helper]
type = Helper
trigger1 = AnimElem = 2, = 0
stateno = 221
postype = p1
pos = 10,-86
bindtime = 1
ownpal = 1
id = 221
name = "s. Fierce!"

[State 1303, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Slam
[Statedef 1500]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = 100
ctrl = 0

[State 1500, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 1500, VelSet]
type = VelSet
trigger1 = AnimElem = 2, >= 2
trigger1 = AnimElem = 11, < 0
x = 8.5

[State 1500, VelSet]
type = VelSet
trigger1 = AnimElem = 11, = 0
x = 4

[State 1501, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3, = 0
value = 3,0
channel = 0

[State 1500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, ST
damage = 0
priority = 7
hitsound = S1,7
hitflag = M
guardflag = 
pausetime = 0, 0
sparkno = -1
fall = 1
fall.recover = 0
p1stateno = 1501
p2stateno = 1502

[State 1200, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 1500, VelSet]
type = VelSet
trigger1 = !AnimTime
x = 0

[State 1500, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rush Throwing
[Statedef 1501]
type = S
movetype = I
physics = N
velset = 0,0
anim = 1501
sprpriority = 1
ctrl = 0

[State 901, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
pos = ceil(-45*const(size.xscale)),ceil(-83*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 1501, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2, = 0
value = 3,1
channel = 0

[State 1501, Gravity]
type = Gravity
trigger1 = AnimElem = 2, > 0
trigger1 = AnimElem = 6, < 0

[State 1501, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 7,-96

[State 1501, TargetBind]
type = TargetBind
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 6,-69

[State 1501, TargetBind]
type = TargetBind
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 30,-59

[State 1501, TargetBind]
type = TargetBind
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = -6,-80

[State 1501, TargetBind]
type = TargetBind
trigger1 = AnimElem = 5, >= 0
trigger1 = AnimElem = 6, < 0
pos = -34,-67

[State 1501, TargetBind]
type = TargetBind
trigger1 = AnimElem = 6, >= 0
trigger1 = AnimElem = 7, < 0
pos = 11,-31

[State 1501, VelSet]
type = VelSet
trigger1 = AnimElem = 1, = 10
x = 6

[State 5100, 8]
type = Explod
trigger1 = AnimElem = 6
anim = 8010
pos = 0, 0
sprpriority = 5
ownpal = 1

[State 1501, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 0
x = 8
y = -5

[State 1501, VelSet]
type = VelSet
trigger1 = AnimElem = 6, = 0
x = 0
y = 0

[State 1501, VelSet]
type = PosSet
trigger1 = AnimElem = 6, = 0
y = 0

[State 1501, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6, = 0
value = 0,7
volume = 50

[State 1501, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 6, = 0
value = ceil(-202 * (fvar(0)))

[State 1501, EnvShake]
type = EnvShake
trigger1 = AnimElem = 6, = 0
time = 10
ampl = -6

[State 1501, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rush Thrown
[Statedef 1502]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
facep2 = 1
ctrl = 0

[State 1502, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1502

[State 1502, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 1502, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1503

;---------------------------------------------------------------------------
; Rush Thrown Falling
[Statedef 1503]
type = A
movetype = H
physics = N
velset = -9,-7
sprpriority = 0
anim = 5050
ctrl = 0

[State 1503, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = -7

[State 1503, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 1503, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
y = 0

[State 1503, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 1503, EnvShake]
type = EnvShake
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
time = 10
ampl = -6

[State 1503, SelfState]
type = SelfState
trigger1 = Vel X = 0
trigger1 = Vel Y = 0
trigger1 = Pos Y = 0
value = 5110


;---------------------------------------------------------------------------
;------------------------------Hyper Combos---------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Mega Optic Blast
[Statedef 3000]
type = S
movetype = A
physics = S
velset = 0,0
;anim = 3000
sprpriority = 1
ctrl = 0

[State 3000, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 5
var(35) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 32
var(35) = 0

[State 3000, Helper]
type = Helper
trigger1 = animelem = 5
stateno = 8500
supermovetime = 99999999
pos = ceil(11*const(size.xscale)),ceil(-77*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 5
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 5,< 0
value = SCA

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5,0
channel = 0

[State 3000, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 5
value = -1000

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 4,0
channel = 0

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = 7,2
volume = 50

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3003
sprpriority = 2
postype = p1
scale = 1, 1.13
pos = -7,5
bindtime = -1
name = "Mega Optic Blast Explod"
id = 3001
ownpal = 1

[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 9, = 0
anim = 3004
sprpriority = 2
postype = p1
scale = 1, 1.13
pos = -7,4
bindtime = -1
name = "Mega Optic Blast Explod"
id = 3001
ownpal = 1

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 13000
postype = p1
pos = 0,-10
ownpal = 1
name = "Mega Optic Blast Attacking Beam"
id = 13000

[State 3000, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Mega Optic Blast Attacking Beam
[Statedef 13000]
type = S
movetype = A
physics = N
velset = 0,0
;anim = 3001
juggle = 1
ctrl = 0

[State 13000, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 3001
value = 3001
ignorehitpause = 1

[State 13000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 13000, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 13000, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 13000, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y
ignorehitpause = 1

[State 13000, HitDef]
type = HitDef
triggerall = (GameTime%8) = 0
triggerall = !MoveContact
trigger1 = (GameTime%4) = 0
attr = S, HP
animtype = Hard
damage = 48,3
getpower = 3
sprpriority = 14
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S8003
sparkxy = 0, -80
hitsound = S7,1
yaccel = 0.83
guard.sparkno = S9999
guardsound = S202,0
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = -3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = (GameTime%8) = 4
triggerall = !MoveContact
trigger1 = (GameTime%4) = 0
trigger2 = ((Random < 250) && ((GameTime%4) = 3))
attr = S, HP
animtype = Hard
damage = 48,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -80
sparkno = S8003
yaccel = 0.83
guard.sparkno = S8050
guardsound = S1,5
hitsound = s1,6
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = -3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
attr = S, HP
animtype = Hard
damage = 28,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -80
sparkno = S8003
guard.sparkno = S8050
guardsound = S1,5
hitsound = s1,6
ground.type = High
ground.slidetime = 22
yaccel = 0.83
ground.hittime = 23
ground.velocity = -3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = (GameTime%8) = 0
triggerall = !MoveContact
trigger1 = (GameTime%4) = 0
trigger2 = ((Random < 250) && ((GameTime%4) = 3))
attr = S, HP
animtype = Hard
damage = 28,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -80
sparkno = S8003
guard.sparkno = S8050
guardsound = S1,5
hitsound = s1,6
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = -3, -1.7
yaccel = 0.83
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 13001
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = (GameTime%8) = 4
triggerall = !MoveContact
trigger1 = (GameTime%4) = 0
trigger2 = ((Random < 250) && ((GameTime%4) = 3))
attr = S, HP
animtype = Hard
damage = 28,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -80
sparkno = S8003
guard.sparkno = S8050
guardsound = S1,5
ground.type = High
yaccel = 0.83
guard.sparkno = S9999
ground.slidetime = 22
ground.hittime = 23
ground.velocity =-3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 13001
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
attr = S, HP
animtype = Hard
damage = 28,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -80
sparkno = S8003
guard.sparkno = S8050
guardsound = S1,5
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = -3, -1.7
yaccel = 0.83
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 13001
fall = -1
air.fall = -1

[State 13000, TargetState]
type = TargetState
trigger1 = WinKO
value = 13001

[State 13000, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 33, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 13000, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 33, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 13000, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 13000, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = p2dist X

[State 13000, Explod]
type = Explod
triggerall = MoveHit
trigger1 = !NumExplod(3002)
trigger2 = Random < 500
anim = 3002
sprpriority = 5
postype = p1
pos = (floor(fvar(0))),0
bindtime = 1
ownpal = 1
id = 3002
name = "Optic Blast Hit"
pausemovetime = 999999
supermovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13000, ParentVarAdd]
type = ParentVarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 13000, ChangeState]
type = ChangeState
trigger1 = MoveContact
trigger2 = Time = 2
value = 13000
ignorehitpause = 1

[State 13050, VarSet]
type = VarSet
trigger1 = MoveContact
var(3) = 1
ignorehitpause = 1

[State 13050, ParentVarSet]
type = ParentVarSet
;trigger1 = var(3)
trigger1 = WinKO
trigger1 = enemyNear, LoseKO
var(8) = 1
ignorehitpause = 1

[State 13000, VarSet]
type = VarSet
trigger1 = MoveHit
var(59) = 15
persistent = 0
ignorehitpause = 1

[State 13000, VarAdd]
type = VarAdd
trigger1 = var(59) > 0
var(59) = -1
ignorehitpause = 1

[State 13000, ParentVarSet]
type = ParentVarSet
trigger1 = Random < 100
trigger1 = var(59)
var(39) = 1
persistent = 0
ignorehitpause = 1

[State 13000, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 3000
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Hit by Mega Optic Blast
[Statedef 13001]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 3005

[State 10210, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 10210, VelSet]
type = VelSet
trigger1 = time = 1
x = 0.3
y = 0

[State 10210, ChangeAnim]
type = ChangeAnim
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 33, >= 0)) || ((enemyNear, StateNo = 3050) && (enemyNear, AnimElem = 30, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3050))
trigger1 = Time > 6
value = 5050

[State 10210, Gravity]
type = Gravity
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 33, >= 0)) || ((enemyNear, StateNo = 3050) && (enemyNear, AnimElem = 30, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3050))
trigger1 = Time > 6


[State 10210, VelSet]
type = VelSet
triggerall = ((enemyNear, StateNo = 3000) && (enemyNear, AnimElem = 33, >= 0)) || ((enemyNear, StateNo = 3050) && (enemyNear, AnimElem = 30, >= 0)) || ((enemyNear, StateNo != 3000) && (enemyNear, StateNo != 3050))
trigger1 = Time > 6
trigger1 = Alive
x = -3
y = -1
persistent = 0

[State 9910, VelAdd]
type = VelAdd
trigger1 = Time > 16
y = gethitvar(yaccel)

[State 10210, SelfState]
type = SelfState
trigger1 = Time > 16
value = 5050

;---------------------------------------------------------------------------
; Air Mega Optic Blast
[Statedef 3050]
type = A
movetype = A
physics = N
velset = 0,0
;anim = 3050
sprpriority = 1
ctrl = 0

[State 3050, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo


[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(35) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 31
var(35) = 0

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 8500
supermovetime = 99999999
pos = ceil(11*const(size.xscale)),ceil(-107*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 2,< 0
value = SCA

[State 3050, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,0
channel = 0

[State 3050, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 2
value = -1000

[State 3050, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4,0
channel = 0

[State 3050, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 7,2
volume = 50

[State 3050, Explod]
type = Explod
trigger1 = AnimElem = 6, = 0
anim = 3003
sprpriority = 2
postype = p1
pos = -22,-19
scale = 1, 1.13
bindtime = -1
name = "Mega Optic Blast Explod"
id = 3001
ownpal = 1

[State 3050, Explod]
type = Explod
trigger1 = AnimElem = 6, = 0
anim = 3004
sprpriority = 2
postype = p1
pos = -22,-20
scale = 1, 1.13
bindtime = -1
name = "Mega Optic Blast Explod"
id = 3001
ownpal = 1

[State 3050, Helper]
type = Helper
trigger1 = AnimElem = 6, = 0
stateno = 13050
postype = p1
pos = 0,0
ownpal = 1
name = "Mega Optic Blast Attacking Beam"
id = 13050

[State 3050, VelSet]
type = VelSet
trigger1 = AnimElem = 3, > 0
trigger1 = Pos Y <= -1.5
y = 0.95
x = 0.1

[State 3050, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 3050, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; Air Mega Optic Blast Attacking Beam
[Statedef 13050]
type = A
movetype = A
physics = N
velset = 0,0
;anim = 3001
juggle = 1
ctrl = 0

[State 13050, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 3001
value = 3001
ignorehitpause = 1

[State 13050, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 13050, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 13050, PosSet]
type = PosSet
trigger1 = parent, facing = 1
x = parent, Pos X - 17
y = parent, Pos Y - 23
ignorehitpause = 1

[State 13050, PosSet]
type = PosSet
trigger1 = parent, facing = -1
x = parent, Pos X + 17
y = parent, Pos Y - 23
ignorehitpause = 1

[State 13000, HitDef]
type = HitDef
triggerall = (GameTime%8) = 0
triggerall = !MoveContact
trigger1 = (GameTime%4) = 0
attr = S, HP
animtype = Hard
damage = 48,3
getpower = 3
sprpriority = 14
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S8003
sparkxy = 0, -40
hitsound = S7,1
guard.sparkno = S9999
guardsound = S202,0
ground.type = High
ground.slidetime = 22
ground.hittime = 23
yaccel = 0.83
ground.velocity = -3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = (GameTime%8) = 4
triggerall = !MoveContact
trigger1 = (GameTime%4) = 0
trigger2 = ((Random < 250) && ((GameTime%4) = 3))
attr = S, HP
animtype = Hard
damage = 48,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -40
sparkno = S8003
guard.sparkno = S8050
guardsound = S1,5
hitsound = s1,6
ground.type = High
ground.slidetime = 22
ground.hittime = 23
yaccel = 0.83
ground.velocity = -3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
attr = S, HP
animtype = Hard
damage = 28,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -40
sparkno = S8003
guard.sparkno = S8050
guardsound = S1,5
hitsound = s1,6
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = -3, -1.7
yaccel = 0.83
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = (GameTime%8) = 0
triggerall = !MoveContact
trigger1 = (GameTime%4) = 0
trigger2 = ((Random < 250) && ((GameTime%4) = 3))
attr = S, HP
animtype = Hard
damage = 28,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -40
sparkno = S8003
guard.sparkno = S8050
guardsound = S1,5
hitsound = s1,6
yaccel = 0.83
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = -3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 13001
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = (GameTime%8) = 4
triggerall = !MoveContact
trigger1 = (GameTime%4) = 0
trigger2 = ((Random < 250) && ((GameTime%4) = 3))
attr = S, HP
animtype = Hard
damage = 28,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -40
sparkno = S8003
yaccel = 0.83
guard.sparkno = S8050
guardsound = S1,5
ground.type = High
guard.sparkno = S9999
ground.slidetime = 22
ground.hittime = 23
ground.velocity =-3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 13001
fall = -1
air.fall = -1

[State 13000, HitDef]
type = HitDef
triggerall = !MoveContact
triggerall = Random < 500
trigger1 = ((parent, command = "x") || (parent, command = "y") || (parent, command = "z"))
attr = S, HP
animtype = Hard
damage = 28,3
getpower = 0
sprpriority = 1
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkxy = 0, -40
sparkno = S8003
yaccel = 0.83
guard.sparkno = S8050
guardsound = S1,5
ground.type = High
ground.slidetime = 22
ground.hittime = 23
ground.velocity = -3, -1.7
guard.slidetime = 11
guard.hittime = 11
guard.velocity = 0
air.type = Low
air.velocity = -6,0
airguard.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2stateno = 13001
fall = -1
air.fall = -1

[State 13050, TargetState]
type = TargetState
trigger1 = WinKO
value = 13001

[State 13050, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 33, = 0
trigger1 = enemyNear, StateType = S
trigger2 = enemyNear, StateType = C
x = -15

[State 13050, TargetVelSet]
type = TargetVelSet
triggerall = parent, AnimElem = 33, = 0
trigger1 = enemyNear, StateType = L
x = -4

[State 13050, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, AA, AT, AP
ignorehitpause = 1

[State 13050, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = p2dist X

[State 13000, Explod]
type = Explod
triggerall = MoveHit
trigger1 = !NumExplod(3002)
trigger2 = Random < 500
anim = 3002
sprpriority = 5
postype = p1
pos = (floor(fvar(0))),0
bindtime = 1
ownpal = 1
id = 3002
name = "Optic Blast Hit"
pausemovetime = 999999
supermovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13050, ParentVarAdd]
type = ParentVarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0

[State 13050, ChangeState]
type = ChangeState
trigger1 = MoveContact
trigger2 = Time = 2
value = 13050
ignorehitpause = 1

[State 13050, VarSet]
type = VarSet
trigger1 = MoveContact
var(3) = 1
ignorehitpause = 1

[State 13050, ParentVarSet]
type = ParentVarSet
;trigger1 = var(3)
trigger1 = WinKO
trigger1 = enemyNear, LoseKO
var(8) = 1
ignorehitpause = 1

[State 13050, VarSet]
type = VarSet
trigger1 = MoveHit
var(59) = 15
persistent = 0
ignorehitpause = 1

[State 13050, VarAdd]
type = VarAdd
trigger1 = var(59) > 0
var(59) = -1
ignorehitpause = 1

[State 13050, ParentVarSet]
type = ParentVarSet
trigger1 = Random < 100
trigger1 = var(59)
var(39) = 1
persistent = 0
ignorehitpause = 1

[State 13050, DestroySelf]
type = DestroySelf
trigger1 = parent, StateNo != 3050
trigger2 = !AnimTime

;---------------------------------------------------------------------------
; Super Optic Blast Start
[Statedef 3500]
type = S
movetype = A
physics = S
velset = 0,0
;anim = 3500
sprpriority = 1
ctrl = 0

[State 3500, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 3500, Explod]
type = Explod
trigger1 = AnimElem = 1, = 0
anim = 9994
postype = P1
pos = -90,0
sprpriority = 4
ownpal = 1
supermovetime = 40
scale = 0.5, 0.5

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 5
var(35) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 5
stateno = 8500
supermovetime = 99999999
pos = ceil(11*const(size.xscale)),ceil(-77*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 5
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 5,< 0
value = SCA

[State 3500, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5,0
channel = 0

[State 3500, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 7,6
volume = 100

[State 3500, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 5
value = -1000

[State 3500, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 4,0
channel = 0

[State 3500, VarSet]
type = VarSet
trigger1 = AnimElem = 7, = 1
var(15) = 0

[State 3500, VarSet]
type = VarSet
trigger1 = AnimElem = 7, = 1
var(16) = 6

[State 3500, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 3501

;---------------------------------------------------------------------------
; Super Optic Blast
[Statedef 3501]
type = S
movetype = A
physics = S
velset = 0,0
sprpriority = 1
ctrl = 0

[State 3501, PlaySnd]
type = PlaySnd
trigger1 = PrevStateNo = 3500
value = 7,3
volume = 50
persistent = 0

[State 3501, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 3500 + var(16)

[State 3501, VarAdd]
type = VarAdd
trigger1 = AnimElem = 1, = 0
var(15) = 1

[State 3501, Helper]
type = Helper
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
stateno = 13500
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1
id = 13500
name = "Super Optic Blast Attacking Beam"

[State 3501, Helper]
type = Helper
triggerall = AnimElem = 1, = 0
triggerall = var(15) > 1
triggerall = var(15) < 10
trigger1 = Anim = 3523
trigger2 = Anim = 3503
trigger3 = Anim = 3513
trigger4 = Anim = 3502
trigger5 = Anim = 3511
trigger6 = Anim = 3501
trigger7 = Anim = 3521
stateno = 13500
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1
id = 33500
name = "Super Optic Blast Reflecting Beam"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3506
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13506
sprpriority = 2
postype = p1
pos = 11,-107
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 6"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3506
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23506
sprpriority = 2
postype = p1
pos = 11,-107
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 6"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3506
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33506
sprpriority = 2
postype = p1
pos = 11,-107
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 6"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3519
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13519
sprpriority = 2
postype = p1
pos = 10,-109
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 19"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3519
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23519
sprpriority = 2
postype = p1
pos = 10,-109
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 19"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3519
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33519
sprpriority = 2
postype = p1
pos = 10,-109
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 19"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3509
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13509
sprpriority = 2
postype = p1
pos = 9,-108
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 9"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3509
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23509
sprpriority = 2
postype = p1
pos = 9,-108
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 9"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3509
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33509
sprpriority = 2
postype = p1
pos = 9,-108
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 9"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3529
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13529
sprpriority = 2
postype = p1
pos = 6,-108
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 29"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3529
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23529
sprpriority = 2
postype = p1
pos = 6,-108
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 29"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3529
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33529
sprpriority = 2
postype = p1
pos = 6,-108
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 29"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3508
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13508
sprpriority = 2
postype = p1
pos = 0,-108
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 8"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3508
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23508
sprpriority = 2
postype = p1
pos = 0,-108
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 8"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3508
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33508
sprpriority = 2
postype = p1
pos = 0,-108
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 8"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3527
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13527
sprpriority = 2
postype = p1
pos = -5,-117
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 27"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3527
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23527
sprpriority = 2
postype = p1
pos = -5,-117
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 27"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3527
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33527
sprpriority = 2
postype = p1
pos = -5,-117
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 27"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3507
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13507
sprpriority = 2
postype = p1
pos = -6,-114
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 7"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3507
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23507
sprpriority = 2
postype = p1
pos = -6,-114
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 7"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3507
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33507
sprpriority = 2
postype = p1
pos = -6,-114
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 7"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3517
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13517
sprpriority = 2
postype = p1
pos = -9,-108
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 17"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3517
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23517
sprpriority = 2
postype = p1
pos = -9,-108
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 17"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3517
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33517
sprpriority = 2
postype = p1
pos = -9,-108
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 17"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3504
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13504
sprpriority = 2
postype = p1
pos = -10,-107
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 4"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3504
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23504
sprpriority = 2
postype = p1
pos = -10,-107
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 4"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3504
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33504
sprpriority = 2
postype = p1
pos = -10,-107
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 4"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13511
sprpriority = 2
postype = p1
pos = -11,-106
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23511
sprpriority = 2
postype = p1
pos = -11,-106
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33511
sprpriority = 2
postype = p1
pos = -11,-106
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13501
sprpriority = 2
postype = p1
pos = -7,-102
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23501
sprpriority = 2
postype = p1
pos = -7,-102
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33501
sprpriority = 2
postype = p1
pos = -7,-102
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13521
sprpriority = 2
postype = p1
pos = -5,-100
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 21"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23521
sprpriority = 2
postype = p1
pos = -5,-100
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 21"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33521
sprpriority = 2
postype = p1
pos = -5,-100
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 21"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13502
sprpriority = 2
postype = p1
pos = 0,-98
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23502
sprpriority = 2
postype = p1
pos = 0,-98
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33502
sprpriority = 2
postype = p1
pos = 0,-98
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13523
sprpriority = 2
postype = p1
pos = 5,-101
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23523
sprpriority = 2
postype = p1
pos = 5,-101
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33523
sprpriority = 2
postype = p1
pos = 5,-101
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13503
sprpriority = 2
postype = p1
pos = 7,-102
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23503
sprpriority = 2
postype = p1
pos = 7,-102
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33503
sprpriority = 2
postype = p1
pos = 7,-102
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13513
sprpriority = 2
postype = p1
pos = 12,-106
bindtime = -1
ownpal = 1
id = 13500 + var(16)
name = "Super Optic Blast Beam Opening 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23513
sprpriority = 2
postype = p1
pos = 12,-106
bindtime = -1
ownpal = 1
id = 23500 + var(16)
name = "Super Optic Blast Beam 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33513
sprpriority = 2
postype = p1
pos = 12,-106
bindtime = -1
ownpal = 1
id = 33500 + var(16)
name = "Super Optic Blast Beam Closing 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = 55,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = 126,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = 287,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = -285,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = -125,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 3
postype = p1
pos = -55,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare 21"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3523
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 13552
sprpriority = 2
postype = p1
pos = 55,0
bindtime = -1
ownpal = 1
id = 13552
name = "Super Optic Blast Beam Reflect 23"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3503
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 13550
sprpriority = 2
postype = p1
pos = 126,0
bindtime = -1
ownpal = 1
id = 13550
name = "Super Optic Blast Beam Reflect 3"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3513
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 13551
sprpriority = 2
postype = p1
pos = 287,0
bindtime = -1
ownpal = 1
id = 13551
name = "Super Optic Blast Beam Reflect 13"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3502
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 13553
sprpriority = 2
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
id = 13553
name = "Super Optic Blast Beam Reflect 2"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3511
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23551
sprpriority = 2
postype = p1
pos = -285,0
bindtime = -1
ownpal = 1
id = 23551
name = "Super Optic Blast Beam Reflect 11"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3501
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23550
sprpriority = 2
postype = p1
pos = -125,0
bindtime = -1
ownpal = 1
id = 23550
name = "Super Optic Blast Beam Reflect 1"

[State 3501, Explod]
type = Explod
trigger1 = Anim = 3521
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23552
sprpriority = 2
postype = p1
pos = -55,0
bindtime = -1
ownpal = 1
id = 23552
name = "Super Optic Blast Beam Reflect 21"

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3506
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
var(16) = 19

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3506
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
var(16) = 13

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3519
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 9

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3519
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 6

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3509
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 29

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3509
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 19

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3529
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 8

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3529
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 9

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3508
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdback"
var(16) = 27

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3508
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdfwd"
var(16) = 29

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3527
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 8

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3527
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 7

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3507
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 27

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3507
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 17

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3517
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 7

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3517
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 4

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3504
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
var(16) = 17

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3504
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
var(16) = 11

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3511
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 4

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3511
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 1

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3501
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 11

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3501
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 21

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3521
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 1

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3521
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 2

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3502
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdback"
var(16) = 21

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3502
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdfwd"
var(16) = 23

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3523
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 3

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3523
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 2

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3503
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 13

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3503
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 23

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3513
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 6

[State 3501, VarSet]
type = VarSet
triggerall = Anim = 3513
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 3

[State 3501, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = IfElse((var(15) = 10),3510,3501)

;---------------------------------------------------------------------------
; Super Optic Blast End
[Statedef 3510]
type = S
movetype = A
physics = S
velset = 0,0
;anim = 3510
sprpriority = 1
ctrl = 0

[State 3000, VarSet]
type = VarSet
trigger1 = time = 1
var(35) = 0

[State 3510, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 3510, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Super Optic Blast Attacking Beam
[Statedef 13500]
type = S
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 13500, StateTypeSet]
type = StateTypeSet
triggerall = Ishelper(33500)
triggerall = p2dist X < 90
triggerall = p2dist X > -90
trigger1 = parent, Anim = 3513
trigger2 = parent, Anim = 3503
trigger3 = parent, Anim = 3523
movetype = I

[State 13500, StateTypeSet]
type = StateTypeSet
triggerall = Ishelper(33500)
triggerall = (p2dist X >= 90) || (p2dist X <= -90)
trigger1 = parent, Anim = 3513
trigger2 = parent, Anim = 3503
trigger3 = parent, Anim = 3523
movetype = A

[State 13500, SprPriority]
type = SprPriority
trigger1 = Ishelper(33500)
value = 2

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = !IsHelper(33500)
trigger1 = !Time
trigger1 = Anim != 20000 + parent, Anim
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 20000 + parent, Anim
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3523
trigger1 = Anim != 13552
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13552
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3503
trigger1 = Anim != 13550
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13550
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3513
trigger1 = Anim != 13551
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13551
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3502
trigger1 = Anim != 13553
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13553
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3511
trigger1 = Anim != 33551
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23551
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3501
trigger1 = Anim != 33550
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23550
persistent = 0

[State 13500, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3521
trigger1 = Anim != 33552
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23552
persistent = 0

[State 13500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = Invisible
ignorehitpause = 1

[State 13500, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3506
trigger1 = parent, facing = 1
x = parent, Pos X + 11
y = parent, Pos Y - 100
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3506
trigger1 = parent, facing = -1
x = parent, Pos X - 11
y = parent, Pos Y - 100
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3519
trigger1 = parent, facing = 1
x = parent, Pos X + 10
y = parent, Pos Y - 102
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3519
trigger1 = parent, facing = -1
x = parent, Pos X - 10
y = parent, Pos Y - 102
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3509
trigger1 = parent, facing = 1
x = parent, Pos X + 9
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3509
trigger1 = parent, facing = -1
x = parent, Pos X - 9
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3529
trigger1 = parent, facing = 1
x = parent, Pos X + 6
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3529
trigger1 = parent, facing = -1
x = parent, Pos X - 6
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3508
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3508
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3527
trigger1 = parent, facing = 1
x = parent, Pos X - 5
y = parent, Pos Y - 108
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3527
trigger1 = parent, facing = -1
x = parent, Pos X + 5
y = parent, Pos Y - 108
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3507
trigger1 = parent, facing = 1
x = parent, Pos X - 6
y = parent, Pos Y - 106
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3507
trigger1 = parent, facing = -1
x = parent, Pos X + 6
y = parent, Pos Y - 106
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3517
trigger1 = parent, facing = 1
x = parent, Pos X - 9
y = parent, Pos Y - 101
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3517
trigger1 = parent, facing = -1
x = parent, Pos X + 9
y = parent, Pos Y - 101
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3504
trigger1 = parent, facing = 1
x = parent, Pos X - 10
y = parent, Pos Y - 100
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3504
trigger1 = parent, facing = -1
x = parent, Pos X + 10
y = parent, Pos Y - 100
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3511
trigger1 = parent, facing = 1
x = parent, Pos X - 11
y = parent, Pos Y - 97
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3511
trigger1 = parent, facing = -1
x = parent, Pos X + 11
y = parent, Pos Y - 97
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3501
trigger1 = parent, facing = 1
x = parent, Pos X - 7
y = parent, Pos Y - 93
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3501
trigger1 = parent, facing = -1
x = parent, Pos X + 7
y = parent, Pos Y - 93
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3521
trigger1 = parent, facing = 1
x = parent, Pos X - 5
y = parent, Pos Y - 91
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3521
trigger1 = parent, facing = -1
x = parent, Pos X + 5
y = parent, Pos Y - 91
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3502
trigger1 = parent, facing = 1
x = parent, Pos X
y = parent, Pos Y - 89
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3502
trigger1 = parent, facing = -1
x = parent, Pos X
y = parent, Pos Y - 89
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3523
trigger1 = parent, facing = 1
x = parent, Pos X + 5
y = parent, Pos Y - 92
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3523
trigger1 = parent, facing = -1
x = parent, Pos X - 5
y = parent, Pos Y - 92
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3503
trigger1 = parent, facing = 1
x = parent, Pos X + 7
y = parent, Pos Y - 93
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3503
trigger1 = parent, facing = -1
x = parent, Pos X - 7
y = parent, Pos Y - 93
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3513
trigger1 = parent, facing = 1
x = parent, Pos X + 12
y = parent, Pos Y - 97
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3513
trigger1 = parent, facing = -1
x = parent, Pos X - 12
y = parent, Pos Y - 97
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3511
trigger1 = parent, facing = 1
x = parent, Pos X - 285
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3511
trigger1 = parent, facing = -1
x = parent, Pos X + 285
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3501
trigger1 = parent, facing = 1
x = parent, Pos X - 125
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3501
trigger1 = parent, facing = -1
x = parent, Pos X + 125
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3521
trigger1 = parent, facing = 1
x = parent, Pos X - 55
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3521
trigger1 = parent, facing = -1
x = parent, Pos X + 55
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3502
x = parent, Pos X
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3523
trigger1 = parent, facing = 1
x = parent, Pos X + 55
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3523
trigger1 = parent, facing = -1
x = parent, Pos X - 55
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3503
trigger1 = parent, facing = 1
x = parent, Pos X + 126
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3503
trigger1 = parent, facing = -1
x = parent, Pos X - 126
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3513
trigger1 = parent, facing = 1
x = parent, Pos X + 287
y = 0
ignorehitpause = 1

[State 13500, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3513
trigger1 = parent, facing = -1
x = parent, Pos X - 287
y = 0
ignorehitpause = 1

[State 13500, VarSet]
type = VarSet
trigger1 = MoveContact = 1
fvar(0) = floor(p2dist X)
persistent = 0
ignorehitpause = 1

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 15,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 15,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -2,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 15,2
sparkno = S8003
hitsound = S1,6 + ((Random < 400) * 98)
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -11
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -3,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 15,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -12
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -3,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 15,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,6
airguard.velocity = 2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 15,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,6
airguard.velocity = 2,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 15,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-7
airguard.velocity = -2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 15,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-7
airguard.velocity = 2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 13500, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 13500
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 13500, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 13500, Explod]
type = Explod
trigger1 = parent, Anim = 3506
trigger1 = MoveHit = 1
anim = 997
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),0
bindtime = 1
ownpal = 1
id = 997
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = !IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3513
trigger2 = parent, Anim = 3503
trigger3 = parent, Anim = 3523
anim = 10999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),80
bindtime = 1
ownpal = 1
id = 10999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3513
trigger2 = parent, Anim = 3503
trigger3 = parent, Anim = 3523
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),-40
bindtime = 1
ownpal = 1
id = 999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = !IsHelper(33500)
trigger1 = parent, Anim = 3502
trigger1 = MoveHit = 1
anim = 996
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 996
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = IsHelper(33500)
trigger1 = parent, Anim = 3502
trigger1 = MoveHit = 1
anim = 998
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 998
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = !IsHelper(33500)
trigger1 = parent, Anim = 3508
trigger1 = MoveHit = 1
anim = 998
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 998
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
trigger1 = parent, Anim = 3504
trigger1 = MoveHit = 1
anim = 997
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),0
facing = -1
bindtime = 1
ownpal = 1
id = 997
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = !IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3511
trigger2 = parent, Anim = 3501
trigger3 = parent, Anim = 3521
anim = 10999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),80
facing = -1
bindtime = 1
ownpal = 1
id = 10999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3511
trigger2 = parent, Anim = 3501
trigger3 = parent, Anim = 3521
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),-40
facing = -1
bindtime = 1
ownpal = 1
id = 999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1


[State 13500, Explod]
type = Explod
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3519
trigger2 = parent, Anim = 3509
trigger3 = parent, Anim = 3529
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),(floor(p2dist Y - 90))
bindtime = 1
ownpal = 1
id = 999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13500, Explod]
type = Explod
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3517
trigger2 = parent, Anim = 3507
trigger3 = parent, Anim = 3527
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),(floor(p2dist Y - 90))
facing = -1
bindtime = 1
ownpal = 1
id = 999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1


[State 13500, DestroySelf]
type = DestroySelf
trigger1 = !AnimTime
trigger2 = parent, StateNo != 3501

;---------------------------------------------------------------------------
; Air Super Optic Blast Start
[Statedef 3600]
type = A
movetype = A
physics = N
velset = 0,0
;anim = 3600
sprpriority = 1
ctrl = 0

[State 3600, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(35) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 8500
supermovetime = 99999999
pos = ceil(11*const(size.xscale)),ceil(-107*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 2,< 0
value = SCA

[State 3600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4,0
channel = 0

[State 3600, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 2
value = -1000

[State 3600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,0
channel = 0

[State 3600, VarSet]
type = VarSet
trigger1 = AnimElem = 3, = 0
var(15) = 0

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (1/32))
trigger1 = fvar(1) > (pi * (-1/32))
var(16) = 6

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (3/32))
trigger1 = fvar(1) > (pi * (1/32))
var(16) = 19

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (5/32))
trigger1 = fvar(1) > (pi * (3/32))
var(16) = 9

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (7/32))
trigger1 = fvar(1) > (pi * (5/32))
var(16) = 29

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (9/32))
trigger1 = fvar(1) > (pi * (7/32))
var(16) = 8

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (11/32))
trigger1 = fvar(1) > (pi * (9/32))
var(16) = 27

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (13/32))
trigger1 = fvar(1) > (pi * (11/32))
var(16) = 7

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (15/32))
trigger1 = fvar(1) > (pi * (13/32))
var(16) = 17

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (17/32))
trigger1 = fvar(1) > (pi * (15/32))
var(16) = 4

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (19/32))
trigger1 = fvar(1) > (pi * (17/32))
var(16) = 11

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (21/32))
trigger1 = fvar(1) > (pi * (19/32))
var(16) = 1

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (23/32))
trigger1 = fvar(1) > (pi * (21/32))
var(16) = 21

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (25/32))
trigger1 = fvar(1) > (pi * (23/32))
var(16) = 2

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (27/32))
trigger1 = fvar(1) > (pi * (25/32))
var(16) = 23

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (29/32))
trigger1 = fvar(1) > (pi * (27/32))
var(16) = 3

[State 3600, VarSet]
type = VarSet
trigger1 = fvar(1) <= (pi * (31/32))
trigger1 = fvar(1) > (pi * (29/32))
var(16) = 13

[State 3600, VarSet]
type = VarSet
trigger1 = p2dist X >= 0
var(16) = 6

[State 3600, VarSet]
type = VarSet
trigger1 = p2dist X < 0
var(16) = 4

[State 3600, VarSet]
type = VarSet
trigger1 = p2dist X >= 0
trigger1 = p2dist Y < -100
var(16) = 9

[State 3600, VarSet]
type = VarSet
trigger1 = p2dist X < 0
trigger1 = p2dist Y < -100
var(16) = 7

[State 3600, VarSet]
type = VarSet
trigger1 = p2dist X >= 0
trigger1 = p2dist Y > 0
var(16) = 3

[State 3600, VarSet]
type = VarSet
trigger1 = p2dist X < 0
trigger1 = p2dist Y > 0
var(16) = 1



[State 3600, VelSet]
type = VelSet
trigger1 = AnimElem = 3, > 0
trigger1 = Pos Y <= -1.5
y = 1.5

[State 3600, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 3600, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 3601

;---------------------------------------------------------------------------
; Air Super Optic Blast
[Statedef 3601]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 1
ctrl = 0

[State 3601, PlaySnd]
type = PlaySnd
trigger1 = PrevStateNo = 3600
value = 7,3
volume = 50
persistent = 0

[State 3601, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 3600 + var(16)

[State 3601, VarAdd]
type = VarAdd
trigger1 = AnimElem = 1, = 0
var(15) = 1

[State 3601, Helper]
type = Helper
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
stateno = 13600
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1
id = 13500
name = "Super Optic Blast Attacking Beam"

[State 3601, Helper]
type = Helper
triggerall = AnimElem = 1, = 0
triggerall = var(15) > 1
triggerall = var(15) < 10
trigger1 = Anim = 3623
trigger2 = Anim = 3603
trigger3 = Anim = 3613
trigger4 = Anim = 3602
trigger5 = Anim = 3611
trigger6 = Anim = 3601
trigger7 = Anim = 3621
stateno = 13600
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1
id = 33500
name = "Super Optic Blast Reflecting Beam"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3606
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13506
sprpriority = 2
postype = p1
pos = 23,-123
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 6"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3606
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23506
sprpriority = 2
postype = p1
pos = 23,-123
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 6"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3606
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33506
sprpriority = 2
postype = p1
pos = 23,-123
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 6"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3619
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13519
sprpriority = 2
postype = p1
pos = 13,-127
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 19"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3619
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23519
sprpriority = 2
postype = p1
pos = 13,-127
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 19"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3619
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33519
sprpriority = 2
postype = p1
pos = 13,-127
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 19"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3609
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13509
sprpriority = 2
postype = p1
pos = 15,-129
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 9"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3609
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23509
sprpriority = 2
postype = p1
pos = 15,-129
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 9"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3609
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33509
sprpriority = 2
postype = p1
pos = 15,-129
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 9"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3629
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13529
sprpriority = 2
postype = p1
pos = 12,-130
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 29"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3629
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23529
sprpriority = 2
postype = p1
pos = 20,-130
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 29"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3629
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33529
sprpriority = 2
postype = p1
pos = 20,-130
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 29"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3608
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13508
sprpriority = 2
postype = p1
pos = 5,-133
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 8"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3608
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23508
sprpriority = 2
postype = p1
pos = 5,-133
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 8"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3608
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33508
sprpriority = 2
postype = p1
pos = 5,-133
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 8"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3627
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13527
sprpriority = 2
postype = p1
pos = -2,-133
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 27"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3627
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23527
sprpriority = 2
postype = p1
pos = -2,-133
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 27"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3627
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33527
sprpriority = 2
postype = p1
pos = -2,-133
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 27"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3607
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13507
sprpriority = 2
postype = p1
pos = -6,-132
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 7"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3607
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23507
sprpriority = 2
postype = p1
pos = -6,-132
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 7"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3607
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33507
sprpriority = 2
postype = p1
pos = -6,-132
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 7"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3617
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13517
sprpriority = 2
postype = p1
pos = -10,-126
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 17"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3617
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23517
sprpriority = 2
postype = p1
pos = -10,-126
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 17"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3617
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33517
sprpriority = 2
postype = p1
pos = -10,-126
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 17"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3604
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13504
sprpriority = 2
postype = p1
pos = -13,-123
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 4"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3604
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23504
sprpriority = 2
postype = p1
pos = -13,-123
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 4"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3604
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33504
sprpriority = 2
postype = p1
pos = -13,-123
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 4"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3611
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13511
sprpriority = 2
postype = p1
pos = -8,-122
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 11"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3611
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23511
sprpriority = 2
postype = p1
pos = -8,-122
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 11"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3611
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33511
sprpriority = 2
postype = p1
pos = -8,-122
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 11"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3601
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13501
sprpriority = 2
postype = p1
pos = -10,-118
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 1"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3601
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23501
sprpriority = 2
postype = p1
pos = -10,-118
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 1"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3601
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33501
sprpriority = 2
postype = p1
pos = -10,-118
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 1"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3621
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13521
sprpriority = 2
postype = p1
pos = 0,-117
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 21"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3621
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23521
sprpriority = 2
postype = p1
pos = 0,-117
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 21"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3621
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33521
sprpriority = 2
postype = p1
pos = 0,-117
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 21"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3602
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13502
sprpriority = 2
postype = p1
pos = 4,-119
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 2"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3602
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23502
sprpriority = 2
postype = p1
pos = 4,-119
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 2"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3602
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33502
sprpriority = 2
postype = p1
pos = 4,-119
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 2"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3623
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13523
sprpriority = 2
postype = p1
pos = 13,-118
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 23"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3623
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23523
sprpriority = 2
postype = p1
pos = 13,-118
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 23"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3623
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33523
sprpriority = 2
postype = p1
pos = 13,-118
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 23"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3603
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13503
sprpriority = 2
postype = p1
pos = 19,-119
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 3"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3603
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23503
sprpriority = 2
postype = p1
pos = 19,-119
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 3"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3603
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33503
sprpriority = 2
postype = p1
pos = 19,-119
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 3"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3613
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 1
anim = 13513
sprpriority = 2
postype = p1
pos = 18,-120
bindtime = -1
ownpal = 1
id = 13600 + var(16)
name = "Super Optic Blast Beam Opening 13"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3613
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23513
sprpriority = 2
postype = p1
pos = 18,-120
bindtime = -1
ownpal = 1
id = 23600 + var(16)
name = "Super Optic Blast Beam 13"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3613
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) = 10
anim = 33513
sprpriority = 2
postype = p1
pos = 18,-120
bindtime = -1
ownpal = 1
id = 33600 + var(16)
name = "Super Optic Blast Beam Closing 13"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3611
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 33500
sprpriority = 2
postype = p1
pos = -285,0
bindtime = -1
ownpal = 1
id = 33600
name = "Super Optic Blast Beam Glare 11"

[State 3601, Explod]
type = Explod
trigger1 = Anim = 3611
trigger1 = AnimElem = 1, = 0
trigger1 = var(15) > 1
trigger1 = var(15) < 10
anim = 23551
sprpriority = 2
postype = p1
pos = -285,0
bindtime = -1
ownpal = 1
id = 23651
name = "Super Optic Blast Beam Reflect 11"

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3606
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
var(16) = 19
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3606
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
var(16) = 13

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3619
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 9
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3619
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 6

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3609
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 29
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3609
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 19

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3629
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 8
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3629
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 9

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3608
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdback"
var(16) = 27
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3608
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdfwd"
var(16) = 29

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3627
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 8
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3627
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 7

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3607
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 27
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3607
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 17

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3617
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 7
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3617
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 4

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3604
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
var(16) = 17
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3604
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
var(16) = 11

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3611
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 4
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3611
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 1

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3601
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 11
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3601
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 21

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3621
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdback"
var(16) = 1
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3621
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdfwd"
var(16) = 2

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3602
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdback"
var(16) = 21
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3602
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdfwd"
var(16) = 23

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3623
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 3
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3623
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 2

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3603
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 13
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3603
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 23

[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3613
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holdup"
trigger2 = command = "holdfwd"
var(16) = 6
[State 3601, VarSet]
type = VarSet
triggerall = Anim = 3613
triggerall = !AnimTime
triggerall = var(15) > 0
triggerall = var(15) < 10
trigger1 = command = "holddown"
trigger2 = command = "holdback"
var(16) = 3

[State 3601, VelSet]
type = VelSet
trigger1 = Pos Y <= -1.5
y = 1.5

[State 3601, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 3601, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = IfElse((var(15) = 10),3610,3601)

;---------------------------------------------------------------------------
; j. Super Optic Blast Attacking Beam
[Statedef 13600]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 13600, StateTypeSet]
type = StateTypeSet
triggerall = Ishelper(33500)
triggerall = p2dist X < 40
trigger1 = parent, Anim = 3613
trigger2 = parent, Anim = 3603
trigger3 = parent, Anim = 3623
movetype = I

[State 13600, SprPriority]
type = SprPriority
trigger1 = Ishelper(33500)
value = 2

[State 13600, StateTypeSet]
type = StateTypeSet
triggerall = Ishelper(33500)
triggerall = p2dist X > -40
trigger1 = parent, Anim = 3611
trigger2 = parent, Anim = 3601
trigger3 = parent, Anim = 3621
movetype = I

[State 13600, ChangeAnim]
type = ChangeAnim
trigger1 = !IsHelper(33500)
trigger1 = !Time
trigger1 = Anim != 20000 + parent, Anim - 100
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 20000 + parent, Anim - 100
persistent = 0

[State 13600, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3623
trigger1 = Anim != 13552
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13552
persistent = 0

[State 13600, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3603
trigger1 = Anim != 13550
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13550
persistent = 0

[State 13600, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3613
trigger1 = Anim != 13551
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13551
persistent = 0

[State 13600, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3602
trigger1 = Anim != 13553
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 13553
persistent = 0
[State 13600, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3611
trigger1 = Anim != 33551
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23551
persistent = 0
[State 13600, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3601
trigger1 = Anim != 33550
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23550
persistent = 0
[State 13600, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(33500)
trigger1 = !Time
trigger1 = parent, Anim = 3621
trigger1 = Anim != 33552
trigger1 = parent, var(15) > 1
trigger1 = parent, var(15) < 10
value = 23552
persistent = 0

[State 13600, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 13600, AssertSpecial]
type = AssertSpecial
trigger1 = !IsHelper(33500)
flag = Invisible
ignorehitpause = 1

[State 13600, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = parent, fvar(0)

[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3606
trigger1 = parent, facing = 1
x = parent, Pos X + 23
y = parent, Pos Y - 112
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3606
trigger1 = parent, facing = -1
x = parent, Pos X - 23
y = parent, Pos Y - 112
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3619
trigger1 = parent, facing = 1
x = parent, Pos X + 13
y = parent, Pos Y - 116
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3619
trigger1 = parent, facing = -1
x = parent, Pos X - 13
y = parent, Pos Y - 116
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3609
trigger1 = parent, facing = 1
x = parent, Pos X + 15
y = parent, Pos Y - 118
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3609
trigger1 = parent, facing = -1
x = parent, Pos X - 15
y = parent, Pos Y - 118
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3629
trigger1 = parent, facing = 1
x = parent, Pos X + 12
y = parent, Pos Y - 120
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3629
trigger1 = parent, facing = -1
x = parent, Pos X - 12
y = parent, Pos Y - 120
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3608
trigger1 = parent, facing = 1
x = parent, Pos X + 5
y = parent, Pos Y - 122
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3608
trigger1 = parent, facing = -1
x = parent, Pos X - 5
y = parent, Pos Y - 122
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3627
trigger1 = parent, facing = 1
x = parent, Pos X - 2
y = parent, Pos Y - 122
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3627
trigger1 = parent, facing = -1
x = parent, Pos X + 2
y = parent, Pos Y - 122
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3607
trigger1 = parent, facing = 1
x = parent, Pos X - 6
y = parent, Pos Y - 121
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3607
trigger1 = parent, facing = -1
x = parent, Pos X + 6
y = parent, Pos Y - 121
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3617
trigger1 = parent, facing = 1
x = parent, Pos X - 10
y = parent, Pos Y - 115
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3617
trigger1 = parent, facing = -1
x = parent, Pos X + 10
y = parent, Pos Y - 115
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3604
trigger1 = parent, facing = 1
x = parent, Pos X - 13
y = parent, Pos Y - 112
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3604
trigger1 = parent, facing = -1
x = parent, Pos X + 13
y = parent, Pos Y - 112
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3611
trigger1 = parent, facing = 1
x = parent, Pos X - 8
y = parent, Pos Y - 111
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3611
trigger1 = parent, facing = -1
x = parent, Pos X + 8
y = parent, Pos Y - 111
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3601
trigger1 = parent, facing = 1
x = parent, Pos X - 10
y = parent, Pos Y - 107
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3601
trigger1 = parent, facing = -1
x = parent, Pos X + 10
y = parent, Pos Y - 107
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3621
x = parent, Pos X
y = parent, Pos Y - 116
ignorehitpause = 1
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3602
trigger1 = parent, facing = 1
x = parent, Pos X + 4
y = parent, Pos Y - 108
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3602
trigger1 = parent, facing = -1
x = parent, Pos X - 4
y = parent, Pos Y - 108
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3623
trigger1 = parent, facing = 1
x = parent, Pos X + 13
y = parent, Pos Y - 107
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3623
trigger1 = parent, facing = -1
x = parent, Pos X - 13
y = parent, Pos Y - 107
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3603
trigger1 = parent, facing = 1
x = parent, Pos X + 19
y = parent, Pos Y - 108
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3603
trigger1 = parent, facing = -1
x = parent, Pos X - 19
y = parent, Pos Y - 108
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3613
trigger1 = parent, facing = 1
x = parent, Pos X + 18
y = parent, Pos Y - 109
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = !IsHelper(33500)
trigger1 = parent, Anim = 3613
trigger1 = parent, facing = -1
x = parent, Pos X - 18
y = parent, Pos Y - 109
ignorehitpause = 1

[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3611
trigger1 = parent, facing = 1
x = parent, Pos X - 8 - ((-(parent, Pos Y) + 111) * sin(70.9189))/sin(19.0811)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3611
trigger1 = parent, facing = -1
x = parent, Pos X + 8 + ((-(parent, Pos Y) + 111) * sin(70.9189))/sin(19.0811)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3601
trigger1 = parent, facing = 1
x = parent, Pos X - 10 - ((-(parent, Pos Y) + 107) * sin(51.1684))/sin(38.8352)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3601
trigger1 = parent, facing = -1
x = parent, Pos X + 10 + ((-(parent, Pos Y) + 107) * sin(51.1684))/sin(38.8352)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3621
trigger1 = parent, facing = 1
x = parent, Pos X + ((-(parent, Pos Y) + 106) * sin(27.7987))/sin(62.2013)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3621
trigger1 = parent, facing = -1
x = parent, Pos X - ((-(parent, Pos Y) + 106) * sin(27.7987))/sin(62.2013)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3602
x = parent, Pos X
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3623
trigger1 = parent, facing = 1
x = parent, Pos X - 13 - ((-(parent, Pos Y) + 107) * sin(27.7987))/sin(62.2013)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3623
trigger1 = parent, facing = -1
x = parent, Pos X + 13 + ((-(parent, Pos Y) + 107) * sin(27.7987))/sin(62.2013)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3603
trigger1 = parent, facing = 1
x = parent, Pos X + 119 + ((-(parent, Pos Y) + 108) * sin(51.1684))/sin(38.8352)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3603
trigger1 = parent, facing = -1
x = parent, Pos X - 119 - ((-(parent, Pos Y) + 108) * sin(51.1684))/sin(38.8352)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3613
trigger1 = parent, facing = 1
x = parent, Pos X + 18 + ((-(parent, Pos Y) + 109) * sin(70.9189))/sin(19.0811)
y = 0
ignorehitpause = 1
[State 13600, PosSet]
type = PosSet
trigger1 = IsHelper(33500)
trigger1 = parent, Anim = 3613
trigger1 = parent, facing = -1
x = parent, Pos X - 18 - ((-(parent, Pos Y) + 109) * sin(70.9189))/sin(19.0811)
y = 0
ignorehitpause = 1

[State 13600, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = !NumExplod(33500)
trigger1 = parent, Anim = 3613
trigger2 = parent, Anim = 3603
trigger3 = parent, Anim = 3623
anim = 33500
sprpriority = 3
postype = p1
pos = 17,-20
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare"

[State 13600, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = !NumExplod(33500)
trigger1 = parent, Anim = 3602
anim = 33500
sprpriority = 3
postype = p1
pos = 0,0
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare"

[State 13600, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = !NumExplod(33500)
trigger1 = parent, Anim = 3611
trigger2 = parent, Anim = 3601
trigger3 = parent, Anim = 3621
anim = 33500
sprpriority = 3
postype = p1
pos = -17,-20
bindtime = -1
ownpal = 1
id = 33500
name = "Super Optic Blast Beam Glare"

[State 13600, VarSet]
type = VarSet
trigger1 = MoveContact = 1
fvar(0) = floor(p2dist X)
persistent = 0
ignorehitpause = 1

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 3,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 3,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -2,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 3,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -11
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -3,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 3,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -12
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-6
airguard.velocity = -3,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 3,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,6
airguard.velocity = 2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 3,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,6
airguard.velocity = 2,0
down.velocity = 0,-6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25
yaccel = 0.83

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 3,2
sparkno = S8003
hitsound = S1,6
guardsound = S1,5
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-7
airguard.velocity = -2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
yaccel = 0.83
fall.recovertime = 25

[State 13500, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 28,7
getpower = 0
sprpriority = 1 + IsHelper(33500)
hitflag = MAFD
guardflag = MA
pausetime = 3,2
sparkno = S8003
hitsound = S1,6
guard.sparkno = s8050
ground.type = High
ground.slidetime = 20
ground.hittime = 22
yaccel = 0.83
ground.velocity = -13
guard.slidetime = 14
guard.hittime = 19
guard.slidetime = 11
guard.hittime = 11
guard.velocity = -6
air.velocity = 0,-7
airguard.velocity = 2,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
air.fall = 1
fall.recovertime = 25

[State 13600, NotHitBy]
type = NotHitBy
trigger1 = 1
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 13600, HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = 1
stateno = 13500
attr = SCA, NP, SP, HP
ignorehitpause = 1

[State 13600, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 13600, Explod]
type = Explod
trigger1 = parent, Anim = 3606
trigger1 = MoveHit = 1
anim = 997
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),0
bindtime = 1
ownpal = 1
id = 997
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1
[State 13600, Explod]
type = Explod
triggerall = !IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3613
trigger2 = parent, Anim = 3603
trigger3 = parent, Anim = 3623
anim = 10999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),80
bindtime = 1
ownpal = 1
id = 10999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1
[State 13600, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3613
trigger2 = parent, Anim = 3603
trigger3 = parent, Anim = 3623
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),-40
bindtime = 1
ownpal = 1
id = 999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1
[State 13600, Explod]
type = Explod
triggerall = !IsHelper(33500)
trigger1 = parent, Anim = 3602
trigger1 = MoveHit = 1
anim = 996
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 996
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1
[State 13600, Explod]
type = Explod
triggerall = IsHelper(33500)
trigger1 = parent, Anim = 3602
trigger1 = MoveHit = 1
anim = 998
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 998
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1
[State 13600, Explod]
type = Explod
triggerall = !IsHelper(33500)
trigger1 = parent, Anim = 3608
trigger1 = MoveHit = 1
anim = 998
sprpriority = 2
postype = p1
pos = 0,floor(p2dist Y - 40)
bindtime = 1
ownpal = 1
id = 998
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1
[State 13600, Explod]
type = Explod
trigger1 = parent, Anim = 3604
trigger1 = MoveHit = 1
anim = 997
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),0
facing = -1
bindtime = 1
ownpal = 1
id = 997
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1
[State 13600, Explod]
type = Explod
triggerall = !IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3611
trigger2 = parent, Anim = 3601
trigger3 = parent, Anim = 3621
anim = 10999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),80
facing = -1
bindtime = 1
ownpal = 1
id = 10999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1
[State 13600, Explod]
type = Explod
triggerall = IsHelper(33500)
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3611
trigger2 = parent, Anim = 3601
trigger3 = parent, Anim = 3621
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),-40
facing = -1
bindtime = 1
ownpal = 1
id = 999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13600, ParentVarAdd]
type = ParentVarAdd
trigger1 = HitCount = 1
var(9) = 1
ignorehitpause = 1
persistent = 0
[State 13600, Explod]
type = Explod
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3619
trigger2 = parent, Anim = 3609
trigger3 = parent, Anim = 3629
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),(floor(p2dist Y - 90))
bindtime = 1
ownpal = 1
id = 999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13600, Explod]
type = Explod
triggerall = MoveHit = 1
trigger1 = parent, Anim = 3617
trigger2 = parent, Anim = 3607
trigger3 = parent, Anim = 3627
anim = 999
sprpriority = 2
postype = p1
pos = (floor(fvar(0)) + 25),(floor(p2dist Y - 90))
facing = -1
bindtime = 1
ownpal = 1
id = 999
name = "Optic Blast Hit"
pausemovetime = 999999
persistent = 0
ignorehitpause = 1

[State 13600, DestroySelf]
type = DestroySelf
trigger1 = !AnimTime
trigger2 = parent, StateNo != 3601

;---------------------------------------------------------------------------
; j. Super Optic Blast End
[Statedef 3610]
type = A
movetype = A
physics = N
;anim = 3610
sprpriority = 1
ctrl = 0

[State 3000, VarSet]
type = VarSet
trigger1 = time = 1
var(35) = 0

[State 3610, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != StateNo
value = StateNo

[State 3610, VelSet]
type = VelSet
trigger1 = Pos Y <= -1.5
y = 1.5

[State 3610, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 3610, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 1211
ctrl = 1

;---------------------------------------------------------------------------
; Standing Variant Strike - s. Roundhouse
[Statedef 900]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 15
ctrl = 0

[State 900, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 900
value = 900

[State 900, VarSet]
type = VarSet
trigger1 = 1
var(56) = 1

[State 900, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger1 = AnimElem = 1, = 0
trigger1 = PrevStateNo = [150,154]
time = 10
anim = -1

[State 900, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1, = 0
trigger1 = PrevStateNo = [150,154]
time = 15
value = SCA, AA, AT, AP

[State 900, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 1, = 0
value = -1000

[State 900, EnvColor]
type = EnvColor
trigger1 = AnimElem = 1, = 0
time = 1
add = 255,255,255

[State 900, VelSet]
type = VelSet
trigger1 = AnimElem = 2, = 0
x = 6

[State 900, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2
volume = 100

[State 900, HitDef]
type = HitDef
trigger1 = P2StateType != A
trigger1 = !MoveContact
attr = S, SA
animtype = Hard
damage = 48,14
getpower = 0
hitflag = MA
guardflag = MA
pausetime = 9,9
sparkno = 2
sparkxy = 0,-82
hitsound = S1,2
guardsound = S202,0
ground.type = High
ground.slidetime = 11
ground.hittime = 27
ground.velocity = -14
guard.velocity = -7
air.velocity = -7,-4
airguard.velocity = -3.5,-2
p2stateno = 901
[State 900, HitDef]
type = HitDef
trigger1 = P2StateType = A
trigger1 = !MoveContact
attr = S, SA
animtype = Hard
damage = 48,14
hitflag = MA
guardflag = MA
pausetime = 9,9
sparkno = 2
sparkxy = 0,-82
hitsound = S1,2
guardsound = S202,0
ground.type = High
ground.slidetime = 11
ground.hittime = 27
ground.velocity = -14
guard.velocity = -7
air.velocity = -15,-2
airguard.velocity = -7.5,-1
fall = 1
fall.recover = 0

[State 900, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hit by Standing Variant Strike
[Statedef 901]
type = S
movetype = H
physics = S
velset = -5,0
ctrl = 0

[State 901, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 901, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 901

[State 901, LifeAdd]
type = LifeAdd
trigger1 = !Time
value = ceil(-48 * (enemy, fvar(0)))

[State 901, Turn]
type = Turn
trigger1 = Anim = 901 && AnimElem = 4

[State 901, ChangeAnim]
type = ChangeAnim
trigger1 = SelfAnimExist(5)
trigger1 = Anim = 901
trigger1 = !AnimTime
value = 5

[State 901, SelfState]
type = SelfState
trigger1 = Time = 16
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Variant Strike - c. Strong
[Statedef 920]
type = C
movetype = A
physics = C
velset = 0,0
juggle = 5
ctrl = 0

[State 920, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 920
value = 920

[State 920, VarSet]
type = VarSet
trigger1 = 1
var(56) = 1

[State 920, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger1 = AnimElem = 1, = 0
trigger1 = PrevStateNo = [150,154]
time = 10
anim = -1

[State 920, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1, = 0
trigger1 = PrevStateNo = [150,154]
time = 15
value = SCA, AA, AT, AP

[State 920, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 1, = 0
value = -1000

[State 920, EnvColor]
type = EnvColor
trigger1 = AnimElem = 1, = 0
time = 1
add = 255,255,255

[State 920, VelSet]
type = VelSet
trigger1 = AnimElem = 3, = 0
x = 4

[State 920, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2
volume = 100

[State 920, HitDef]
type = HitDef
trigger1 = !MoveContact
attr = C, SA
animtype = Hard
damage = 63,14
getpower = 0
hitflag = MAFD
guardflag = MA
pausetime = 18,18
sparkno = 2
sparkxy = 0,-82
hitsound = S1,2
guardsound = S202,0
ground.type = Low
ground.slidetime = 11
ground.hittime = 27
ground.velocity = -14
guard.velocity = -7
air.velocity = -7,-4
airguard.velocity = -3.5,-2
envshake.time = 10
envshake.ampl = -5
p2stateno = 921

[State 920, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Hit by Crouching Variant Strike
[Statedef 921]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 921, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 921, PosSet]
type = PosSet
trigger1 = !Time
y = -10

[State 921, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 921

[State 921, PosFreeze]
type = PosFreeze
trigger1 = Time <= 18

[State 921, VelSet]
type = VelSet
trigger1 = Time = 18
x = -1
y = -6

[State 921, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 921, VelSet]
type = VelSet
trigger1 = Pos Y > 0
x = 0
y = 0

[State 921, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 921, SelfState]
type = SelfState
trigger1 = Time > 24
trigger1 = !Pos Y
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Jumping Variant Strike - j. Forward
[Statedef 940]
type = A
movetype = A
physics = A
velset = 0,0
juggle = 5
ctrl = 0

[State 940, ChangeAnim]
type = ChangeAnim
trigger1 = !Time && Anim != 940
value = 940

[State 940, VarSet]
type = VarSet
trigger1 = 1
var(56) = 1

[State 940, SuperPause]
type = SuperPause
trigger1 = !IsHelper
trigger1 = AnimElem = 1, = 0
trigger1 = PrevStateNo = [150,154]
time = 10
anim = -1

[State 940, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 1, = 0
trigger1 = PrevStateNo = [150,154]
time = 15
value = SCA, AA, AT, AP

[State 940, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 1, = 0
value = -1000

[State 940, EnvColor]
type = EnvColor
trigger1 = AnimElem = 1, = 0
time = 1
add = 255,255,255

[State 940, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 10,1
volume = 100

[State 940, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,1
volume = 100

[State 940, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
animtype = Medium
damage = 42,14
getpower = 0
hitflag = MAF
guardflag = HA
pausetime = 9, 9
sparkno = 1
sparkxy = 0,-75
hitsound = S1,1
guardsound = S202,0
ground.type = High
ground.slidetime = 13
ground.hittime = 16
guard.velocity = -5
airguard.velocity = -5,2.5
p2stateno = 941

[State 940, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Hit by Jumping Rush
[Statedef 941]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 941, Turn]
type = Turn
trigger1 = !Time && !(p2dist X < 0 && facing != enemyNear, facing) && (facing = enemyNear, facing)
value = 1

[State 941, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 941

[State 941, VelSet]
type = VelSet
trigger1 = Time = 9
x = -22
y = -4

[State 941, ChangeState]
type = ChangeState
trigger1 = Time > 9 && BackEdgeBodyDist <= 10
value = 942

;---------------------------------------------------------------------------
; Hit by Jumping Rush Continued
[Statedef 942]
type = A
movetype = H
physics = N
velset = 3,-4
ctrl = 0

[State 941, ChangeAnim2]
type = ChangeAnim2
trigger1 = BackEdgeBodyDist <= 10
value = 942
persistent = 0

[State 942, Turn]
type = Turn
trigger1 = !Time

[State 942, EnvShake]
type = EnvShake
trigger1 = !Time
time = 10
ampl = -6

[State 942, Gravity]
type = Gravity
trigger1 = 1

[State 942, VelSet]
type = VelSet
trigger1 = Pos Y > 0
x = 0
y = 0

[State 942, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 942, SelfState]
type = SelfState
trigger1 = !Vel X && !Vel Y && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
; Dizzy Get-up
[Statedef 9004]
type = S
movetype = I
physics = S
anim = 5120
velset = 0,0
ctrl = 0

[State 9004, VarSet]
type = VarSet
trigger1 = 1
var(54) = 1
ignorehitpause = 1

[State 9004, NotHitBy]
type = NotHitBy
trigger1 = Anim = 5120
time = 1
value = SCA, AA, AT, AP

[State 9004, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 5120
trigger1 = !AnimTime
value = 5300

[State 9004, Explod]
type = Explod
trigger1 = Anim = 5300
anim = 15300
sprpriority = 2
postype = p1
pos = 0,-90
bindtime = -1
removetime = 120
ownpal = 1
removeongethit = 1
name = "Dizzy"
id = 15300
pausemovetime = 999999
supermovetime = 999999
persistent = 0

[State 9004, PlaySnd]
type = PlaySnd
trigger1 = Anim = 5300
value = 5300,0
volume = 50
persistent = 0

[State 9004, Helper]
type = Helper
trigger1 = Anim = 5300 && Random < 250
postype = p1
pos = 0,-80
stateno = 5301
bindtime = 1
ownpal = 1
name = "Optic Shard"
id = 5301
pausemovetime = 99999999999999999999
supermovetime = 99999999999999999999

[State 9004, ChangeState]
type = ChangeState
trigger1 = Time = 147
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Optic Shard
[Statedef 5301]
movetype = I
physics = N
anim = 5301
ctrl = 0

[State 5301, VarRandom]
type = VarRandom
trigger1 = !Time
v = 0
range = -30,30

[State 5301, VarRandom]
type = VarRandom
trigger1 = !Time
v = 1
range = -60,-10

[State 5301, VarRandom]
type = VarRandom
trigger1 = !Time
v = 2
range = 1,2

[State 5301, SprPriority]
type = SprPriority
trigger1 = !Time
value = var(2)

[State 5301, VelSet]
type = VelSet
trigger1 = !Time
x = var(0)/10
y = var(1)/10

[State 5301, VelAdd]
type = VelAdd
trigger1 = Time > 1
y = .35

[State 5301, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 5301, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0
value = 5302

;---------------------------------------------------------------------------
; Optic Shard Explode
[Statedef 5302]
movetype = I
physics = N
anim = 5302
velset = 0,0
ctrl = 0

[State 5302, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 5302, DestroySelf]
type = DestroySelf
trigger1 = !AnimTime

;---------------------------------------------------------------------------
;Guard Push (Stand)
[Statedef 6300]
type    = S
movetype= I
physics = N
poweradd= 0
velset = 0,0
ctrl = 0
anim = 133
sprpriority = 2

[State 6300, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6300, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6300, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6300, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6300, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6300, a6]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
postype = p1
ontop = 1
scale = 0.5, 0.5

[State 6300, a7]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
volume = 255

[State 6300, a9]
type = ChangeState
trigger1 = time = 9
value = 0
ctrl = 1

[Statedef 6310];--------------crouch
type    = C
movetype= I
physics = N
poweradd= 0
velset = 0,0
ctrl = 0
anim = 134
sprpriority = 2

[State 6310, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6310, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6310, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6310, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6310, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6300, a6]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
postype = p1
ontop = 1
scale = 0.5, 0.5

[State 6300, a7]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
volume = 255

[State 6310, a9]
type = ChangeState
trigger1 = time = 9
value = 11
ctrl = 1

[Statedef 6320];------------air
type    = S
movetype= I
physics = N
poweradd= 0
velset = 0,0
ctrl = 0
anim = 135
sprpriority = 2

[State 6320, a1]
type = VelMul
trigger1 = 1
x = 0.75

[State 6320, a2]
type = VelSet
trigger1 = Time = 10
x = 0

[State 6320, a3]
type = Width
trigger1 = 1
value = 10,0

[State 6320, a4]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 6320, a5]
type = Helper
trigger1 = Time = 0
helpertype = Normal
name = "GuardPush"
postype = P1
pos = -50,0
stateno = 6350
ownpal = 1
size.height = 200
size.ground.back = 30
size.ground.front = 30

[State 6300, a6]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
postype = p1
ontop = 1
scale = 0.5, 0.5

[State 6300, a7]
type = PlaySnd
trigger1 = Time = 0
value = 0,14
volume = 255

[State 6320, a9]
type = ChangeState
trigger1 = time = 9
value = 51
ctrl = 1

[Statedef 6350];guard push helper
type    = S
movetype= I
physics = N
poweradd= 0
ctrl = 0
anim = 10150
sprpriority = -4

[State 6350, a1]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 6350, a2]
type = VelSet
trigger1 = Time = [0,10]
x = 30

[State 6350, a3]
type = VelSet
trigger1 = Time = [11,13]
x = 20

[State 6350, a4]
type = VelSet
trigger1 = Time >= 14
x = 10

[State 6350, a5]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6350, a6]
type = DestroySelf
trigger1 = Time >= 18

;---------------------------------------------------------------------------
; OTG'd
[Statedef 15080]
type = L
movetype = H
physics = N
anim = 5080
facep2 = 1
ctrl = 0

[State 15080, StateTypeSet]
type = StateTypeSet
trigger1 = Pos Y < 0
statetype = A

[State 15080, VelSet]
type = VelSet
trigger1 = !Time
x = GetHitVar(xvel) * facing
y = GetHitVar(yvel)

[State 15080, VelSet]
type = VelSet
trigger1 = !Alive
x = -7.5
y = -5

[State 15080, PosSet]
type = PosSet
trigger1 = Pos Y > 0
y = 0

[State 15080, LifeAdd]
type = LifeAdd
trigger1 = !Time
value = -(GetHitVar(damage))

[State 15080, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y != 0
trigger1 = Anim != 5090
value = 5090

[State 15080, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 15080, PosSet]
type = PosSet
trigger1 = Time > 2
trigger1 = Pos Y >= 0
y = 0

[State 15080, VelSet]
type = VelSet
trigger1 = Time > 2
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
y = 0

[State 15080, ChangeState]
type = ChangeState
trigger1 = !Vel Y && !Pos Y
trigger1 = Time >= 20
value = 25110

[State 15080, SelfState]
type = SelfState
trigger1 = !Alive
value = 5050

;---------------------------------------------------------------------------
; Hyper Combo Finish!
[Statedef 13100]
movetype = I
anim = 2301
ctrl = 0

[State 13100, PalFX]
type = PalFX
trigger1 = !Time
time = 4;2
sinadd = 0,0,0,8;4
color = 0
[State 13100, PalFX]
type = PalFX
trigger1 = Time = 4
time = 4;2
sinadd = 100,0,0,8;4
color = 0
[State 13100, PalFX]
type = PalFX
trigger1 = Time = 8
time = 4;2
sinadd = 100,100,0,8;4
color = 0
[State 13100, PalFX]
type = PalFX
trigger1 = Time = 12
time = 4;2
sinadd = 100,0,100,8;4
color = 0
[State 13100, PalFX]
type = PalFX
trigger1 = Time = 16
time = 4;2
sinadd = 0,100,0,8;4
color = 0
[State 13100, PalFX]
type = PalFX
trigger1 = Time = 20
time = 4;2
sinadd = 0,100,100,8;4
color = 0
[State 13100, PalFX]
type = PalFX
trigger1 = Time = 24
time = 4;2
sinadd = 100,100,100,8;4
color = 0

[State 13100, Explod]
type = Explod
trigger1 = PrevStateNo != 13100
trigger1 = Time = 1
anim = 13100
sprpriority = -1
postype = left
pos = 0,0
bindtime = -1
removetime = 120
ownpal = 0
id = 13100
name = "Hyper Combo Finish!! Radial"
persistent = 0
ignorehitpause = 1

[State 13100, ChangeState]
type = ChangeState
trigger1 = Time = 24
value = 13100

[State 13100, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
id = 13100
ignorehitpause = 1

[State 13100, DestroySelf]
type = DestroySelf
trigger1 = Time > 0
trigger1 = NumExplod(13100) = 0

;---------------------------------------------------------------------------
; Hyper Combo!! 1/8
[Statedef 23000]
movetype = I
physics = N
anim = 23000
sprpriority = 3
ctrl = 0

[State 23000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 23000, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23000, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23000, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23000, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23000, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23000, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23000, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23000, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 0

[State 23000, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 0
var(0) = 7
[State 23000, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 1
var(0) = 8

[State 23000, VarSet]
type = VarSet
trigger1 = var(0) = 360
var(0) = 0

[State 23000, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 23000, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 23000, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Hyper Combo!! 2/8
[Statedef 23001]
movetype = I
physics = N
anim = 23000
sprpriority = 3
ctrl = 0

[State 23001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 23001, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23001, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23001, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23001, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23001, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23001, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23001, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23001, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 45

[State 23001, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 0
var(0) = 7
[State 23001, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 1
var(0) = 8

[State 23001, VarSet]
type = VarSet
trigger1 = var(0) = 360
var(0) = 0

[State 23001, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 23001, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 23001, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Hyper Combo!! 3/8
[Statedef 23002]
movetype = I
physics = N
anim = 23000
sprpriority = 3
ctrl = 0

[State 23002, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 23002, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23002, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23002, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23002, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23002, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23002, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23002, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23002, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 90

[State 23002, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 0
var(0) = 7
[State 23002, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 1
var(0) = 8

[State 23002, VarSet]
type = VarSet
trigger1 = var(0) = 360
var(0) = 0

[State 23002, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 23002, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 23002, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Hyper Combo!! 4/8
[Statedef 23003]
movetype = I
physics = N
anim = 23000
sprpriority = 3
ctrl = 0

[State 23003, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 23003, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23003, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23003, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23003, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23003, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23003, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23003, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23003, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 135

[State 23003, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 0
var(0) = 7
[State 23003, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 1
var(0) = 8

[State 23003, VarSet]
type = VarSet
trigger1 = var(0) = 360
var(0) = 0

[State 23003, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 23003, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 23003, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Hyper Combo!! 5/8
[Statedef 23004]
movetype = I
physics = N
anim = 23000
sprpriority = 3
ctrl = 0

[State 23004, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 23004, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23004, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23004, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23004, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23004, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23004, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23004, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23004, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 180

[State 23004, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 0
var(0) = 7
[State 23004, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 1
var(0) = 8

[State 23004, VarSet]
type = VarSet
trigger1 = var(0) = 360
var(0) = 0

[State 23004, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 23004, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 23004, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Hyper Combo!! 6/8
[Statedef 23005]
movetype = I
physics = N
anim = 23000
sprpriority = 3
ctrl = 0

[State 23005, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 23005, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23005, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23005, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23005, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23005, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23005, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23005, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23005, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 225

[State 23005, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 0
var(0) = 7
[State 23005, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 1
var(0) = 8

[State 23005, VarSet]
type = VarSet
trigger1 = var(0) = 360
var(0) = 0

[State 23005, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 23005, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 23005, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Hyper Combo!! 7/8
[Statedef 23006]
movetype = I
physics = N
anim = 23000
sprpriority = 3
ctrl = 0

[State 23006, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 23006, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23006, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23006, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23006, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23006, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23006, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23006, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23006, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 270

[State 23006, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 0
var(0) = 7
[State 23006, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 1
var(0) = 8

[State 23006, VarSet]
type = VarSet
trigger1 = var(0) = 360
var(0) = 0

[State 23006, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 23006, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 23006, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Hyper Combo!! 8/8
[Statedef 23007]
movetype = I
physics = N
anim = 23000
sprpriority = 3
ctrl = 0

[State 23007, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 23007, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23007, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23007, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23007, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23007, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23007, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23007, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23007, VarSet]
type = VarSet
trigger1 = !Time
var(0) = 315

[State 23007, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 0
var(0) = 7
[State 23007, VarAdd]
type = VarAdd
trigger1 = Time > 0
trigger1 = var(0) < 360
trigger1 = Time%2 = 1
var(0) = 8

[State 23007, VarSet]
type = VarSet
trigger1 = var(0) = 360
var(0) = 0

[State 23007, AngleSet]
type = AngleSet
trigger1 = 1
value = var(0)

[State 23007, AngleDraw]
type = AngleDraw
trigger1 = 1

[State 23007, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Hyper Combo!! Focus
[Statedef 23008]
movetype = I
physics = N
anim = 23008
sprpriority = 3
ctrl = 0

[State 23008, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = NoFG
flag3 = NoBarDisplay

[State 23008, PalFX]
type = PalFX
trigger1 = parent, StateNo != [8000,8050]
trigger1 = !Time
time = 45
sinadd = 150,150,150,5
color = 0

[State 23008, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8000
trigger1 = !Time
time = 45
add = 128,80,192
color = 0

[State 23008, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8010
trigger1 = !Time
time = 45
add = 160,0,96
color = 0

[State 23008, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8020
trigger1 = !Time
time = 45
add = 208,64,48
color = 0

[State 23008, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8030
trigger1 = !Time
time = 45
add = 0,96,0
color = 0

[State 23008, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8040
trigger1 = !Time
time = 45
add = 128,0,192
color = 0

[State 23008, PalFX]
type = PalFX
trigger1 = parent, StateNo = 8050
trigger1 = !Time
time = 45
add = 192,0,0
color = 0

[State 23008, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

; nGtFNg 
[Statedef 8200]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
pos = 16,0
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,0
vel = -4,0
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0

; X[p[R{o(wp[) 
	
[Statedef 8500] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 7,6

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1

[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(35) = 1 && !numexplod(8505)
anim = 8505
id = 8505
postype = left
bindtime = -1
removetime = -1
scale = .5,.5*fvar(1)
sprpriority = -3
ownpal = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(8505)
ID = 8505
scale = .5,.5*fvar(1)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = ifelse(screenpos y-212<0,0,screenpos y-212)

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = 1+(fvar(0)/512)

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(35) = 0 || root,var(35) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,winko
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(35) = 0
trigger2 = root,movetype = H

 
[Statedef 8510] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,13

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,12

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay
flag3 = nomusic

; [State 8510, AssertSpecial]
; type = AssertSpecial
; trigger1 = (StageVar(Info.Name) != "Absolute Cloud-Night")
; flag = nomusic

[State 8510, Explod]
type = Explod
trigger1 = time = 0
anim = 8510
id = 8510
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1

[State 8510, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(8510)

; ^[QbgJo[ 
[Statedef 9900]
type = A
movetype = H
physics = N

[State 9900, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5040,5050)
 
; ^[Qbg_EA 
[Statedef 9901]
type = A
movetype = H
physics = N

[State 9901, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5201,5050)
 
; ^[QbgoEh 
[Statedef 9910]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5040

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -6

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52

; HIT_FALLRECOVER (on the ground) 
[Statedef 5201]
type    = C
movetype= H
physics = N
anim = ifelse(prevstateno=5200,5200,5201)
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(anim=5200,8,-4)
y = 0

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

; PRE-WALKING
[Statedef 22]
type    = S
physics = S
sprpriority = 0

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20, VelMul]
type = VelMul
trigger1 = var(51) = 1
x = 1.7

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x > 0 &&  anim != 22
value = 22

[State 20, ChangeAnim]
type = ChangeAnim
trigger1 = vel x < 0 &&  anim != 22
value = 22


;---------------------------------------------------------------------------
;-------------------------------[State -2]----------------------------------
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
[Statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = StateNo = 9910 && time = 1
value = 0,7
channel = 4

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = 1
var(30) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget
var(30) = target,id
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = !numtarget
var(31) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget && hitpausetime
var(31) = target,stateno = 5080
ignorehitpause = 1



[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(30)) && !var(31)
trigger1 = playerID(var(30)),gethitvar(chainid) & 1
trigger1 = playerID(var(30)),stateno != [120,155]
trigger1 = playerID(var(30)),hitover && playerID(var(30)),alive && playerID(var(30)),hitshakeover
trigger1 = playerID(var(30)),statetype = A && playerID(var(30)),stateno != 9900
value = 9900

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(30)) && var(31)
trigger1 = playerID(var(30)),alive && playerID(var(30)),hitshakeover
trigger1 = playerID(var(30)),pos y >= 0 && playerID(var(30)),vel y > 0
trigger1 = playerID(var(30)),statetype = A && playerID(var(30)),stateno != 5201 && playerID(var(30)),stateno != 9910
value = 9901

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(30))
trigger1 = playerID(var(30)),gethitvar(chainid) & 2
trigger1 = playerID(var(30)),stateno != [120,155]
trigger1 = playerID(var(30)),alive && playerID(var(30)),hitshakeover
trigger1 = playerID(var(30)),pos y >= 0 && playerID(var(30)),vel y > 0
trigger1 = playerID(var(30)),statetype = A && playerID(var(30)),stateno != 9910
value = 9910

[State -3]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090

[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate = 2
trigger1 = roundstate != 3
trigger1 = NumHelper(19999997) = 0
stateno = 19999997
id = 19999997

;KO Sound
[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate != 2
trigger1 = roundstate = 3
trigger1 = NumHelper(19999998) = 0
stateno = 19999998
id = 19999998

[State -2, Remember the last Position (X)]
type = VarSet
triggerall = RoundState < 2
trigger1 = stateno = [0, 21] ;Enable after Intro
fvar(3) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(3) != 0
trigger1 = prevstateno != [191, 192] 
x = fvar(3)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(3) = 0

[State -2, Pre-walking state]
type = ChangeState
;triggerall = !var(59)
trigger1 = prevstateno = [191,192] ;Enable after Intro
trigger2 = RoundNo != 1              ;Enable If Round Number is > 1
trigger2 = RoundState = 1           ;RoundState < 2 and
trigger2 = stateno = 0              ;Current state is 0
value = 21
ctrl = 0

; GA~b^[A 
[State 650, GA~b^[A]
type = PlaySnd
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
value = 0,11

[State 620, GA~b^[A]
type = VarSet
triggerall = numtarget
trigger1 = movehit = 1 && (target,gethitvar(chainid)&64)
trigger2 = projhit = 1 && (target,gethitvar(chainid)&64)
var(50) = 2

[State -2, GA~b^[A]
type = VarSet
trigger1 = !numtarget
var(50) = 0

[State -2, GA~b^[A]
type = VarSet
trigger1 = var(50)= 2 && ctrl && statetype != A
var(50) = 3

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = var(50) = 2
trigger1 = pos x*facing < 0
value = 0
movecamera = 0,0
ignorehitpause = 1

[State -2, GA~b^[A]
type = ChangeState
triggerall = var(50) = 2
trigger1 = backedgebodydist < -20 && stateno != 100 && stateno != [710,711]
value = 710

[State -2, GA~b^[A]
type = ScreenBound
trigger1 = stateno = 100 && prevstateno = 710
value = 0
movecamera = 0,0

[State -2, GA~b^[A]
type = NotHitBy
trigger1 = stateno = 100 && prevstateno = 710
value = SCA

; R{bZ[W 
; 1P
[State -2, R{bZ[W]
type = Explod
triggerall = !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 1
trigger1 = var(18) >= 3 && var(19) < 2
anim = 8550+(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0, 80
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State -2, R{bZ[W]
type = Explod
triggerall = !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 1
trigger1 = var(18) >= 3 && var(19) >= 2
anim = 8558+(var(40)=2)
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0, 80
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

; 2P
[State -2, R{bZ[W]
type = Explod
triggerall = !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 2
trigger1 = var(18) >= 3 && var(19) < 2
anim = 8560+(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0, 80
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

[State -2, R{bZ[W]
type = Explod
triggerall = !numexplod(8570)
triggerall = !numtarget && roundstate = 2 && teamside = 2
trigger1 = var(18) >= 3 && var(19) >= 2
anim = 8568+(var(40)=2)
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0, 80
scale = .5,.5
ignorehitpause = 1
supermove = 1
pausemovetime = 99999999
id = 8550

; AiEX
[State -2, R{bZ[W]
type = PlaySnd
triggerall = !numtarget && roundstate = 2
trigger1 = var(18) >= 3 && var(19) < 2
value = 2,(var(18)>3)+(var(18)>5)+(var(18)>7)+(var(18)>9)+(var(18)>29)+(var(18)>59)+(var(18)>99)
ignorehitpause = 1

[State -2, R{bZ[W]
type = PlaySnd
triggerall = !numtarget && roundstate = 2
trigger1 = var(18) >= 3 && var(19) >= 2
value = 2,8+(var(40)=2)
ignorehitpause = 1
 
; VXebZ[W 
[State -2, VXebZ[W]
type = Explod
triggerall = !(var(43)&1) && teamside = 1
trigger1 = movehit
trigger2 = projhittime(0) > 0
anim = 8570
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0, 80
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, VXebZ[W]
type = Explod
triggerall = !(var(43)&1) && teamside = 2
trigger1 = movehit
trigger2 = projhittime(0) > 0
anim = 8575
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0, 80
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, VXebZ[W]
type = PlaySnd
triggerall = !(var(43)&1)
trigger1 = movehit
trigger2 = projhittime(0) > 0
value = 2,10
ignorehitpause = 1

[State -2, VXebZ[W]
type = VarSet
triggerall = !(var(43)&1)
trigger1 = movehit
trigger2 = projhittime(0) > 0
trigger3 = movetype = H && stateno != [120,155]
trigger4 = numpartner
trigger4 = partner,movetype = H && partner,stateno != [120,155]
trigger5 = numpartner
trigger5 = partner,movehit || partner,projhittime(0) > 0
var(43) = var(43) | 1
ignorehitpause = 1

[State -2, VXebZ[W]
type = Explod
triggerall = !(var(43)&2) && teamside = 1
trigger1 = life < lifemax * .35
anim = 8571
ownpal = 1
ontop = 1
postype = left
bindtime = -1
pos = 0, 80
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, VXebZ[W]
type = Explod
triggerall = !(var(43)&2) && teamside = 2 && alive
trigger1 = life < lifemax * .35
anim = 8576
ownpal = 1
ontop = 1
postype = right
bindtime = -1
pos = 0, 80
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8570

[State -2, VXebZ[W]
type = PlaySnd
triggerall = !(var(43)&2) && alive
trigger1 = life < lifemax * .35
value = 2,11
ignorehitpause = 1

[State -2, VXebZ[W]
type = VarSet
triggerall = !(var(43)&2)
trigger1 = life < lifemax * .35
var(43) = var(43) | 2
ignorehitpause = 1

[State -2, VXebZ[W]
type = VarSet
triggerall = (var(43)&2)
trigger1 = life >= lifemax * .35
var(43) = var(43) ^ 2
ignorehitpause = 1

[State -2, VXebZ[W]
type = RemoveExplod
trigger1 = numexplod(8570) && numexplod(8550)
id = 8550
ignorehitpause = 1

; R{ 
[State -2, R{]
type = VarSet
trigger1 = statetype = A && prevstateno = [600,800)
trigger1 = stateno = [1000,5000)
var(13) = 1

[State -2, R{]
type = VarAdd
trigger1 = movehit = 1
trigger2 = projhit = 1
var(18) = 1

[State -2, R{]
type = VarAdd
triggerall = statetype = A && numtarget
triggerall = target,statetype = A
triggerall = movehit = 1 || projhit = 1
trigger1 = stateno = [600,800)
trigger2 = var(13) && stateno = [1000,5000)
var(19) = 1

[State -2, R{]
type = VarSet
;trigger1 = !numtarget
trigger1 = !numenemy
trigger2 = numenemy
trigger2 = enemynear,movetype != H
var(13) = 0


[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(18) = 0

[State -2, R{]
type = VarSet
trigger1 = !numtarget
var(19) = 0

; R{ 
[State -2, R{]
type = VarSet
trigger1 = 1
fvar(0) = 1.0-(var(18)>3)*((var(18)-3)*.075)

[State -2, R{]
type = VarSet
trigger1 = fvar(0) < .0
fvar(0) = .025

[State -2, R{]
type = AttackMulSet
trigger1 = 1
value = fvar(0)

; _[W 
[State -2, _[W]
type = VarSet
trigger1 = movetype = H
var(57) = 0

[State -2, _[W]
type = AfterImage
trigger1 = movetype = H
time = 0

; wp[A 
[State -2, wp[A]
type = VarSet
trigger1 = !numhelper
var(57) = 0
;---------------------------------------------------------------------------
;-[ Debug Display ]-
; fobOp 
[State -2, Debug]
type = DisplayToClipboard
trigger1 = 1
text = "velx:%f,vely:%f,distx:%f,disty:%f %f"
params = vel x,vel y,p2bodydist x,p2bodydist y,fvar(1)
ignorehitpause = 1

;---------------------------------------------------------------------------
;-[ Angle to P2 ]-
[State -2]
type = VarSet
trigger1 = p2dist X != 0
trigger1 = p2dist Y != 0
fvar(1) = atan((p2dist Y)/(p2dist X))

[State -2]
type = VarSet
trigger1 = !p2dist X
trigger1 = p2dist Y >= 0
fvar(1) = (pi/2)

[State -2]
type = VarSet
trigger1 = !p2dist X
trigger1 = p2dist Y < 0
fvar(1) = -(pi/2)

[State -2]
type = VarSet
trigger1 = p2dist X >= 0
trigger1 = !p2dist Y
fvar(1) = 0

[State -2]
type = VarSet
trigger1 = p2dist X < 0
trigger1 = !p2dist Y
fvar(1) = pi

;---------------------------------------------------------------------------
;-[ Explod Control ]-
[State -2]
type = RemoveExplod
trigger1 = StateNo != 220
trigger1 = StateNo != 9000
id = 222
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = StateNo != 420
trigger1 = StateNo != 9000
id = 422
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = StateNo != 195
trigger1 = StateNo != 9000
trigger1 = StateNo != 183
trigger1 = StateNo != 184
id = 10195
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = StateNo != 1000
trigger1 = StateNo != 1001
trigger1 = StateNo != 9000
id = 11000
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = StateNo != 1000
trigger1 = StateNo != 1001
trigger1 = StateNo != 9000
id = 21000
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = StateNo != 1100
trigger1 = StateNo != 9000
id = 11100
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = StateNo != 1050
trigger1 = StateNo != 9000
id = 11050
[State -2]
type = RemoveExplod
trigger1 = StateNo != 1050
trigger1 = StateNo != 9000
id = 21050
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = StateNo != 1303
trigger1 = StateNo != 9000
id = 1303
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = StateNo != 3000
trigger1 = StateNo != 3050
trigger1 = StateNo != 9000
id = 3001
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13506)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13506
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13519)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13519
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13509)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13509
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13529)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13529
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13508)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13508
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13527)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13527
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13507)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13507
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13517)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13517
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13504)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13504
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13511)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13511
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13501)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13501
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13521)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13521
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13502)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13502
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13523)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13523
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13503)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13503
ignorehitpause = 1
[State -2]
type = RemoveExplod
trigger1 = NumExplod(13513)
trigger1 = StateNo != 3501
trigger1 = StateNo != 3601
trigger1 = StateNo != 9000
id = 13513
ignorehitpause = 1

;---------------------------------------------------------------------------
;-[ Variant Strike ]-
[State -2]
type = VarSet
trigger1 = !var(9)
var(56) = 0

;---------------------------------------------------------------------------
;-[ Launcher Juggling ]-
[State -2]
type = VarSet
trigger1 = enemyNear, StateType != A
var(58) = 0

;---------------------------------------------------------------------------
;-[ Vels, Vels! ]-
[State -2]
type = VelSet
triggerall = PrevStateNo = 20 && Vel X > 0
trigger1 = StateNo = [200,499]
x = 0

;---------------------------------------------------------------------------
;-[ Air Jump Control ]-
[State -2]
type = VarSet
trigger1 = StateType != A
var(11) = 0

;---------------------------------------------------------------------------
;-[ After KO attacking ]-
[State -2, ChangeState]
type = ChangeState
trigger1 = StateNo = [180,184]
trigger1 = command = "s"
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; -[ Super Jump Control ]-
[State -2]
type = VarSet
trigger1 = StateType != A
var(10) = 0

;---------------------------------------------------------------------------
; -[ Combo Damage Control "Dampener" ]-
[State -2]
type = VarSet
trigger1 = P2MoveType != H
trigger1 = !(P2StateNo = 9004 && P2StateType = S && P2MoveType = I)
var(9) = 0
ignorehitpause = 1

[State -2]
type = AttackMulSet
trigger1 = 1
value = fvar(0)

[State -2]
type = VarSet
trigger1 = var(9) = 0
fvar(0) = 1 + (.15 * (var(41) > 0))
ignorehitpause = 1

[State -2]
type = VarSet
trigger1 = var(9) > 0
trigger1 = var(9) <= 4
fvar(0) = .75 + (.15 * (var(41) > 0))
ignorehitpause = 1
[State -2]
type = VarSet
trigger1 = var(9) > 4
trigger1 = var(9) <= 8
fvar(0) = .40 + (.15 * (var(41) > 0))
ignorehitpause = 1
[State -2]
type = VarSet
trigger1 = var(9) > 8
trigger1 = var(9) <= 12
fvar(0) = .25 + (.15 * (var(41) > 0))
ignorehitpause = 1
[State -2]
type = VarSet
trigger1 = var(9) > 12
trigger1 = var(9) <= 16
fvar(0) = .10 + (.15 * (var(41) > 0))
ignorehitpause = 1
[State -2]
type = VarSet
trigger1 = var(9) > 16
fvar(0) = .05 + (.15 * (var(41) > 0))
ignorehitpause = 1

;-----------------------------------------

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemynear,stateno != [120,159]
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 8015
postype = p2
pos = 0, -50
postype = p2
bindtime = 1
facing = -1
removetime = -2
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemynear,stateno != [120,159]
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,8
channel = 4
volume = 255

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 24
value = var(23)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 23
value = var(25)+hitcount

[state -3, 2];combo hosei
type = varset
trigger1 = enemynear,movetype != H
v = 25
value = 0

;***************
[state -3, 2];combo
type = varset
trigger1 = var(23)>var(24)
v = 42
value = 1

[state 250,11]
type = helper
trigger1 = p2stateno = 328
trigger1 = !numhelper(60120)
persistent = 0
stateno = 60120
ID = 60120
bindtime = 1
postype = p2
pos = 0,500 

;---------------------------------------------------------------------------
; -[ j. Attack Combo Control ]-
[State -2]
type = VarSet
trigger1 = P2MoveType != H
var(29) = 0
ignorehitpause = 1

;---------------------------------------------------------------------------

[State -2]
type = VarAdd
trigger1 = LoseKO = 1
var(59) = 1
ignorehitpause = 1

[State -2]
type = PlaySnd
trigger1 = var(59) = 1
value = 5300,0
channel = 0
persistent = 0
ignorehitpause = 1

[Statedef -3]

; _[W{CX 
[State 1120, _[W{CX]
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = stateno = 5000 && time = 1
trigger2 = stateno = 5010 && time = 1
trigger3 = stateno = 5020 && time = 1
trigger4 = stateno = 5070 && time = 1
trigger5 = stateno = 5080 && time = 1
value = s11,1
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 =  !alive
channel =2
;ignorehitpau
