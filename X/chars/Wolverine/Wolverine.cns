
;Var
;Var(1) = Basic Attack Switch
;Var(2) = Throw Mash 
;Var(3) = Dive Kick Saved Y Velocity, Adv Guard prevstate
;Var(4) = Throw Limitter 1
;Var(5) = Throw Limitter 2
;Var(6) = Attack Mulset
;Var(7) = Throw cancel
;Var(8) = Jump Switch
;Var(9) = AI
;Var(10) = Launcher Limitter
;Var(11) = Dizzy
;Var(12) = Guard Crush
;Var(13) = Barrage/tornado Mash
;var(14) = Air Combo Var
;Var(15) = Drill Claw Limit
;Var(16) = Drill Claw switch
;Var(17) = Screenbound Var
;Var(18) = Berserker Barrage X Atmul
;Var(19) = Speed Up
;Var(20) = AI too
;Var(21) = HSDM
;Var(22) = Power Limit
;Var(23) = AI Var AntiJump campers :D
;Var(24) = AI Var Antiturtlers :D
;Var(39) = Combo Var

;============================
; WOLVERINE X'S BASIC CODING
;============================

[Data]
life = 1000      		      ;Amount of life to start with
attack = 100         		;100% attack power (more is stronger)
defence = 100       	      ;100% defensive power (more is stronger)
fall.defence_up = 90 		;Def goes up by 50% everytime player is hit on ground
liedown.time = 15    		;Time player takes before getting up from HIT_LIEDOWN
airjuggle = 15       		;Can do 15 points of juggling
sparkno = 0          		;Default spark number
guard.sparkno = 0 	      ;Default guard spark number
volumescale = 75
volume = 75
IntPersistIndex=1
FloatPersistIndex=0
KO.echo = 0 	            ;1 to enable echo on KO
power = 3000

[Size]
xscale = .83
yscale = 1.07
ground.back = 26    	     ;Player width (back, ground)
ground.front = 26    	     ;Player width (front, ground)
air.back = 22        	     ;Player width (back, air)
air.front = 25       	     ;Player width (front, air)         	     ;Player width (into and out)
attack.width = 0    	     ;Default attack width: back, front
attack.dist = 160    	     ;Default attack distance
proj.attack.dist = 90        ;Default attack distance for projectiles
head.pos = 20, -75           ;Approximate position of head
mid.pos = 1, -48             ;Approximate position of midsection

[Velocity]
walk.fwd  = 3.8           ;Walk forward
walk.back = -3.1          ;Walk backward
run.fwd  = 11.1           ;Run forward (x, y)  - if y<0, player will hop
run.back = -9.8,0            ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-13           ;Neutral jumping velocity (x, y)
jump.back = -4, -13     ;Jump back Speed (x, y)
jump.fwd = 4,-13       ;Jump forward Speed (x, y)
runjump.fwd = 5.8,-9.7      
airjump.neu = 0,-9.7      
airjump.back = -2.55,-9.7    ;Air jump speeds (opt)
airjump.fwd = 2.5,-9.7    

[Movement]
airjump.num = 0       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .65          ;Vertical acceleration
stand.friction = .83  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching


[Statedef 21]
type    = S
physics = S
sprpriority = 1

; Just to prevent strange behaviors...
[State 21, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0


[State 21, 1]
type = VelSet
triggerall = enemy, stateno != [190, 198]
trigger1 = command = "holdfwd"
x = 1.7

[State 21, 2]
type = VelSet
triggerall = enemy, stateno != [190, 198]
trigger1 = command = "holdback"
x = -1.7

[State 21, 3]
type = VelSet
triggerall = enemy, stateno != [190, 198]
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 21, 4]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = command = "holdfwd" && anim != 22
value = 22

[State 21, 4]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = command = "holdback" && anim != 23
value = 23

[State 21, 4]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = command != "holdfwd" && anim != 0
trigger1 = command != "holdback" && anim != 0
value = 0

[State 21, 5]
type = ChangeState
trigger1 = ctrl
value = ifelse((command = "holdfwd") || (command = "holdback"), 22, 23)

;====================================
;INITIALIZE
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = !RoundsExisted
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = !RoundsExisted
fvalue = 0

; Like in vs Series, you always start with 1 power stock...
[State 190, PowerAdd]
type = PowerSet
triggerall = Roundno = 1
trigger1 = time = 0
value = 1000

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 5900, VarSet]
type = VarSet
trigger1 = roundsexisted = 0
var(0) = palno = [7,12]

[State 5900, speed]
type = Varset
trigger1 = time = 0
var(19) = 0

[State 5900, AIstrat]
type = Varset
trigger1 = time = 0
var(23) = 0

[State 5900, AIstrat]
type = Varset
trigger1 = time = 0
var(24) = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 188 ;190

[State 5900, Turns Mode Intro]
type = ChangeState
trigger1 = teammode = turns
trigger1 = roundno > 1
trigger1 = roundsexisted <= 0
trigger1 = roundstate = 0
trigger1 = prevstateno != 197
value = 188

[State 5900, ChangeState] ;Intro for round 1
type = ChangeState
triggerall  = roundsexisted
trigger1 = roundno != 1
value = 21


;===================================================================================
;---<> OVER WRITE STAND <>---
;============================
; Stand
[Statedef 0]
type = S
physics = S
velset = 0,0
sprpriority = 0

[State 0, scb]
type = varset
trigger1 = backedgebodydist > -20
var(17) = 0

[State 0, 1]
type = ChangeAnim
triggerall = anim !=7000
trigger1 = Anim != 0 && Anim != 5 && anim != 1
trigger2 = Anim = 5 && AnimTime = 0
trigger3 = anim = 1 && time = 0
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

;[State 0, IDLE]
;type = ChangeAnim
;trigger1 = anim != 1
;trigger1 = time = 700
;value = 1

;[State 0, IDLE]
;type = Changestate
;trigger1 = anim = 1
;trigger1 = animtime = 0
;value = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = Abs(Vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

; Jump Start 
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
velset = 0,0
facep2 = 1

[state 40,0]
type = varset
trigger1 = 1
v = 55
value = 0

[State 40, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 40, VarSet]
type = VarSet
trigger1 = time = 1
sysvar(1) = ifelse(command = "holdfwd",1,ifelse(command = "holdback", -1, 0))

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.21

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(2) = 0

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(3) = 1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, VelSet]
type = VelSet
trigger1 = animtime = 0
trigger1 = prevstateno = 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
 
; AirJump Start 
[Statedef 45]
type    = A
physics = A
velset = 0,0

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(1) = ifelse(command = "holdfwd",1,ifelse(command = "holdback", -1, 0))

[State 40, VarAdd]
type = VarAdd
trigger1 = time = 0
var(2) = -1

[State 40, VarSet]
type = VarSet
trigger1 = time = 0
var(3) = 1

[State 40, VelSet]
type = VelSet
trigger1 = Time = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))
 
; Jump Up 
[Statedef 50]
type    = A
physics = A

[State 50, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(1) = 0

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -10
y= 0.09

[State 91, VelAdd]
type = VelAdd
trigger1 = var(19) > 0
trigger1 = Vel Y > -10
y=  0.21

[State 50, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

;-------------------------------------------------------------------------
;Super Jump
[Statedef 99]
type    = A
physics = A
ctrl = 1
anim = 44
velset = 0, -19.7

[state 90,6]
type = varset
trigger1 = 1
v = 55
value = 1

[State 1000, FireB]
type = Explod
trigger1 = time = 0
anim = 8250
id = 8250
pos = -120, 9
scale = 0.54,0.48
sprpriority = 4
supermove = 1
ownpal = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > -110
y= - 0.11

[State 91, VelAdd]
type = VelAdd
trigger1 = time = 0
y=  0.08

[State 200, 1]
type = PlaySnd
trigger1 = time = 0
value = 1,4
volumescale = 190

[State 180, Superjump Var]
type = VarSet
trigger1 = 1
var(3) = 1

[State 999, 1a]
type = VelAdd
triggerall = Vel X >= -4
trigger1 = Time >= 0
trigger1 = Time < 99
trigger1 = command = "holdback"
;trigger1 = Anim != 43
x = -0.19

[State 999, 1b]
type = VelAdd
triggerall = Vel X <= 4.5
trigger1 = Time >= 0
trigger1 = Time < 99
trigger1 = command = "holdfwd"
;trigger1 = Anim != 42
x = 0.38

[State 999, 2a]
type = VelSet
trigger1 = Anim = 45
trigger1 = Time = [0,2]
x = 3

[State 999, 2b]
type = VelSet
trigger1 = Anim = 46
trigger1 = Time = [0,2]
x = -3.5

[State 1310, 6]
type = Turn
;trigger1 = Time = 10
trigger1 = p2dist X < -5

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 45

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 46

;---------------------------------------------------------------------------
;Falling

[Statedef 1211]
type    = A
movetype= I
physics = A
anim = 48
sprpriority = 1

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y= - 0.17

[State 1211, Ctrl]
type = CtrlSet
trigger1 = prevstateno = 4100
value = 1

[State 1211, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 0
value = 1

[State 1211, Ctrl]
type = CtrlSet
triggerall = prevstateno != 4100
trigger1 = Var(12) = 1
value = 1

[State 112, 3]
type = VelAdd
trigger1 = command = "holdfwd"
trigger1 = Vel X < 3.5
x = .2

[State 112, 4]
type = VelAdd
trigger1 = command = "holdback"
trigger1 = Vel X > -3.5
x = -.1

[State 1211, Turn]
type = Turn
trigger1 = P2Dist X < -5

[State 1211, VelSet]
type = VelSet
trigger1 = FrontEdgeBodyDist <= 0
x = 0

[State 999, ChangeAnim] ;Change to jumping forward anim
type = ChangeAnim
trigger1 = Vel X > 0
trigger1 = Time = [0,2]
value = 49

[State 998, ChangeAnim2] ;Change to jumping back anim
type = ChangeAnim
trigger1 = Vel X < 0
trigger1 = Time = [0,2]
value = 50

[State 1211, ChangeState]
type = ChangeState
trigger1 = (Pos Y >= 0) && (Vel Y > 0)
value = 52

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710

;-------------------------------------------------------------------
; RUN_FWD
[Statedef 100]
type = S
physics = S
anim = ifelse(var(19)> 0, 102, 100)
ctrl = 1

[State 100, 1]
type = VelSet
trigger1 = time > 1
trigger1 = var(19) <= 0
x = const(velocity.run.fwd.x)

[State 100, 1]
type = VelSet
trigger1 = time > 1
trigger1 = var(19) > 0
x = const(velocity.run.fwd.x) + 4

[State 100, 1]
type = Ctrlset
trigger1 = var(9) = 1
trigger2 = Command != "holdfwd"
trigger3 = command = "holdup"
trigger4 = command = "holdback"
value = 1

[State 100, voice]
type = PlaySnd
trigger1 = time = 0
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 100, 6]
type = AssertSpecial
trigger1 = command != "holdback"
flag = NoWalk

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -30,ceil(const(size.mid.pos.y))
scale = 0.5, 0.5

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,5

;--------------------------------------------------------

;Hop back (start)
[Statedef 105]
type = S
physics = S
anim = 105
velset = 0
ctrl = 0

[State 105, NOTHITBY]
type = nothitby
trigger1 = 1
value = SC, NT, ST, HT

[State 105, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 106

;----------------------------

;Hop back (in the air)
[Statedef 106]
type = S
physics = N
anim = 106
ctrl = 1

[State 106, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = var(19) <= 0
x = const(velocity.run.back.x)

[State 106, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = var(19) > 0
x = const(velocity.run.back.x) - 1

[State 106, 1]
type = VelSet
trigger1 = animelem = 16
y = 0

[State 106, 1]
type = Velmul
trigger1 = Time >= 8
x = .80

[State 106, 6]
type = AssertSpecial
trigger1 = command != "holdfwd"
flag = NoWalk

[State 100, voice]
type = PlaySnd
trigger1 = time = 0
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 106, 4]
type = ChangeState
trigger1 = animtime = 0
value = 107
ctrl = 1
;---------------------------------

; Dashing back (landing)
[Statedef 107]
type = S
physics = S
anim = 47
velset = 0,0
ctrl = 1

[State 107, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 107, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;========================================
;Wall Cling
[Statedef 255]
type = A
movetype = A
physics = N
anim = 255
velset = 0,0
sprpriority = 2
ctrl = 0

[State 255, Screen]
type = turn
trigger1 = time = 0
trigger1 = frontedgebodydist <= 15

[State 257, voice]
type = PlaySnd
trigger1 = animelem = 4
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 255, Screen]
type = ScreenBound
trigger1 = 1
movecamera = 0,1

[State 255, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 255, 0]
type = PosSet
trigger1 = Facing = 1
trigger1 = time > 0
trigger1 = backedgebodydist <= 20
x = -108

[State 255, 0]
type = PosSet
trigger1 = time > 0
trigger1 = Facing = -1
trigger1 = backedgebodydist <= 20
x = 108

;[State 255, GMA]
;type = GameMakeAnim
;trigger1 = time = 0
;persistent = 0
;ignorehitpause = 1
;value = 72
;pos = -23,-65
;postype = p1
;bindtime = -1

[State 255, set]
type = VelSet
trigger1 = animTime = 0
x = 3.5
y = -11.3

[State 255, 6]
type = ChangeState
trigger1 = animtime = 0
value = 257
ctrl = 0

;---------------------------------------------------------------------------
; Jump Up
[Statedef 257]
type    = A
physics = N
ctrl = 1

[State 257, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 257, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 42

[State 257, grav]
type = Veladd
trigger1 = time <= 26
y = .985

[State 257, grav 2]
type = Veladd
trigger1 = time > 26
y = .97

[State 257, 15] ;Short
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 52
ctrl = 0

;------------------------------------------------------------------------------

; SGUARDHIT (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, GCRUSH CODE]
type = null ;ChangeState
trigger1 = var(12) >= 1000 && time = 0
value = 307
ctrl = 0

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

[State 150, GCRUSH CODE]
type = VarAdd
trigger1 = GetHitVar(slidetime) <= 0 && GetHitVar(hittime) <= 0 && time = 0 && var(12) <= 999
persistent = 0
var(12) = 125
persistent = 0
ignorehitpause = 1 

[State 150, GCRUSH CODE]
type = VarAdd
trigger1 = (GetHitVar(slidetime) = [1,16]) && (GetHitVar(hittime) = [1,16]) && time = 0 && var(12) <= 999
persistent = 0
var(12) = ifelse((Gethitvar(slidetime) = [1,9]),50,75)
ignorehitpause = 1 

[State 150, GCRUSH CODE]
type = VarAdd
trigger1 = GetHitVar(slidetime) >= 17 && GetHitVar(hittime) >= 17 && time = 0 && var(12) <= 999
persistent = 0
var(12) = 100
persistent = 0
ignorehitpause = 1 

;---------------------------------------------------------------------------

; CGUARDHIT (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, GCRUSH CODE]
type = null ;ChangeState
trigger1 = var(12) >= 1000 && time = 0
value = 307
ctrl = 0

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

[State 152, GCRUSH CODE]
type = VarAdd
trigger1 = GetHitVar(slidetime) <= 0 && GetHitVar(hittime) <= 0 && time = 0 && var(12) <= 999
persistent = 0
var(12) = 125
persistent = 0
ignorehitpause = 1 

[State 152, GCRUSH CODE]
type = VarAdd
trigger1 = (GetHitVar(slidetime) = [1,16]) && (GetHitVar(hittime) = [1,16]) && time = 0 && var(12) <= 999
persistent = 0
var(12) = ifelse((Gethitvar(slidetime) = [1,9]),50,75)
ignorehitpause = 1 

[State 152, GCRUSH CODE]
type = VarAdd
trigger1 = GetHitVar(slidetime) >= 17 && GetHitVar(hittime) >= 17 && time = 0 && var(12) <= 999
persistent = 0
var(12) = 100
persistent = 0
ignorehitpause = 1 

;---------------------------------------------------------------------------------------


;P1 GUARD CRUSH
[Statedef 307]
type    = S
movetype= I
physics = S
velset = -7,0
anim = 307
ctrl = 0

[State 307, GUARD CRUSH EXPLOD1]
type = Explod
trigger1 = teamside = 1
trigger1 = time = 0
trigger1 = numexplod(309) <= 0
ignorehitpause = 1 
anim = 309
id   = 309
pos = -50,85
postype = right
supermove = 1
bindtime = -1
facing = 1
sprpriority = -4
pausemovetime = 9999999999
supermovetime = 9999999999
ontop = 0
ownpal = 1

[State 307, GUARD CRUSH EXPLOD2]
type = Explod
trigger1 = teamside = 2
trigger1 = time = 0
trigger1 = numexplod(309) <= 0
ignorehitpause = 1 
anim = 309
id   = 309
pos = 50,85
postype = left
supermove = 1
bindtime = -1
facing = 1
sprpriority = -4
pausemovetime = 9999999999
supermovetime = 9999999999
ontop = 0
ownpal = 1

[State 307, MD]
type = makedust
Trigger1 = 1
pos = 0,0
spacing = 3

[State 307, MD]
type = varset
Trigger1 = time = 0
var(12) = 0

[State 307, END]
type = changestate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
; Time over
[Statedef 170]
type = S
anim = 170

[State 170, 1]
type = AssertSpecial
trigger1 = Time = [0,280]
flag = RoundNotOver

;-------------------------------------
; Win pose A Rookie
[Statedef 180]
type = S
physics = S
velset = 0
ctrl = 0

[State 180, Afterimage]
type = Afterimagetime
trigger1 = time = 0
time = 0

[State 180, 1]
type = ChangeState
trigger1 = Time >= 1
trigger1 = WinTime
value = 182

[State 180, win C "TAUNT"]
type = ChangeState
triggerall = Time = 0
trigger1 = Command = "hold_y"
trigger2 = Random <=300
trigger2 = Command != "hold_a" && Command != "hold_b" && Command != "hold_x" && Command != "hold_y" && Command != "hold_z" && command != "hold_c"
value = 182

[State 180, win D]
type = Null ;ChangeState
triggerall = Time = 0
trigger1 = Command = "hold_b"
trigger2 = Random <=300
trigger2 = Command != "hold_a" && Command != "hold_b" && Command != "hold_x" && Command != "hold_y" && Command != "hold_z" && command != "hold_c"
value = 183

[State 180, win E]
type = Null ;ChangeState
triggerall = Time = 0
trigger1 = Command = "hold_z"
trigger2 = Random <=300
trigger2 = Command != "hold_a" && Command != "hold_b" && Command != "hold_x" && Command != "hold_y" && Command != "hold_z" && command != "hold_c"
value = 172

[State 180, win F]
type = Null ;ChangeState
triggerall = Time = 0
trigger1 = Command = "hold_c"
trigger2 = Random <=300
trigger2 = Command != "hold_a" && Command != "hold_b" && Command != "hold_x" && Command != "hold_y" && Command != "hold_z" && command != "hold_c"
value = 176

[State 180, Anim]
type = Changeanim
trigger1 = time = 0
value = 180

[State 180, Rookie]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3,2
volume = 100

[State 180, Posadd1]
type = Posadd
trigger1 = AnimElem = 2
x = -24

[State 180, Posadd2]
type = Posadd
trigger1 = AnimElem = 3
x = -32

[State 180, 9]
type = AssertSpecial
trigger1 = Time = [0,250]
flag = RoundNotOver

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "start"
value = 0
ctrl = 1


;--------------------------------------------------
;Win pose B Taunt
[Statedef 182]
type = S
physics = S
velset = 0
ctrl = 0

[State 182, Anim]
type = Changeanim
trigger1 = time = 0
value = 195

[State 182, Anim]
type = Changeanim
trigger1 = anim = 195
trigger1 = animtime = 0
value = 0

[State 182, ASP]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 182, Explod]
type = Explod
triggerall = anim = 195
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
scale = const(size.xscale)
id = 196
anim = 196
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 182, Claw sound]
type = PlaySnd
triggerall = anim = 195
trigger1 = AnimElem = 4
trigger2 = Animelem = 8
value = 3,4
volume = 255
volumescale = 255
channel = 19

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "start"
value = 0
ctrl = 1



;======================================================
;REGULAR INTRO "Lets Go Bub"
[Statedef 190]
type = S
movetype = I
physics = S
velset = 0,0

[State 190, AS]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 1]
type = posset
trigger1 = time = 0
y = 0

[State 190, ANIM]
type = Changeanim
trigger1 = time = 0
value = 190

[State 190,Claw]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3,3
volume = 255
volumescale = 255

[State 190, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------

;*********************************************************
;Turns mode Intro

;Delay
[Statedef 188]
type = S
movetype = I
physics = N
anim = 188
velset = 0,0
ctrl = 0

[State 188, SB]
type = screenbound
trigger1 = 1
value = 0

[State 188, 1]
type = posadd
trigger1 = time = 0
x = -70

[State 188, AS]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 188, 3]
type = ChangeState
trigger1 = animtime = 0
value = 189

; Jump In
[Statedef 189]
type = A
movetype = I
physics = N
anim = 189
velset = 1.35,-10
ctrl = 0

[State 189, SB]
type = screenbound
trigger1 = 1
value = 0

[State 189, 2]
type = veladd
trigger1 = 1
y = .37


[State 190,Let's Go Bub]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3,1
volume = 255
volumescale = 255
channel = 0

[State 189, AS]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 189, 3]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 187

;Land
[Statedef 187]
type = S
movetype = I
physics = N
anim = 47
velset = 0,0
ctrl = 0

[State 187, 1]
type = posset
trigger1 = time = 0
y = 0

[State 187, 1]
type = posadd
trigger1 = time = 0
trigger1 = facing = -1
x = -1

[State 187, AS]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 187, 3]
type = ChangeState
trigger1 = animtime = 0
value = 190
;=============================================


;=================================================
; Taunt 1
[Statedef 195]
type = S
movetype = I
physics = S
anim = 195
velset = 0,0
ctrl = 0

;Kof 95-96 Style, Hehehe Lose those Powers!!!
[State 195, 3]
type = TargetPowerAdd
trigger1 = AnimElem = 1, >= 0
value = -11

[State 195, width]
type = width
trigger1 = 1
value = -10,0

[State 195, Explod]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
scale = const(size.xscale)
id = 196
anim = 196
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 195, Claw sound]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = Animelem = 8
value = 3,4
volume = 255
volumescale = 255
channel = 19

[State 195, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;==============================[Basic Attacks]==============================
; Standing light punch 1
[Statedef 200]
type = S
movetype = A
physics = S
anim = ifelse(var(19)> 0, 202, 200)
poweradd = 15
juggle = 2
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,6
volume = 100
volumescale = 100

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 200, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 28,0
getpower = 20,0
givepower = 20,0
pausetime = 8,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,9
hitsound = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 70)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 200, 3]
type = HitDef
trigger1 = var(19) > 0
trigger1 = AnimElem = 4
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 28,0
getpower = 20,0
givepower = 20,0
pausetime = 8,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,10
hitsound = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State 200, 4]
type = varset
trigger1 = time = 0
var(1) = 0

[State 200, slide]
type = velmul
trigger1 = prevstateno = 100 || prevstateno = 106
x = .99

[State 200, slide]
type = statetypeset
trigger1 = prevstateno = 100 || prevstateno = 106
physics = N

[State 200, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = S

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Standing light kick
[Statedef 210]
type = S
movetype = A
physics = S
anim = ifelse(var(19)> 0, 212, 210)
juggle = 2
poweradd = 15
ctrl = 0

[State 210, fx]
type = PlaySnd
trigger1 = Time = 0
value = 0,0
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 210, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S,NA
hitflag = MAFD
guardflag = MA
animtype = Light
damage = 28,0
getpower = 20,0
givepower = 20,0
pausetime = 8,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,9
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
down.velocity = -6,-7
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 40)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 210, slide]
type = velmul
trigger1 = prevstateno = 100 || prevstateno = 106
x = .99

[State 210, slide]
type = statetypeset
trigger1 = prevstateno = 100 || prevstateno = 106
physics = N

[State 210, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = S

[State 210, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;Middle Punch 1
[Statedef 220]
type = S
movetype = A
physics = S
anim = ifelse(var(19)> 0, 222, 220)
poweradd = 20
juggle = 2
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 4
value = 0,5
volume = 100
volumescale = 100

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 220, hit2]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 56,0
getpower = 30,0
givepower = 20,0
pausetime = 7,7
guard.pausetime = 9,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -8.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 220, 4]
type = varset
trigger1 = time = 0
var(1) = 0

[State 220, 5]
type = ChangeState
triggerall = Animelem = 3, > 1
trigger1 = command = "y"
value = 225
ctrl = 0

[State 220, slide]
type = velmul
trigger1 = prevstateno = 100 || prevstateno = 106
x = .99

[State 220, slide]
type = velmul
triggerall = prevstateno = 100 || prevstateno = 106
trigger1 = animelem = 6
x = 0

[State 220, slide]
type = statetypeset
trigger1 = prevstateno = 100 || prevstateno = 106
physics = N

[State 220, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = S

[State 220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;Middle Punch 2
[Statedef 225]
type = S
movetype = A
physics = S
anim = ifelse(var(19)> 0, 227, 225)
juggle = 2
poweradd = 10
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 0
value = 0,5
volume = 100
volumescale = 100

[State 225, hit2]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 56,0
getpower = 30,0
givepower = 20,0
pausetime = 7,6
guard.pausetime = 9,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -9.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 225, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
; Standing Middle kick 1
[Statedef 230]
type = S
movetype = A
physics = S
anim = ifelse(var(19)> 0, 232, 230)
juggle = 2
poweradd = 20
ctrl = 0

[State 210, fx]
type = PlaySnd
trigger1 = Time = 0
value = 0,1
volumescale = 50

[State 210, fx]
type = PlaySnd
trigger1 = Time = 0
value = 7,3
channel = 0
volumescale = 255
volume = 255

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 230, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 49,0
getpower = 30,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 9,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -8.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 230, 4]
type = varset
trigger1 = time = 0
var(1) = 0

[State 230, 5]
type = ChangeState
triggerall = Animelem = 3, > 0
trigger1 = command = "b"
value = 235
ctrl = 0

[State 230, slide]
type = velmul
trigger1 = prevstateno = 100 || prevstateno = 106
x = .99

[State 220, slide]
type = velmul
triggerall = prevstateno = 100 || prevstateno = 106
trigger1 = animelem = 4
x = 0

[State 230, slide]
type = statetypeset
trigger1 = prevstateno = 100 || prevstateno = 106
physics = N

[State 230, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = S

[State 230, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
; Standing Middle kick 2
[Statedef 235]
type = S
movetype = A
physics = S
anim = ifelse(var(19)> 0, 237, 235)
juggle = 2
poweradd = 10
ctrl = 0

[State 210, fx]
type = PlaySnd
trigger1 = Time = 0
value = 0,1
volumescale = 50

[State 235, 3]
type = HitDef
trigger1 = AnimElem = 1
attr = S,NA
hitflag = MAF
guardflag = MA
animtype = Medium
damage = 49,0
getpower = 30,0
givepower = 20,0
pausetime = 6,7
guard.pausetime = 9,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = .88
ground.velocity = -6.3,0
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 75)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 235, 4]
type = varset
trigger1 = time = 0
var(1) = 0

[State 235, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------
; Standing Hard punch
[Statedef 240]
type = S
movetype = A
physics = S
anim = ifelse(var(19)> 0, 244, 240)
juggle = 2
poweradd = 40
ctrl = 0

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 4
value = 0,4
volume = 100
volumescale = 100

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 4
value = 7,4
channel = 0
volume = 255
volumescale = 255

[State 240, 4]
type = HitDef
;trigger1 = anim = 240
trigger1 = AnimElem = 4
attr = S,NA
hitflag = MAFD
guardflag = MA
animtype = Hard
damage = 139,0
getpower = 50,0
givepower = 20,0
pausetime = 8,10
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-70
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 26
air.hittime = 2
yaccel = .99
down.velocity = -6,-7
ground.velocity = -16,-10
air.velocity = -16,-10
airguard.velocity = -7,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
fall = 1

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 226

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 85)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 240, Explod]
type = Explod
;trigger1 = anim = 240
trigger1 = AnimElem = 2
scale = const(size.xscale)
id = 241
anim = 241
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 240, slide]
type = velmul
;trigger1 = anim = 240
trigger1 = prevstateno = 100 || prevstateno = 106
x = .99

[State 240, slide]
type = statetypeset
;trigger1 = anim = 240
trigger1 = prevstateno = 100 || prevstateno = 106
physics = N

[State 240, slide]
type = statetypeset
trigger1 = Animelem = 5
physics = S

[State 220, slide]
type = velmul
triggerall = prevstateno = 100 || prevstateno = 106
trigger1 = animelem = 4
x = 0

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
; Hit by SSP
[Statedef 226]
type    = A
movetype= H
physics = N
velset = 0,0

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5002

[State 225, 2]
type = ChangeState
trigger1 = Time = 10
value = 227

;---------------------------------------------------------
; Hit by SSP - Flying
[Statedef 227]
type    = A
movetype= H
physics = N

[State 226, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 225, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 5063

[State 226, 2]
type = VelAdd
trigger1 = 1
y = 1.07

[State 226, 3]
type = Null;Explod
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
anim = 7000
persistent = 0
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 226, 4]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 25)
trigger1 = alive
value = 228

[State 226, 5]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
trigger1 = alive = 0
value = 5100

;---------------------------------------------------------
; Hit by SSP - Recover
[Statedef 228]
type    = A
movetype= I
physics = N
anim = 5210

[State 227, 1]
type = VelSet
trigger1 = Time = 0
y = -3

[State 9910, PosSet]
type = PosSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -5

[State 1300, 6]
type = PalFX
triggerall = name = "Dhalsim"
trigger1 = animelem = 1
time = 18
sinadd =  255,255,255,43
ignorehitpause = 0

[State 5100, 10]
type = PlaySnd
triggerall = name = "Dhalsim"
trigger1 = Time = 1
value = S3,0

[State 9910, VelSet]
type = VelSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -2
x = 0

[State 9910, VelAdd]
type = VelAdd
triggerall = name = "Dhalsim"
trigger1 = time = 1
y = 0

[State 227, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x > 0
x = 5

[State 227, 2]
type = VelSet
trigger1 = Time = 0
trigger1 = vel x < 0
x = -5

[State 227, 4]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 227, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 227, 6]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 52
ctrl = 1

;----------------------------------------------------
; Standing hard kick
[Statedef 250]
type = S
movetype = A
physics = S
anim = ifelse(var(19)> 0, 252, 250)
juggle = 2
poweradd = 40
ctrl = 0

[State 210, fx]
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volumescale = 50

[State 210, fx]
type = PlaySnd
trigger1 = Time = 0
value = 7,5
channel = 0
volumescale = 255
volume = 255

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 200, Explod]
type = Explod
trigger1 = abs(vel x) > 1 && time % 3 = 0
anim = 8200
scale = 2,2
pos = -20,0
sprpriority = 4
ownpal = 1

[State 250, hit1]
type = HitDef
trigger1 = AnimElem = 3
attr = S,NA
hitflag  = MAF
guardflag = MA
animtype = Up
damage = 55,0
getpower = 50,0
givepower = 20,0
pausetime = 9,11
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-75
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 16
ground.hittime = 27
air.hittime = 27
guard.hittime = 17
yaccel = .92
ground.velocity = -2.5,-18.4
ground.cornerpush.veloff = 0
air.velocity = -2.5,-18.4
guard.velocity = -10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 65)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = movehit
anim = 8020
ontop = 1
pos = 45,-60
supermove = 1
ignorehitpause = 1
persistent = 0
scale = 1.1,1.0
ownpal = 1

[State 250, slide]
type = velmul
trigger1 = prevstateno = 100 || prevstateno = 106
x = .99

[State 250, slide]
type = statetypeset
trigger1 = prevstateno = 100 || prevstateno = 106
physics = N

[State 250, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = S

[State 220, slide]
type = velmul
triggerall = prevstateno = 100 || prevstateno = 106
trigger1 = animelem = 4
x = 0

[State 250, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------
; Crouching light punch
[Statedef 400]
type = C
movetype = A
physics = C
anim = ifelse(var(19)> 0, 402, 400)
juggle = 2
poweradd = 15
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,6
volume = 100
volumescale = 100

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 7,3
channel = 0
volume = 255
volumescale = 255

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 400, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAF
guardflag = MA
animtype = Light
damage = 28,0
getpower = 20,0
givepower = 20,0
pausetime = 8,7
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,9
hitsound = S5,6
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 2+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 25)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 400, slide]
type = velmul
trigger1 = vel x != 0
x = .99

[State 400, slide]
type = statetypeset
trigger1 = vel x != 0
physics = N

[State 400, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = C

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;Crouching light kick
[Statedef 410]
type = C
movetype = A
physics = C
anim =  ifelse(var(19)> 0, 412, 410)
juggle = 2
poweradd = 15
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,0
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = Light
damage = 28,0
getpower = 20,0
givepower = 20,0
pausetime = 9,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
guard.pausetime = 8,9
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime = 10
air.hittime = 8
yaccel = .88
down.velocity = -6,-7
ground.velocity = -5.5,0
ground.cornerpush.veloff = -6.5
air.velocity = -7,-2
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y -10)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 410, slide]
type = velmul
trigger1 = vel x != 0
x = .99

[State 410, slide]
type = statetypeset
trigger1 = vel x != 0
physics = N

[State 410, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = C

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------
; Crouching medium punch
[Statedef 420]
type = C
movetype = A
physics = C
anim =  ifelse(var(19)> 0, 422, 420)
juggle = 2
poweradd = 30
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,5
volume = 100
volumescale = 100

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 7,5
channel = 0
volume = 255
volumescale = 255

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 420, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = Up
damage = 56,0
getpower = 30,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 15
down.velocity = -6,-7
ground.velocity = 1.4,-8
air.velocity = 1.4,-8
airguard.velocity = -2.5,-1
yaccel = 1
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 420, Explod]
type = Explod
trigger1 = AnimElem = 4
scale = const(size.xscale)
id = 425
anim = 425
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 420, slide]
type = velmul
trigger1 = vel x != 0
x = .99

[State 420, slide]
type = statetypeset
trigger1 = vel x != 0
physics = N

[State 420, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = C

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Crouching medium kick
[Statedef 430]
type = C
movetype = A
physics = C
anim =  ifelse(var(19)> 0, 432, 430)
juggle = 2
poweradd = 30
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,1
volumescale = 50

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 430, Hit]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
hitflag  = MAFD
guardflag = LA
animtype = Hard
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-5
hitsound = S5,1
guardsound = S6,0
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .53
ground.velocity = 0,-4
ground.cornerpush.veloff = 0
air.velocity = 0,-4
down.velocity = -6,-7
guard.velocity = -10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 15)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 430, slide]
type = velmul
trigger1 = vel x != 0
x = .99

[State 430, slide]
type = statetypeset
trigger1 = vel x != 0
physics = N

[State 430, slide]
type = statetypeset
trigger1 = Animelem = 6
physics = C

[State 430, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

; Crouching hard punch
[Statedef 440]
type = C
movetype = A
physics = C
anim =  ifelse(var(19)> 0, 442, 440)
juggle = 2
poweradd = 40
velset = 0,0
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,5
volume = 100
volumescale = 100

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 7
value = 0,4
volume = 100
volumescale = 100

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 7
value = 7,4
channel = 0
volume = 255
volumescale = 255

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0


[State 440, 2]
type = Posadd
trigger1 = animelem = 1, > 0
trigger1 = animelem = 2, <= 0
x = 3

[State 440, 2]
type = Posadd
trigger1 = animelem = 2, > 0
trigger1 = animelem = 7, < 0
trigger2 = animelem = 6, = 0
x = 8

[State 440, 3]
type = HitDef
trigger1 = AnimElem = 7
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = Hard
air.animtype = back
damage = 139,0
getpower = 30,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 9,9
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,8
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 11
down.velocity = -6,-7
ground.velocity = -15
air.velocity = -11,-14
airguard.velocity = -8,-1
yaccel = 0.9
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 440, Explod]
type = Explod
trigger1 = AnimElem = 7
scale = const(size.xscale)
id = 445
anim = 445
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Crouching hard kick
[Statedef 450]
type = C
movetype = A
physics = C
anim =  ifelse(var(19)> 0, 452, 450)
juggle = 2
poweradd = 40
velset = 0,0
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 3
value = 0,3
volumescale = 50

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 3
value = 7,4
volume = 255
volumescale = 255

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 450, pos2]
type = Posadd
trigger1 = animelem = 3, >= 0
trigger1 = animelem = 4, < 0
x = 11

[State 450, pos3]
type = Posadd
trigger1 = animelem = 4, >= 0
trigger1 = animelem = 5, < 0
x = 5

[State 450, 4]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
hitflag = MAFD
guardflag = MA
animtype = back
air.animtype = back
damage = 139,0
getpower = 30,0
givepower = 20,0
pausetime = 10,11
guard.pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-85
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 18
air.hittime = 11
down.velocity = -6,-7
ground.velocity = -11,-13
air.velocity = -11,-13
airguard.velocity = -8,-1
yaccel = 1
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1+4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X), Floor(P2Dist Y - 35)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Crouching forward Hard Punch
[Statedef 460]
type = C
movetype = A
physics = C
anim =  ifelse(var(19)> 0, 462, 460)
juggle = 1
poweradd = 40
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 3
value = 3,5
volume = 205
volumescale = 205

[State 200, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

[State 460, hit]
type = HitDef
trigger1 = time = 0
attr = C, NA
hitflag  = MAFD
guardflag = LA
animtype = Hard
damage = 65,0
getpower = 50,0
givepower = 20,0
pausetime = 8,9
guard.pausetime = 10,10
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-5
hitsound = S5,1
guardsound = S6,0
ground.type = Trip
ground.slidetime = 18
ground.hittime = 20
air.hittime = 12
guard.hittime = 17
yaccel = .53
ground.velocity = 0,-4
ground.cornerpush.veloff = 0
air.velocity = 0,-4
down.velocity = -6,-7
guard.velocity = -10
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -2
fall = 1
fall.recovertime = 10
id = 4

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 15)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 460, pos1]
type = Posadd
trigger1 = animelem = 3, >= 0
trigger1 = animelem = 5, < 0
x = 8

[State 460, pos1]
type = playerpush
trigger1 = animelem = 3, >= 0
trigger1 = animelem = 5, < 0
value = 0

[State 460, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-------------------------------------------------------------
; ---<> JUMP ATTACKS <>---
;---------------------------
;Jumping light punch
[Statedef 600]
type    = A
movetype= A
physics = A
poweradd = 15
juggle = 2
anim = ifelse(var(19)> 0, 602, 600)
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,6
volume = 100
volumescale = 100

[State 600, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Light
air.animtype = Light
damage = 28,0
getpower = 20,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,6
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 11
yaccel = .92
ground.velocity = -6.5,0
down.velocity = -9,-7
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
air.velocity = -0.3,-6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -55
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 91, VelAdd]
type = VelAdd
triggerall = movecontact
trigger1 = floor (pos Y < -155)
y= 0.16

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 600
triggerall = floor (pos Y < -155)
trigger1 = animelem = 5
value = 1211
ctrl = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 602
triggerall = floor (pos Y < -155)
trigger1 = animelem = 5
value = 1211
ctrl = 1

;Jumping light kick 
[Statedef 610]
type    = A
movetype= A
physics = A
anim = ifelse(var(19)> 0, 612, 610)
poweradd = 15
juggle = 2
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,0
volume = 50


[State 610, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Light
air.animtype = Light
damage = 28,0
getpower = 20,0
givepower = 20,0
pausetime = 8,7
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 11
yaccel = .92
ground.velocity = -6.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
air.velocity = -0.3,-8
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8000, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 91, VelAdd]
type = VelAdd
triggerall = movecontact
trigger1 = floor (pos Y < -155)
y= 0.16

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 610
triggerall = floor (pos Y < -155)
trigger1 = animelem = 5
value = 1211
ctrl = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 612
triggerall = floor (pos Y < -155)
trigger1 = animelem = 5
value = 1211
ctrl = 1


;Jumping middle punch 1
[Statedef 620]
type    = A
movetype= A
physics = A
poweradd = 20
juggle = 2
anim = ifelse(var(19)> 0, 622, 620)
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,5
volume = 100
volumescale = 100

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 1
value = 7,3
volume = 255
volumescale = 255
channel = 0

[State 620, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Medium
damage = 42,0
getpower = 20,0
givepower = 20,0
pausetime = 7,7
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 11
yaccel = .92
ground.velocity = -8.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
air.velocity = -0.3,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 91, VelAdd]
type = VelAdd
triggerall = movecontact
trigger1 = floor (pos Y < -155)
y= 0.16

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 620
triggerall = floor (pos Y < -155)
trigger1 = animelem = 4
value = 1211
ctrl = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 622
triggerall = floor (pos Y < -155)
trigger1 = animelem = 4
value = 1211
ctrl = 1

[State 620, 4]
type = varset
trigger1 = time = 0
var(1) = 0

[State 220, 5]
type = ChangeState
triggerall = Animelem = 2, > 0
trigger1 = command = "y"
value = 630
ctrl = 0

[State 620, AI]
type = varset
trigger1 = var(9) = 1
trigger1 = movehit 
var(1) = 1

;Jumping middle punch 2
[Statedef 630]
type    = A
movetype= A
physics = A
poweradd = 20
juggle = 2
anim = ifelse(var(19)> 0, 632, 630)
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,5
volume = 100
volumescale = 100

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 1
value = 7,3
volume = 255
volumescale = 255
channel = 0

[State 630, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Medium
damage = 42,0
getpower = 20,0
givepower = 20,0
pausetime = 7,7
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 11
yaccel = .92
ground.velocity = -8.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
air.velocity = -0.3,-9
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 91, VelAdd]
type = VelAdd
triggerall = movecontact
trigger1 = floor (pos Y < -155)
y= 0.16

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 630
triggerall = floor (pos Y < -155)
trigger1 = animelem = 5
value = 1211
ctrl = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 632
triggerall = floor (pos Y < -155)
trigger1 = animelem = 5
value = 1211
ctrl = 1

;Jumping middle kick 
[Statedef 640]
type    = A
movetype= A
physics = A
poweradd = 30
juggle = 2
anim = ifelse(var(19)> 0, 642, 640)
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 3
value = 0,1
volume = 50

[State 200, Fx]
type = PlaySnd
trigger1 = Time = 1
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 640, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = A,NA
hitflag = MAFD
guardflag = HA
animtype = Medium
air.animtype = Medium
damage = 56,0
getpower = 20,0
givepower = 20,0
pausetime = 8,8
guard.pausetime = 8,8
sparkno = S9999
guard.sparkno = S8050
sparkxy = -10,-40
hitsound = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 8
ground.hittime = 10
air.hittime = 11
yaccel = .92
ground.velocity = -8.5,0
down.velocity = -6,-7
ground.cornerpush.veloff = -6
air.cornerpush.veloff = 0
air.velocity = -0.3,-6
airguard.velocity = -6,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
id = 1
p2facing = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -35
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 91, VelAdd]
type = VelAdd
triggerall = movecontact
trigger1 = floor (pos Y < -155)
y= 0.16

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 640
triggerall = floor (pos Y < -155)
trigger1 = animelem = 6
value = 1211
ctrl = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 642
triggerall = floor (pos Y < -155)
trigger1 = animelem = 6
value = 1211
ctrl = 1

;-------------------------------------------------------------

;-------------------------------------------------------------
;Jumping hard Punch
[Statedef 650]
type    = A
movetype= A
physics = A
poweradd = 40
juggle = 2
anim = ifelse(var(19)> 0, 652, 650)
ctrl = 0

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 3
value = 0,4
volume = 100
volumescale = 100

[State 200, Fx]
type = PlaySnd
trigger1 = animelem = 3
value = 7,1
volume = 255
volumescale = 255
channel = 0

[State 650, 3]
type = HitDef
trigger1 = Time = 6 && prevstateno != [600,660]
attr = A, NA
damage    = 118
guardflag = MA
hitflag = MAFD
animtype = Back
air.animtype = back
priority = 3
pausetime = 9,9
guard.pausetime = 9,9             
sparkno = S9999 
sparkxy = 0,-25
hitsound   = S5,8
guardsound = S6,0
guard.sparkno = S8050
ground.type = High
guard.velocity = -11
down.velocity = -6,-7
ground.velocity = -10.5
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = 0.7
air.velocity = -11,7
air.fall = 1
p2stateno = 700

[State 425,1]
type = HitDef
trigger1 = Time = 6 && (prevstateno = [600,660]) && var(55) = 1
attr = A, NA
damage    = 118
guardflag = MA
hitflag = MAFD
animtype = Back
air.animtype = back
priority = 3
pausetime = 9,9
guard.pausetime = 9,9             
sparkno = S9999 
sparkxy = 0,-25
hitsound   = S5,8
guardsound = S6,0
guard.sparkno = S8050
ground.type = High
guard.velocity = -11
down.velocity = -6,-7
ground.velocity = -10.5
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = 0.7
air.velocity = -12,10
air.fall = 1
fall.envshake.time = 10
p2stateno = 715

[State 425,1]
type = HitDef
trigger1 = Time = 6 && (prevstateno = [600,660]) && var(55) = 0
attr = A, NA
damage    = 118
guardflag = MA
hitflag = MAFD
animtype = Back
air.animtype = back
priority = 3
pausetime = 9,9
guard.pausetime = 9,9             
sparkno = S9999 
sparkxy = 0,-25
hitsound   = S5,8
guardsound = S6,0
guard.sparkno = S8050
ground.type = High
guard.velocity = -11
down.velocity = -6,-7
ground.velocity = -10.5
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = 0.7
air.velocity = -11,7
air.fall = 1
p2stateno = 700

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 45)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 706, 5]
type = Helper
trigger1 = numhelper(708) = 0 && (prevstateno = [600,660]) && var(55) = 1 && MoveHit
name = "Scroll Screen"
id = 708
stateno = 708
postype = p1
pos = 50, 30
bindtime = -1

[State 425, 3]
type = varset
trigger1 = (prevstateno = [600,660]) && var(55) = 1 && MoveHit
v = 56
value = 1
persistent = 0
yaccel = .6

[State 650, Explod]
type = Explod
trigger1 = AnimElem = 2
scale = const(size.xscale)
id = 655
anim = 655
pos = 0,0
sprpriority = 2
bindtime = -1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 91, VelAdd]
type = VelAdd
triggerall = movecontact
trigger1 = floor (pos Y < -155)
y= 0.16

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 650
triggerall = floor (pos Y < -155)
trigger1 = animelem = 8
value = 1211
ctrl = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 652
triggerall = floor (pos Y < -155)
trigger1 = animelem = 8
value = 1211
ctrl = 1


;-------------------------------------------------------------

;-------------------------------------------------------------
;Jumping hard kick
[Statedef 660]
type    = A
movetype= A
physics = A
poweradd = 40
juggle = 2
anim = ifelse(var(19)> 0, 662, 660)
ctrl = 0

[State 660, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 660, 2]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
trigger4 = Animelem = 8
value = 0,3
channel = 1

[State 660, 3]
type = HitDef
trigger1 = Time = 6 && prevstateno != [600,660]
attr = A, NA
damage    = 118
guardflag = MA
hitflag = MAFD
animtype = Back
air.animtype = back
priority = 3
pausetime = 9,9
guard.pausetime = 9,9             
sparkno = S9999 
sparkxy = 0,-25
hitsound   = S5,2
guardsound = S6,0
guard.sparkno = S8050
ground.type = High
guard.velocity = -11
down.velocity = -6,-7
ground.velocity = -10.5
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = 0.7
air.velocity = -11,7
air.fall = 1
p2stateno = 700

[State 425,1]
type = HitDef
trigger1 = Time = 6 && (prevstateno = [600,660]) && var(55) = 1
attr = A, NA
damage    = 118
guardflag = MA
hitflag = MAFD
animtype = Back
air.animtype = back
priority = 3
pausetime = 9,9
guard.pausetime = 9,9             
sparkno = S9999 
sparkxy = 0,-25
hitsound   = S5,2
guardsound = S6,0
guard.sparkno = S8050
ground.type = High
guard.velocity = -11
down.velocity = -6,-7
ground.velocity = -10.5
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = 0.7
air.velocity = -18,10
air.fall = 1
fall.envshake.time = 10
p2stateno = 715

[State 425,1]
type = HitDef
trigger1 = Time = 6 && (prevstateno = [600,660]) && var(55) = 0
attr = A, NA
damage    = 118
guardflag = MA
hitflag = MAFD
animtype = Back
air.animtype = back
priority = 3
pausetime = 9,9
guard.pausetime = 9,9             
sparkno = S9999 
sparkxy = 0,-25
hitsound   = S5,2
guardsound = S6,0
guard.sparkno = S8050
ground.type = High
guard.velocity = -11
down.velocity = -6,-7
ground.velocity = -10.5
ground.slidetime = 12
ground.hittime = 18
air.hittime = 6
yaccel = 0.7
air.velocity = -11,7
air.fall = 1
p2stateno = 700

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8004, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 45)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 706, 5]
type = Helper
trigger1 = numhelper(708) = 0 && (prevstateno = [600,660]) && var(55) = 1 && MoveHit
name = "Scroll Screen"
id = 708
stateno = 708
postype = p1
pos = 150, 30
bindtime = -1

[State 425, 3]
type = varset
trigger1 = (prevstateno = [600,660]) && var(55) = 1 && MoveHit
v = 56
value = 1
persistent = 0
yaccel = .6

[State 91, VelAdd]
type = VelAdd
triggerall = movecontact
trigger1 = floor (pos Y < -155)
y= 0.16

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 660
triggerall = floor (pos Y < -155)
trigger1 = animelem = 11
value = 1211
ctrl = 1

[State 620, ChangeState]
type = ChangeState
triggerall = anim = 662
triggerall = floor (pos Y < -155)
trigger1 = animelem = 11
value = 1211
ctrl = 1

;-------------------------------------------------------------

;-------------------------------------------------------------
;Jumping Down Hard kick MVC
[Statedef 670]
type = A
movetype = A
physics = A
poweradd = 20
juggle = 1
anim = 670
ctrl = 0

[State 670, Savevelocity]
type = VarSet
trigger1 = time = 0
var(3) = ceil(vel y)

[State 670, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7,3
volume = 255
volumescale = 255
channel = 0

[State 670, 3]
type = HitDef
trigger1 = time = 0
attr = A, NA
animtype = hard
damage = 104
hitflag = MAFD
guardflag = HA
pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = 0,-11
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -10.1
air.velocity = -7,12
airguard.velocity = -3,-1.5
guard.velocity = -6.1
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -6
getpower = 20,20
down.velocity = -6,-7
givepower = 10,10
id = 2+4
air.fall = 1
guard.pausetime = 11,11
guard.slidetime = 17
guard.hittime = 10
guard.ctrltime = 10
yaccel = .8

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 670, Velocity]
type = Velset
trigger1 = animelem = 2, >= 0
x = 0
y = 10.5

[State 670, Velocity]
type = Velset
trigger1 = movecontact
ignorehitpause = 1
x = 0
y = 6 ;var(3) + 3

[State 670, Timelimit]
type = VarSet
trigger1 = movehit
var(5) = 15
persistent = 0

[State 670, AttackMulSet]
type = Varadd
trigger1 = movehit
ignorehitpause
var(6) = 8

[State 670, AttackMulSet]
type = Varadd
trigger1 = movehit
ignorehitpause
var(23) = -1

[State 670, Jump]
type = Changestate
trigger1 = movecontact
value = 672
ctrl = 1
;-------------------------------------------------------------

;-------------------------------------------------------------
;Jumping Down Hard kick MVC Part II
[Statedef 671]
type = A
movetype = A
physics = A
poweradd = 20
juggle = 1
anim = 670
ctrl = 0

[State 671, Savevelocity]
type = VarSet
trigger1 = time = 0
var(3) = ceil(vel y)

[State 670, 1]
type = PlaySnd
trigger1 = Time = 0
value = 7,3
volume = 255
volumescale = 255
channel = 0

[State 671, 3]
type = HitDef
trigger1 = time = 0
attr = A, NA
animtype = hard
damage = 104
hitflag = MAFD
guardflag = HA
pausetime = 10,11
sparkno = S9999
guard.sparkno = S8050
sparkxy = 0,-11
hitsound = S5,2
guardsound = S6,0
ground.type = Low
air.type = low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -10.1
air.velocity = -1,12
airguard.velocity = -3,-1.5
guard.velocity = -6.1
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -6
getpower = 20,20
givepower = 10,10
id = 2+4
air.fall = 1
guard.pausetime = 11,11
guard.slidetime = 17
guard.hittime = 10
guard.ctrltime = 10
yaccel = .8

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8001, 32004)
postype = p1
pos = Floor(P2Dist X - 10), -15
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0


[State 671, Velocity]
type = Velset
trigger1 = animelem = 2, >= 0
x = 0
y = 10.5

[State 671, Velocity]
type = Velset
trigger1 = movecontact
ignorehitpause = 1
x = 0
y = 6 ;var(3) + 3

[State 671, Timelimit]
type = VarSet
trigger1 = movehit
var(5) = 15
persistent = 0

[State 671, AttackMulSet]
type = Varadd
trigger1 = movehit
ignorehitpause
var(6) = 8

[State 671, AttackMulSet]
type = Varadd
trigger1 = movehit
ignorehitpause
var(23) = -1

[State 671, Jump]
type = Changestate
trigger1 = movecontact
value = 672
ctrl = 1
;-------------------------------------------------------------


;-------------------------------------------------------------
;Bounce after hit
[Statedef 672]
type = A
movetype = I
physics = A
anim = 672
ctrl = 0

[State 672, Velocity]
type = Velset
trigger1 = time = 0
x = -4
y = -8

[State 672,JDHKMVC]
type = ChangeState
value = 671
;triggerall = var(9) != 1
triggerall = prevstateno != 671 && prevstateno != 681
triggerall = command = "c" && command = "holddown" && pos y <= -92
trigger1 = time = [0,30]

;---------------------------------------------------------------------------
; TRIP LIEDOWN
[Statedef 328]
type    = L
movetype= H
physics = N

[State 328, EnvShake]
type = FallEnvShake
trigger1 = Time = 0   

[State 328, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 328, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 328, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 328, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 328, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 328, Var]
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 328, 8]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 328, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 328, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 328, 11] ;If just died
type = SelfState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5110

[State 328, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 328, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 328, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 328, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[state 328,16]
type = playerpush
trigger1 = 1
value = 0

[state 328,17]
type = nothitby
trigger1 = time = 0
value = SCA, AA, AP, AT, NA, NP, NT, SA, SP, ST, HA, HP, HT
time = 0
ignorehitpause = 1

[State 250,13]
type = Envshake
trigger1 = time = 0
persistent = 0
time = 15
freq = 70
ampl = -4

[state 328,18]
type = selfstate
trigger1 = alive && time = 3 && (prevstateno != [700,709])
trigger2 = alive && time = 5 && prevstateno = [700,709]
value = 5110


;-------------------------------------------------------------

;---------------------------------------------------------------------------
; Not Aerial Raved A
[Statedef 700]
movetype= H
physics = N
velset = 0,0
ctrl = 0

[state 700,1]
type = selfstate
trigger1 = time = 0 && pos y >= 0 && command != "holddown"
value = 5000

[state 700,2]
type = selfstate
trigger1 = time = 0 && pos y >= 0 && command = "holddown"
value = 5010

[state 700, 3]
type = statetypeset
trigger1 = time = 1
value = A

[State 700, 4]
type = ChangeAnim
trigger1 = 1
value = 5012

[State 700, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 701
;---------------------------------------------------------------------------
; Not Aerial Raved B
[Statedef 701]
type    = A
movetype= H
physics = N
ctrl = 0

[State 701, 1]
type = VelAdd
trigger1 = 1
y = 0.5

[State 701, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 701, 3]
type = SelfState
trigger1 = !Alive && Pos Y >= 0 && Vel Y > 0
value = 5100

[State 701, 4]
type = ChangeState
trigger1 = AnimTime = 0 || Time >= 10
value = 702

[State 701, 5]
type = ChangeState
trigger1 = Alive && Pos Y >= 10 && Vel Y > 0
value = 703
;---------------------------------------------------------------------------
; Not Aerial Raved C
[Statedef 702]
type    = A
movetype= H
physics = N
ctrl = 0

[State 702, 1]
type = VelAdd
trigger1 = 1
y = 0.5

[State 702, 2]
type = ChangeAnim
trigger1 = Time = 0 && SelfAnimExist(5061)
value = 5061

[State 702, 3]
type = ChangeState
trigger1 = Pos Y >= 10 && Vel Y > 0 && Alive
value = 703

[State 702, 4]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0 && !Alive
value = 5100
;---------------------------------------------------------------------------
; Not Aerial Raved D
[Statedef 703]
type    = A
movetype= H
physics = N
anim = 5210
ctrl = 0

[State 703, 1]
type = PosFreeze
trigger1 = Time = 0
value = 4

[State 703, 2]
type = VelSet
trigger1 = Time = 0
x = vel x / 2
y = -8

[State 703, 3]
type = Turn
trigger1 = P2Dist X < -10 && time = 0
persistent = 0

[State 703, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 703, 5]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 703, 6]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
ctrl = 1
;---------------------------------------------------------------------------
; Aerial Raved A
[Statedef 705]
movetype= H
physics = N
velset = 0,0
ctrl = 0

[state 705,1]
type = selfstate
trigger1 = time = 0 && pos y >= 0 && command != "holddown"
value = 5000

[state 705,2]
type = selfstate
trigger1 = time = 0 && pos y >= 0 && command = "holddown"
value = 5010

[state 705,3]
type = statetypeset
trigger1 = time = 1
value = A

[State 705,4]
type = ChangeAnim
trigger1 = 1
value = 5012

[State 705,5]
type = ChangeState
trigger1 = HitShakeOver
value = 706
;---------------------------------------------------------------------------
; Aerial Raved B
[Statedef 706]
type    = A
movetype= H
physics = N
ctrl = 0

[State 706, 1]
type = VelAdd
trigger1 = 1
y = 0.5

[State 706, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 706, 3]
type = ChangeState
trigger1 = AnimTime = 0 || Time >= 10
value = 707

[State 706, 4]
type = ScreenBound
trigger1 = 1 
value = 1
movecamera = 1,1

[State 702, 2]
type = ChangeAnim
trigger1 = SelfAnimExist(5061) && anim != 5061
value = 5061

[State 706, 6]
type = Changestate
trigger1 = Pos Y >= 10 && Vel Y > 0
value = 328
;---------------------------------------------------------------------------
; Aerial Raved C
[Statedef 707]
type    = A
movetype= H
physics = N
ctrl = 0

[State 707, 1]
type = VelAdd
trigger1 = 1
y = 0.5

[State 707, 2]
type = ChangeAnim
trigger1 = SelfAnimExist(5061) && anim != 5061
value = 5061

[State -3, 3]
type = ScreenBound
trigger1 = 1 
value = 1
movecamera = 1,1

[State 707, 3]
type = Changestate
trigger1 = Pos Y >= 10 && Vel Y > 0 
value = 328
;---------------------------------------------------------------------------
[Statedef 708]
type    = A
movetype= I
anim = 708
physics = N
ctrl = 0
sprpriority = -5

[state 12,12]
type = velset
trigger1 = time = 0
x = 18
y = 8

[state 12,12]
type = veladd
trigger1 = 1
y = 0.5

[State 708, 3]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,1

[State 708, 4]
type = Velset
trigger1 = p2stateno = 328 && p2movetype = H
x = 0
y = 0

[State 250,13]
type = Envshake
trigger1 = p2stateno = 328 && p2movetype = H
persistent = 0
time = 15
freq = 70
ampl = -4

[state 12,12]
type = destroyself
trigger1 = (root, stateno != [100,102]) && (root, stateno != 710) && vel x = 0
trigger1 = p2stateno != 5120

;---------------------------------------------------------------------------
; Waiting off screen after aerial rave
[Statedef 710]
type    = S                     
physics = S                     
juggle  = 0                     
velset = 0,0                    
ctrl = 0                      
anim = 0                       
poweradd = 0                   
sprpriority = 2                 


[state 710,1]
type = nothitby
trigger1 = 1
value = SCA, AA, AP, AT, NA, NP, NT, SA, SP, ST, HA, HP, HT
time = 2
ignorehitpause = 1

[state 710,2]
type = assertspecial
trigger1 = 1
flag = invisible

[state 710,3]
type = posset
trigger1 = facing = 1
x = -200
y = 0

[state 710,4]
type = posset
trigger1 = facing = -1
x = 200
y = 0

[State 710,5]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 710,6]
type = ChangeState
trigger1 = Time = 20
value = 100

;---------------------------------------------------------------------------
; Aerial Raved A
[Statedef 715]
movetype= H
physics = N
velset = 0,0
ctrl = 0

[state 710,1]
type = selfstate
trigger1 = time = 0 && pos y >= 0 && command != "holddown"
value = 5000

[state 710,2]
type = selfstate
trigger1 = time = 0 && pos y >= 0 && command = "holddown"
value = 5010

[State 650, GA~b^[A]
type = PlaySnd
trigger1 = time = 1
value = 0,11

[state 710,3]
type = statetypeset
trigger1 = time = 1
value = A

[State 710,4]
type = ChangeAnim
trigger1 = 1
value = 5012

[State 710,5]
type = ChangeState
trigger1 = HitShakeOver
value = 716
;---------------------------------------------------------------------------
; Aerial Raved B
[Statedef 716]
type    = A
movetype= H
physics = N
ctrl = 0

[State 711, 1]
type = VelAdd
trigger1 = 1
y = 0.5

[State 711, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 711, 3]
type = ChangeState
trigger1 = AnimTime = 0 || Time >= 10
value = 717

[State 711, 4]
type = ScreenBound
trigger1 = 1 
value = 1
movecamera = 1,1

[State 711, 2]
type = ChangeAnim
trigger1 = SelfAnimExist(5061) && anim != 5061
value = 5061

[State 711, 6]
type = Changestate
trigger1 = Pos Y >= 10 && Vel Y > 0
value = 328
;---------------------------------------------------------------------------
; Aerial Raved C
[Statedef 717]
type    = A
movetype= H
physics = N
ctrl = 0

[State 712, 1]
type = VelAdd
trigger1 = 1
y = 0.5 

[State 712, 2]
type = ChangeAnim
trigger1 = SelfAnimExist(5061) && anim != 5061
value = 5061

[State 712, 3]
type = ScreenBound
trigger1 = 1 
value = 1
movecamera = 1,1

[State 712, 3]
type = Changestate
trigger1 = Pos Y >= 10 && Vel Y > 0 
value = 328


;=======================================================================================
;Throws-------------------------------
;=====================================
;Throw Y
;---------------------------------------------------------------------------
;GrabY
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 300
sprpriority = 5

[State 300, Cancel Var]
type = varset
Trigger1 = time = 0
var(7) = 0

[State 300, 2]
type = HitDef
trigger1 = var(4)<=0
Trigger1 = Time = 0
attr = S, NT          
hitflag = M-          
priority = 4, Miss    
sparkno = -1          
sprpriority = 1  
hitsound = -1
p2facing = 1          
p1stateno = 301       
p2stateno = 302    
fall = 1   
fall.recovertime = 25
fall.envshake.time = 12
fall.envshake.ampl = -5
ground.velocity = 6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
yaccel = .6

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 830, 2]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 300, 3]
type = ChangeState
trigger1 = !MoveContact
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=============================================================
;Success
[Statedef 301] 
type    = S
movetype= A
physics = S
anim = 301
sprpriority = -2
poweradd = 0

[State 301, AI]
type = varset
Trigger1 = time = 0
var(24) = 0

[State 301, 1]
type = Width
trigger1 = time = 0
edge = 80,20

[State 301, vel]
type = posadd
trigger1 = animelem = 2, <0
trigger1 = p2dist x >= -25
x = 8

[State 301, vel]
type = playerpush
trigger1 = 1
value = 0

[State 301, Bind1]
type = TargetBind
trigger1 = time < 1
pos = 40, 0
time = 1

[State 301, vel]
type = posadd
trigger1 = animelem = 2, > 0 && animelem = 3, < 0
trigger1 = pos y > (target, const(size.mid.pos.y) + 22)
y = -4

[State 301, vel]
type = playsnd
trigger1 = time = 0
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 301, vel]
type = playsnd
trigger1 = animelem = 3
value = 5,4

[State 901, Explod]
type = Explod
trigger1 = animelem = 3
anim = 8005
pos = ceil(-40*const(size.xscale)),ceil(-80*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 301, Cancel Var]
type = varset
Trigger1 = Time = [0,7]
trigger1 = target, command = "z" || target, command = "y"
var(7) = 1

[State 301, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 310
ctrl = 0

;---------------------------------------
;P1 Miss
[Statedef 305]
type    = A
movetype= I
physics = A
velset = -4,-6
anim = 5040
ctrl = 0

[State 305, Cancel]
type = targetstate
Trigger1 = time = 0
value = 306

[State 305, playerpush]
type = playerpush
Trigger1 = 1
value = 0

[State 305, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(7) = 0
;--------------------------------------------------------------

;---------------------------------------
;P2 Miss
[Statedef 306]
type    = A
movetype= I
physics = N
velset = -4,-7
anim = 5040
ctrl = 0

[State 306, playerpush]
type = veladd
Trigger1 = 1
y = .45

[State 306, Cancel Var]
type = selfstate
Trigger1 = pos y >= 0 && vel y > 0
value = 52
ctrl = 0

[State 306, playerpush]
type = playerpush
Trigger1 = 1
value = 0

;--------------------------------------------------------------

;-----------------------------
;Chop Chop
[Statedef 310] 
type    = S
movetype= A
physics = S
anim = 310
sprpriority = 2
poweradd = 0

[State 310, AI]
type = varset
Trigger1 = time = 0
var(24) = 0

[State 310, Targetstate]
type = targetstate
Trigger1 = time = 0
value = 303
ctrl = 0

[State 310, Cancel]
type = changestate
Trigger1 = Time = 0
trigger1 = var(7) = 1
value = 305

[State 310, Cancel]
type = targetstate
Trigger1 = Time = 0
trigger1 = var(7) = 1
value = 306

[State 310, voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 310, hitsound]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = 5,9

[State 310, Damage]
type = targetlifeadd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
value = -30
kill = 0

[State 310, Damage]
type = targetlifeadd
trigger1 = Animelem = 6
value = -30

[State 310, Hitspark]
type = Explod
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
id = 2
anim = 8004
scale = 0.5,0.5
pos = -48,-25
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1


[State 310, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 310, Mash]
type = varadd
Trigger1 = command = "x" || command = "y" || command = "z"
var(2) = 1

[State 310, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) > 3
value = 311
ctrl = 0

[State 310, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) <= 3
value = 312
ctrl = 0
;----------------------------------


;-----------------------------
;Chop Chop 2
[Statedef 311] 
type    = S
movetype= A
physics = S
anim = 311
sprpriority = 2
poweradd = 0

[State 311, Targetstate]
type = targetstate
Trigger1 = time = 0
value = 320
ctrl = 0

[State 311, voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 311, hitsound]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = 5,9

[State 311, Damage]
type = targetlifeadd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = -12

[State 311, Hitspark]
type = Explod
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
id = 2
anim = 8004
scale = 0.5,0.5
pos = -48,-25
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 311, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 311, Mash]
type = varadd
Trigger1 = command = "x" || command = "y" || command = "z"
var(2) = 1

[State 311, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) > 3
value = 321
ctrl = 0

[State 311, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) <= 3
value = 312
ctrl = 0
;----------------------------------


;-----------------------------
;Chop Chop 3
[Statedef 321] 
type    = S
movetype= A
physics = S
anim = 321
sprpriority = 2
poweradd = 0

[State 321, Targetstate]
type = targetstate
Trigger1 = time = 0
value = 322
ctrl = 0

[State 321, voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 321, hitsound]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = 5,9

[State 321, Damage]
type = targetlifeadd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = -10

[State 321, Hitspark]
type = Explod
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
id = 2
anim = 8004
scale = 0.5,0.5
pos = -48,-25
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 321, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 321, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 312
ctrl = 0
;----------------------------------

;End
[Statedef 312] 
type    = S
movetype= A
physics = S
anim = 312
sprpriority = 2
poweradd = 0

[State 312, liftoff]
type = targetstate
Trigger1 = time = 0
value = 304
ctrl = 0

[State 310, voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 312, vel]
type = posset
trigger1 = animelem = 2, 0
trigger2 = animelem = 4
y = 0

[State 312, posadd]
type = posadd
trigger1 = animelem = 2, 0
x = -25

[State 312, posadd]
type = posadd
trigger1 = animelem = 4, 0
x = -45

[State 312, pos]
type = posadd
trigger1 = animelem = 2, 0
y = (target, const(size.head.pos.y) + 12)

[State 312, Bind1]
type = TargetBind
trigger1 = animelem = 4
pos = 20, -70
time = 1

[State 312, Bind2]
type = TargetBind
trigger1 = animelem = 5
pos = 5, -80
time = 1

[State 312, Damage]
type = targetlifeadd
trigger1 = Animelem = 4
value = -30

[State 312, turn]
type = turn
trigger1 = animtime = 0

[State 312, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------
;(GRABBED)
[Statedef 302]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 302, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 302, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 302, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 302

[State 302, liftoff]
type = changestate
Trigger1 = time = 100
value = 1150
ctrl = 0
;--------------------------------------------------------------

;-----------------------------------
;(GRABBED II)
[Statedef 303]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 303, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 303, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 303, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 303

[State 303, liftoff]
type = selfState
Trigger1 = time = 100
value = 5030
;--------------------------------------------------------------
;-----------------------------------
;(GRABBED III)
[Statedef 304]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 304, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 304, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 304, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 304

[State 304, 2]
type = turn
Trigger1 = animTime = 0

[State 304, 2]
type = posadd
Trigger1 = animTime = 0
y = 40

;[State 304, hitfallset]
;type = hitfallset
;trigger1 = Animtime = 0
;value = 0

[State 304, liftoff]
type = ChangeState
Trigger1 = animtime = 0
value = 9001

[Statedef 9001] 
type = A
movetype = H
physics = N
sprpriority = 0
velset = -10,-11
ctrl = 0
anim = 5050

[State 9001, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9001, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5030 && selfanimexist(5035) && animtime = 0
value = 5035

[State 9001, ChangeAnim2]
type = ChangeAnim
trigger1 = anim = 5030 && !selfanimexist(5035) && animtime = 0
trigger2 = anim = 5035 && animtime = 0
value = 5050

[State -3, Shake on Land]
type = EnvShake
trigger1 = pos y >= 0 && vel y > 0
time = 12
freq = 110
ampl = 3

[State 9001, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.61
y = Const(movement.yaccel)

[State 9001, VelAdd]
type = VelAdd
trigger1 = 1
y = .52

[State 9001, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 5110;ifelse(alive,5040,5050)
;--------------------------------------------------------------

;-----------------------------------
;(GRABBED IIB)
[Statedef 320]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 320, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 320, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 320, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 320

[State 320, liftoff]
type = selfState
Trigger1 = time = 100
value = 5030
;--------------------------------------------------------------

;-----------------------------------
;(GRABBED IIC)
[Statedef 322]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 322, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 322, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 322, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 322

[State 322, liftoff]
type = selfState
Trigger1 = time = 100
value = 5030
;--------------------------------------------------------------

;P1 Miss
[Statedef 305]
type    = S
movetype= I
physics = S
velset = -12,0
anim = 305
ctrl = 0

[State 305, Cancel]
type = targetstate
Trigger1 = time = 0
value = 306

[State 305, MD]
type = makedust
Trigger1 = 1
pos = 0,0
spacing = 3

[State 301, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(7) = 0

[State 305, END]
type = changestate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------

;P2 Counter
[Statedef 306]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0

[State 306, ANIM1]
type = changeanim
trigger1 = selfanimexist(306)
Trigger1 = time = 0
value = 306

[State 306, ANIM2]
type = changeanim
trigger1 = !selfanimexist(306)
trigger1 = selfanimexist(200)
Trigger1 = Time = 0
value = 200

[State 306, ANIM3]
type = changeanim
trigger1 = !selfanimexist(306)
trigger1 = !selfanimexist(200)
Trigger1 = Time = 0
value = 5000

[State 306, END]
type = selfstate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------



;---------------------------------------------------------------------------

;Grab Z
[Statedef 360]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 300
sprpriority = 5

[State 360, Cancel Var]
type = varset
Trigger1 = time = 0
var(7) = 0

[State 360, 2]
type = HitDef
trigger1 = var(4)<=0
Trigger1 = Time = 0
attr = S, NT          
hitflag = M-          
priority = 4, Miss    
sparkno = -1          
sprpriority = 1  
hitsound = -1
p2facing = 1          
p1stateno = 361   
p2stateno = 380  
fall = 1   
ground.velocity = -4,-6
;down.velocity = 0,12
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
yaccel = .6

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 830, 2]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 360, 3]
type = ChangeState
trigger1 = !MoveContact
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=============================================================
;Success
[Statedef 361] 
type    = S
movetype= A
physics = S
anim = 361
sprpriority = 2
poweradd = 0

[State 361, 1]
type = Width
trigger1 = time = 0
edge = 50,10

[State 361, vel]
type = playerpush
trigger1 = 1
value = 0

[State 361, Bind1]
type = TargetBind
trigger1 = time < 1
pos = 50, 0
time = 1

[State 361, hitsound]
type = PlaySnd
trigger1 = time = 0
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 361, hitsound]
type = PlaySnd
trigger1 = AnimElem = 1, = 1
value = 5,7

[State 361, Hitspark]
type = Explod
trigger1 = AnimElem = 1, = 1
id = 2
anim = 8004
scale = 0.5,0.5
pos = 62,-2
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 361, Damage]
type = targetlifeadd
trigger1 = AnimElem = 1, = 1
value = -35
kill = 0

[State 361, Targetfall]
type = Targetstate
trigger1 = animelem = 1, = 2
value = 381
ctrl = 0

[State 361, Cancel Var]
type = varset
Trigger1 = Time = [0,7]
trigger1 = target, command = "z" || target, command = "y"
var(7) = 1

[State 361, Cancel]
type = changestate
Trigger1 = Time = [5,7]
trigger1 = var(7) = 1
value = 305

[State 361, Cancel]
type = targetstate
Trigger1 = Time = [5,7]
trigger1 = var(7) = 1
value = 306

[State 361, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(7) = 0

[State 361, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 362
ctrl = 0

;---------------------------------------------------------------------------
; Push Block (Stand)
[Statedef 1230]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 130
ctrl = 0

[State 1230, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 37

[State 1230, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "Push Block F"
pos = 0,0
postype = p1
stateno = 1260
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1230, Spark]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
ontop = 1
scale = 0.5, 0.5

[State 1230, SFX]
type = PlaySnd
trigger1 = Time = 0
value = 4, 3
ignorehitpause = 1

[State 1230, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 1230, Done]
type = ChangeState
trigger1 = time = 27
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; Push Block (Crouch)
[Statedef 1240]
type    = C
movetype= I
physics = C
velset = 0,0
anim = 131
ctrl = 0

[State 1240, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 37

[State 1240, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "Push Block F"
pos = 0,0
postype = p1
stateno = 1260
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1240, Spark]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
ontop = 1
scale = 0.5, 0.5

[State 1240, SFX]
type = PlaySnd
trigger1 = Time = 0
value = 4, 3
ignorehitpause = 1

[State 1240, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 1240, Done]
type = ChangeState
trigger1 = time = 27
value = 131
ctrl = 1

;---------------------------------------------------------------------------
; Push Block (Air)
[Statedef 1250]
type    = A
movetype= I
physics = A
velset = 0,0
anim = 132
ctrl = 0

[State 1250, NotHitBy]
Type = NotHitBy
trigger1 = Time = 0
Value = SCA
Time = 37

[State 1250, Push Block]
type = Helper
trigger1 = Time = 0
ID = 6600
name = "Push Block F"
pos = 0,0
postype = p1
stateno = 1260
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1250, Spark]
type = Explod
trigger1 = Time = 0
anim = 8060
pos = 47,-55
ontop = 1
scale = 0.5, 0.5

[State 1250, SFX]
type = PlaySnd
trigger1 = Time = 0
value = 4, 3
ignorehitpause = 1

[State 1250, Stop]
type = Velset
trigger1 = Time = [0,30]
x = 0
y = 0

[State 1250, Done]
type = ChangeState
trigger1 = time = 27
value = 132
ctrl = 1

;---------------------------------------------------------------------------
; Push Block Fwd
[Statedef 1260]
type    = A
movetype= I 
physics = N
velset = 0,0
anim = 1270

[State 1260, Not Get Hit]
type = NotHitBy
Trigger1 = Time >= 0
value = , AA ,AP ,AT
Time = 1

[State 1260, Push]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 1260, Shove]
type = VelSet
trigger1 = Time >= 0
x = 17

[State 1260, Done]
type = DestroySelf
trigger1 = Time = 30

;=============================================================
;Jump on
[Statedef 362] 
type    = A
movetype= A
physics = N
anim = 362
sprpriority = 2
poweradd = 0

[State 901, Explod]
type = Explod
trigger1 = animelem = 2, = 10
anim = 8005
pos = ceil(-40*const(size.xscale)),ceil(-10*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 301, vel]
type = playsnd
trigger1 = animelem = 2, = 10
value = 5,4

[State 362, vel]
type = playerpush
trigger1 = 1
value = 0

[State 362, Velset]
type = velset
trigger1 = p2dist x > 10
x = 4

[State 362, Velset]
type = velset
trigger1 = p2dist x <= 10
x = .05

[State 362, Velset]
type = velset
trigger1 = time = 0
y = -5

[State 361, Cancel]
type = targetstate
trigger1 = animelem = 2, = 10
value = 383

[State 362, gravity]
type = veladd
trigger1 = time > 0
y = .45

[State 361, end]
type = ChangeState
Trigger1 = pos y >= -10 && vel y > 0
value = 363
ctrl = 0

;=============================================================
;Ride and chop 1
[Statedef 363] 
type    = S
movetype= A
physics = N
anim = 363
velset = 0,0
sprpriority = 2
poweradd = 0

[State 363, Posset]
type = Posset
trigger1 = time = 0
y = -7

[State 363, playerpush]
type = playerpush
trigger1 = 1
value = 0

[State 363, Targetstate]
type = targetstate
Trigger1 = time = 0
value = 383
ctrl = 0


[State 363, voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
trigger3 = Animelem = 8
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 363, hitsound]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
trigger3 = Animelem = 8
value = 5,2
channel = 2

[State 363, Damage]
type = targetlifeadd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
trigger3 = Animelem = 8
value = -15
kill = 0

[State 363, Hitspark]
type = Explod
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
trigger3 = Animelem = 8
id = 2
anim = 8004
scale = 0.5,0.5
pos = 56,-3
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 363, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 363, Mash]
type = varadd
Trigger1 = command = "x" || command = "y" || command = "z"
var(2) = 1

[State 363, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) > 3
value = 364
ctrl = 0

[State 363, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) <= 3
value = 366
ctrl = 0
;-----------------------------

;=============================================================
;Ride and chop 2
[Statedef 364] 
type    = S
movetype= A
physics = N
anim = 364
velset = 0,0
sprpriority = 2
poweradd = 0

[State 364, playerpush]
type = playerpush
trigger1 = 1
value = 0

[State 364, Targetstate]
type = targetstate
Trigger1 = time = 0
value = 384
ctrl = 0

[State 364, voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 364, hitsound]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
value = 5,2
channel = 2

[State 364, Damage]
type = targetlifeadd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
value = -10

[State 364, Hitspark]
type = Explod
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
id = 2
anim = 8004
scale = 0.5,0.5
pos = 56,-3
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 364, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 364, Mash]
type = varadd
Trigger1 = command = "x" || command = "y" || command = "z"
var(2) = 1

[State 364, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) > 3
value = 365
ctrl = 0

[State 363, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) <= 3
value = 366
ctrl = 0
;-----------------------------

;=============================================================
;Ride and chop 3
[Statedef 365] 
type    = S
movetype= A
physics = N
anim = 365
velset = 0,0
sprpriority = 2
poweradd = 0

[State 365, playerpush]
type = playerpush
trigger1 = 1
value = 0

[State 365, Targetstate]
type = targetstate
Trigger1 = time = 0
value = 385
ctrl = 0

[State 365, voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 365, hitsound]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
value = 5,2
channel = 2

[State 365, Damage]
type = targetlifeadd
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
value = -10

[State 365, Hitspark]
type = Explod
trigger1 = AnimElem = 2
trigger2 = Animelem = 5
id = 2
anim = 8004
scale = 0.5,0.5
pos = 56,-3
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 365, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 365, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 366
ctrl = 0
;-----------------------------

;Last hit
[Statedef 366] 
type    = S
movetype= A
physics = N
anim = 366
velset = 0,0
sprpriority = 2
poweradd = 0

[State 363, Posset]
type = Posset
trigger1 = time = 0
y = 0

[State 366, voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 7,3
volume = 255
volumescale = 255
channel = 0

[State 366, hitsound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5,2

[State 366, Targetstate]
type = targetstate
Trigger1 = time = 0
value = 386
ctrl = 0

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = 8010
scale = 0.87,0.87
pos = 0, 0
ownpal = 1
postype = p2
sprpriority = 5

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = 0,7

[State 366, Damage]
type = targetlifeadd
trigger1 = AnimElem = 1
value = -45

[State 366, Hitspark]
type = Explod
trigger1 = AnimElem = 1
id = 2
anim = 8002
scale = 0.5,0.5
pos = 55,-3
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 366, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 367
ctrl = 0

;=============================================================
;Jump off
[Statedef 367] 
type    = A
movetype= I
physics = A
anim = 367
sprpriority = 2
poweradd = 0

[State 367, vel]
type = playerpush
trigger1 = 1
value = 0

[State 367, Velset]
type = velset
trigger1 = time = 0
x = -9
y = -5

;-----------------------------------
;(GRABBED)
[Statedef 380]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 380, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 380, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 380, liftoff]
type = selfstate
Trigger1 = time = 100
value = 5030
ctrl = 0
;--------------------------------------------------------------

;-----------------------------------
;Tripped
[Statedef 381]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 381, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 381, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 381, anim1]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = selfanimexist(5070)
value = 5070

[State 381, anim2]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = !selfanimexist(5070)
value = 5030

[State 381, Velset]
type = velset
trigger1 = animelem = 1, = 5
x = 0
y = -3

[State 381, gravity]
type = veladd
trigger1 = animelem = 1, > 4
y = .70

[State 381, liftoff]
type = changestate
Trigger1 = vel y > 0 && pos y >= 0 
value = 382
ctrl = 0
;--------------------------------------------------------------

;---------------------------------------------------------------------------
;Hit ground
[Statedef 382]
type    = L
movetype= H
physics = N

[State 382, anim]
type = ChangeAnim
trigger1 = time = 0
value = 5110

[State 382, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 382, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 382, 6]
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 382, 7]
type = selfState
trigger1 = Time >= 100
value = 5110 ;HIT_LIEDOWN
ctrl = 0

[State 382, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = 1

[State 382, 11]
type = PosFreeze
trigger1 = 1

[State 382, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------

;(GRABBED1)
[Statedef 383]
type    = A
movetype= H ;Get hit
physics = N
velset = 0,0
ctrl = 0

[State 383, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 383, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 383, Changeanim]
type = changeanim2
Trigger1 = time = 0
value = 383

[State 383, liftoff]
type = selfstate
Trigger1 = time = 100
value = 5100
ctrl = 0

;(GRABBED2)
[Statedef 384]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 384, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 384, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 384, Changeanim]
type = changeanim2
Trigger1 = time = 0
value = 384

[State 384, liftoff]
type = selfstate
Trigger1 = time = 100
value = 5100
ctrl = 0

;(GRABBED3)
[Statedef 385]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 385, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 385, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 385, Changeanim]
type = changeanim2
Trigger1 = time = 0
value = 385

[State 385, liftoff]
type = selfstate
Trigger1 = time = 100
value = 5100
ctrl = 0

;(GRABBED4)
[Statedef 386]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 386, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 386, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 386, Changeanim]
type = changeanim2
Trigger1 = time = 0
value = 386

[State 386, 8]
type = GameMakeAnim
trigger1 = Time = [1,3]
value = 61
pos = 0, 0
under = 1

[State 386, 9]
type = envshake
trigger1 = Time = 1
time = 12
ampl = -5

[State 386, liftoff]
type = changestate
Trigger1 = animtime = 0
value = 387
ctrl = 0

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 387]
type    = L
movetype= H
physics = N

[State 387, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 387, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 387, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State -3, Shake on Land]
type = EnvShake
trigger1 = pos y >= 0 && vel y > 0
time = 12
freq = 110
ampl = 3

[State 9001, VelAdd]
type = VelAdd
trigger1 = 1
x = -0.61
y = Const(movement.yaccel)

[State 9001, VelAdd]
type = VelAdd
trigger1 = 1
y = .52

[State 387, 5] ;Acceleration
type = Velset
trigger1 = time = 0
x = -11
y = -8

[State 387, hitfallset]
type = hitfallset
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
value = 0

[State 387, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5110


;===========================================================================
;Air Throw
;---------------------------------------------------------------------------
[Statedef 690]
type    = A
movetype= A
physics = A
juggle  = 0
velset = 0,0
ctrl = 0
anim = 690
sprpriority = 5

[State 690, Cancel Var]
type = varset
Trigger1 = time = 0
var(7) = 0

[State 690, 2]
type = HitDef
Trigger1 = Time = 0
attr = A, NT          
hitflag = A-          
priority = 4, Miss    
sparkno = -1          
sprpriority = 1  
hitsound = -1
p2facing = 1          
p1stateno = 691       
p2stateno = 390    
fall = 1   
fall.envshake.time = 12
fall.envshake.ampl = -5
ground.velocity = -6,7
air.velocity = -6,7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
yaccel = .6

[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 192, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 691, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 204
ctrl = 1

;=============================================================
;Success
[Statedef 691] 
type    = A
movetype= A
physics = N
anim = 691
velset = 0,0
sprpriority = 2
poweradd = 0

[State 192, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 691, Bind1]
type = TargetBind
trigger1 = time = 0
pos = 40, 0
time = 1

[State 901, Explod]
type = Explod
trigger1 = animelem = 1, = 5
anim = 8005
pos = ceil(-40*const(size.xscale)),ceil(-10*const(size.yscale))
scale = .5,.5
ownpal = 1
ontop = 1

[State 301, vel]
type = playsnd
trigger1 = animelem = 1, = 5
value = 5,4

[State 691, vel]
type = posadd
trigger1 = time = 0
y = -30

[State 691, 1]
type = Width
trigger1 = time = 0
edge = 20,0

[State 691, vel]
type = playerpush
trigger1 = 1
value = 0

[State 691, vel]
type = posadd
trigger1 = p2dist x >= 10
x = 8

[State 691, vel]
type = posadd
trigger1 = pos y > (target, const(size.mid.pos.y) + (target, pos y) + 22)
y = -4

[State 691, Cancel Var]
type = varset
Trigger1 = Time = [0,7]
trigger1 = target, command = "z" || target, command = "y"
var(7) = 1

[State 691, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 692
ctrl = 0

;-----------------------------

;-----------------------------
;Chop Chop
[Statedef 692] 
type    = A
movetype= A
physics = N
anim = 692
velset = 0,0
sprpriority = 2
poweradd = 0

[State 692, Cancel]
type = changestate
Trigger1 = Time = 1
trigger1 = var(7) = 1
value = 305

[State 192, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 692, Cancel]
type = targetstate
Trigger1 = Time = 1
trigger1 = var(7) = 1
value = 306

[State 692, voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
trigger4 = Animelem = 8
value = 7,3
volume = 255
volumescale = 255
channel = 0

[State 692, hitsound]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
trigger4 = Animelem = 8
value = 5,2
channel = 2

[State 692, Damage]
type = targetlifeadd
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
trigger4 = Animelem = 8
value = -20
kill = 0

[State 692, Hitspark]
type = Explod
trigger1 = AnimElem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
trigger4 = Animelem = 8
id = 2
anim = 8004
scale = 0.5,0.5
pos = 38,-15
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 692, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 692, Mash]
type = varadd
Trigger1 = command = "x" || command = "y" || command = "z"
var(2) = 1

[State 692, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) > 3
value = 693
ctrl = 0

[State 692, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) <= 3
value = 695
ctrl = 0
;----------------------------------


;-----------------------------
;Chop Chop II
[Statedef 693] 
type    = A
movetype= A
physics = N
anim = 693
velset = 0,0
sprpriority = 2
poweradd = 0

[State 693, Targetstate]
type = targetstate
trigger1 = time = 0
value = 391

[State 192, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 693, voice]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = Animelem = 5
value = 7,3
volume = 255
volumescale = 255
channel = 0

[State 693, hitsound]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = Animelem = 5
value = 5,2
channel = 2

[State 693, Damage]
type = targetlifeadd
trigger1 = AnimElem = 3
trigger2 = Animelem = 5
value = -12

[State 693, Hitspark]
type = Explod
trigger1 = AnimElem = 3
trigger2 = Animelem = 5
id = 2
anim = 8004
scale = 0.5,0.5
pos = 38,-15
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 693, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 693, Mash]
type = varadd
Trigger1 = command = "x" || command = "y" || command = "z"
var(2) = 1

[State 693, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) > 3
value = 694
ctrl = 0

[State 693, end]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = var(2) <= 3
value = 695
ctrl = 0
;----------------------------------

;-----------------------------
;Chop Chop III
[Statedef 694] 
type    = A
movetype= A
physics = N
anim = 694
velset = 0,0
sprpriority = 2
poweradd = 0

[State 694, Targetstate]
type = targetstate
trigger1 = time = 0
value = 392

[State 192, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 694, voice]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = Animelem = 5
value = 7,3
volume = 255
volumescale = 255
channel = 0

[State 694, hitsound]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = Animelem = 5
value = 5,2
channel = 2

[State 694, Damage]
type = targetlifeadd
trigger1 = AnimElem = 3
trigger2 = Animelem = 5
value = -12

[State 694, Hitspark]
type = Explod
trigger1 = AnimElem = 3
trigger2 = Animelem = 5
id = 2
anim = 8004
scale = 0.5,0.5
pos = 38,-15
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 694, Mash]
type = varset
Trigger1 = time = 0
var(2) = 0

[State 694, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 695
ctrl = 0
;----------------------------------

;Last hit
[Statedef 695] 
type    = S
movetype= A
physics = N
anim = 695
velset = 0,0
sprpriority = 1
poweradd = 0

[State 691, Bind1]
type = TargetBind
trigger1 = time < 1
pos = -8, -7
time = 1

[State 695, voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 695, hitsound]
type = PlaySnd
trigger1 = AnimElem = 2, = 1
value = 5,2
channel = 2

[State 695, Targetstate]
type = targetstate
Trigger1 = time = 0
value = 393
ctrl = 0

[State 695, Damage]
type = targetlifeadd
trigger1 = AnimElem = 2, = 1
value = -30

[State 695, Hitspark]
type = Explod
trigger1 = AnimElem = 2, = 1
id = 2
anim = 8004
scale = 0.5,0.5
pos = 15,-15
sprpriority = 3
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 695, Slash Explod]
type = Explod
trigger1 = AnimElem = 2
id = 697
anim = 697
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1

[State 695, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 696
ctrl = 0

;=============================================================
;Jump off
[Statedef 696] 
type    = A
movetype= I
physics = A
anim = 696
sprpriority = 1
poweradd = 0

[State 696, vel]
type = playerpush
trigger1 = 1
value = 0

[State 696, Velset]
type = velset
trigger1 = time = 0
x = -4
y = -8

[State 695, CtrlVar]
type = varset
Trigger1 = time = 0
var(8) = 3

[State 696, end]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1211
ctrl = 1

;-----------------------------------
;GRABBED I
[Statedef 390]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 390, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 390, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 390, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 390

[State 390, liftoff]
type = selfstate
Trigger1 = time = 100
value = 5030
ctrl = 0
;--------------------------------------------------------------

;-----------------------------------
;GRABBED II
[Statedef 391]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 391, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 391, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 391, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 391

[State 391, liftoff]
type = selfstate
Trigger1 = time = 100
value = 5030
ctrl = 0
;--------------------------------------------------------------

;-----------------------------------
;GRABBED III
[Statedef 392]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 392, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 392, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 392, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 392

[State 392, liftoff]
type = selfstate
Trigger1 = time = 100
value = 5030
ctrl = 0
;--------------------------------------------------------------

;-----------------------------------
;LAST
[Statedef 393]
type    = A
movetype= H ;Get hit
physics = N
ctrl = 0

[State 393, 1]
type = Width
trigger1 = time >= 0
edge = 0,0

[State 393, 1]
type = ScreenBound
Trigger1 = Time >= 0
value = 0

[State 393, 2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 393

[State 393, liftoff]
type = posadd
Trigger1 = animtime = 0
y = 30

[State 393, liftoff]
type = selfstate
Trigger1 = animtime = 0
value = 5030
ctrl = 0
;--------------------------------------------------------------

;---------------------------------------------------------------------------
;
; AI activation code by Winane.
; (Credit to ANMC, Bagaliao, and FlowaGirl for the basic helper method concept.)
;
;------------------
; AI Activation Helper State - Primary Version
; (Credit to YongMing for the basic HitPause bugfix concept.)
;
; var(1) - First tick button activation prevention.
; var(2) - Used for pause/superpause and custom state check, basically.
; var(3) - (Super/)Pause & custom state-triggered dir detection disabler.
; var(4) - Persistent direction command detection enabler (due to 2002.04.14).
; var(9) - AutoTurn bug fixer.
; parent's var(58) - Parent's GameTime var, for pause and custom state check.
; parent's var(59) - Parent's primary AI variable.

[StateDef 9741]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9741, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 0

[State 9741, PauseCheck]
type = VarSet
trigger1 = (GameTime>(Parent,var(58)))
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)
trigger4 = Parent,var(59)
trigger5 = (var(3):=0)
var(2) = (var(3):=1)+(var(4):=0)

[State 9741, Facing]
type = Turn
trigger1 = (var(9):=(Facing != Parent,Facing))

[State 9741, DirTurnOnAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = !var(9)
trigger1 = (Parent,command = "holdfwd")
trigger2 = (Parent,command = "holdback")
trigger3 = (Parent,command = "holdup")
trigger4 = (Parent,command = "holddown")
trigger5 = !(var(4):=1)
var(59) = var(4)

[State 9741, DirTurnOffAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = Parent,var(59)
trigger1 = (command = "holdfwd")
trigger1 = (Parent,command = "holdfwd")
trigger2 = (command = "holdback")
trigger2 = (Parent,command = "holdback")
trigger3 = (command = "holdup")
trigger3 = (Parent,command = "holdup")
trigger4 = (command = "holddown")
trigger4 = (Parent,command = "holddown")
var(59) = (var(4):=0)

[State 9741, ButtonTurnOnAI]
type = ParentVarSet
triggerall = var(1)
triggerall = !var(2)
trigger1 = (Parent,command = "a")
trigger2 = (Parent,command = "b")
trigger3 = (Parent,command = "c")
trigger4 = (Parent,command = "x")
trigger5 = (Parent,command = "y")
trigger6 = (Parent,command = "z")
trigger7 = (Parent,command = "s")
var(59) = 1

[State 9741, ButtonTurnOffAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = (command = "a")
trigger1 = (Parent,command = "a")
trigger2 = (command = "b")
trigger2 = (Parent,command = "b")
trigger3 = (command = "c")
trigger3 = (Parent,command = "c")
trigger4 = (command = "x")
trigger4 = (Parent,command = "x")
trigger5 = (command = "y")
trigger5 = (Parent,command = "y")
trigger6 = (command = "z")
trigger6 = (Parent,command = "z")
trigger7 = (command = "s")
trigger7 = (Parent,command = "s")
var(59) = -1

[State 9741, UnPauseCheck]
type = VarSet
triggerall = var(2)
trigger1 = (Parent,command = "a")
trigger2 = (Parent,command = "b")
trigger3 = (Parent,command = "c")
trigger4 = (Parent,command = "x")
trigger5 = (Parent,command = "y")
trigger6 = (Parent,command = "z")
trigger7 = (Parent,command = "s")
trigger8 = (var(2) = 2)
trigger8 = (var(2):=0)
var(2) = 2

[State 9741, Goodbye]
type = DestroySelf
triggerall = (var(1):=1)
trigger1 = Parent,var(59)
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)


;------------------
; AI Activation Helper State - Compatibly Partnered Version
;
; var(1) - First tick dir activation prevention
; var(2) - Used for pause/superpause and custom state check, basically.
; var(3) - (Super/)Pause & custom state-triggered dir detection disabler.
; var(4) - Hitpause check.
; var(5) - No button on previous tick.
; var(6) - Any dir on this tick.
; var(7) - Any button on this tick.
; var(8) - Matching partner button detected.
; var(9) - AutoTurn bug fixer.
; parent's var(58) - Parent's GameTime var, for pause and custom state check.
; parent's var(59) - Parent's primary AI variable.

[StateDef 9742]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9742, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 0

[State 9742, PauseCheck]
type = VarSet
trigger1 = (GameTime>Parent,var(58))
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)
trigger4 = Parent,var(59)
trigger5 = (var(3):=0)
var(2) = (var(3):=1)

[State 9742, Facing]
type = Turn
trigger1 = (var(9):=(Facing != Parent,Facing))

[State 9742, ParentDirCheck]
type = VarSet
trigger1 = (Parent,command = "holdfwd")
trigger2 = (Parent,command = "holdback")
trigger3 = (Parent,command = "holdup")
trigger4 = (Parent,command = "holddown")
trigger5 = (var(6):=0)
var(6) = 1

[State 9742, ParentButtonCheck]
type = VarSet
trigger1 = (Parent,command = "a")
trigger2 = (Parent,command = "b")
trigger3 = (Parent,command = "c")
trigger4 = (Parent,command = "x")
trigger5 = (Parent,command = "y")
trigger6 = (Parent,command = "z")
trigger7 = (Parent,command = "s")
trigger8 = (var(7):=0)
var(7) = 1

[State 9742, SameButtonCheck]
type = VarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = NumPartner
trigger1 = (Parent,command = "a")
trigger1 = (Partner,command = "a")
trigger2 = (Parent,command = "b")
trigger2 = (Partner,command = "b")
trigger3 = (Parent,command = "c")
trigger3 = (Partner,command = "c")
trigger4 = (Parent,command = "x")
trigger4 = (Partner,command = "x")
trigger5 = (Parent,command = "y")
trigger5 = (Partner,command = "y")
trigger6 = (Parent,command = "z")
trigger6 = (Partner,command = "z")
trigger7 = (Parent,command = "s")
trigger7 = (Partner,command = "s")
trigger8 = (var(8):=0)
var(8) = 1

[State 9742, DirTurnOnAI]
type = ParentVarSet
trigger1 = var(1)
trigger1 = var(6)
trigger1 = !var(3)
trigger1 = !var(4)
trigger1 = !var(9)
var(59) = 1

[State 9742, DirTurnOffAI]
type = ParentVarSet
triggerall = var(6)
triggerall = !var(3)
triggerall = Parent,var(59)
trigger1 = (command = "holdfwd")
trigger1 = (Parent,command = "holdfwd")
trigger2 = (command = "holdback")
trigger2 = (Parent,command = "holdback")
trigger3 = (command = "holdup")
trigger3 = (Parent,command = "holdup")
trigger4 = (command = "holddown")
trigger4 = (Parent,command = "holddown")
var(59) = 0

[State 9742, ButtonTurnOnAI]
type = ParentVarSet
trigger1 = var(5)
trigger1 = var(7)
trigger1 = !var(2)
trigger1 = !var(8)
var(59) = 1

[State 9742, ButtonTurnOffAI]
type = ParentVarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = !var(8)
trigger1 = (command = "a")
trigger1 = (Parent,command = "a")
trigger2 = (command = "b")
trigger2 = (Parent,command = "b")
trigger3 = (command = "c")
trigger3 = (Parent,command = "c")
trigger4 = (command = "x")
trigger4 = (Parent,command = "x")
trigger5 = (command = "y")
trigger5 = (Parent,command = "y")
trigger6 = (command = "z")
trigger6 = (Parent,command = "z")
trigger7 = (command = "s")
trigger7 = (Parent,command = "s")
var(59) = -1

[State 9742, UnPauseCheck]
type = VarSet
triggerall = var(2)
triggerall = !var(4)
trigger1 = var(7)
trigger2 = (var(2) = 2)
trigger2 = (var(2):=0)
var(2) = 2

[State 9742, Goodbye]
type = DestroySelf
trigger1 = Parent,var(59)
trigger2 = !(Parent,Alive)
trigger3 = (RoundState != 2)

[State 9742, HitPauseCheck]
type = VarSet
trigger1 = var(6)
trigger2 = var(7)
trigger3 = !(Parent,HitPauseTime)
var(4) = Parent,HitPauseTime

[State 9742, Delay]
type = VarSet
trigger1 = (var(1):=1)
var(5) = !var(7)


;====================================
; Wolverine X's Special Moves States
;====================================

;-----------------------------------------------
;Berserker Slash Type I
;-----------------------
[Statedef 2000]
type = S
movetype = A
physics = S
anim = 2000
juggle = 2
velset = 0,0
poweradd = 60
ctrl = 0

[State 2040, voice]
type = PlaySnd
trigger1 = animelem = 7
value = 7,4
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2000, fx]
type = PlaySnd
trigger1 = animelem = 7
value = 240,2
volume = 190
volumescale = 190

[State 2000, 4]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = hard
damage = 139,10
guardflag = MA
hitflag = MAFD
pausetime = 1,12
sparkno = S9999
guard.sparkno = s8060
sparkxy = -10,-65
hitsound = S5,8
guardsound = S6,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
ground.type = High
ground.slidetime = 18
ground.hittime = 26
air.hittime = 2
yaccel = .99
ground.velocity = -16,-10
air.velocity = -16,-10
airguard.velocity = -7,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
fall = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8076, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 226

[State 2000, slide]
type = velset
trigger1 = animelem = 3, = 1
x = 10

[State 2000, slide]
type = velset
trigger1 = animelem = 6, >= 0
trigger1 = animelem = 8, <= 0
x = 5

[State 2570, stop]
type = velmul
trigger1 = animelem = 3, = 1
x = 2.8

[State 2000, slide]
type = velset
trigger1 = animelem = 9
x = 0

[State 2000, Playerpush]
type = PlayerPush
trigger1 = animelem = 3, >= 1
trigger1 = animelem = 6, < 0
value = 0

[State 2000, NHB]
type = Nothitby
trigger1 = animelem = 3, >= 1
trigger1 = animelem = 6, < 0
value = , AP

[State 2000, 5]
type = ChangeState
trigger1 = movecontact
trigger1 = animelem = 9
value = 2008
ctrl = 0

[State 2000, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------
;Berserker Slash Hit Pause
;--------------------------
[Statedef 2008]
type = S
movetype = A
physics = S
anim = 2008
velset = 0,0
ctrl = 0

[State 2008, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------
;Berserker Slash Type II
;-----------------------
[Statedef 2002]
type = S
movetype = A
physics = S
anim = 2002
juggle = 2
velset = 0,0
poweradd = 60
ctrl = 0

[State 2040, voice]
type = PlaySnd
trigger1 = animelem = 7
value = 7,4
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2000, fx]
type = PlaySnd
trigger1 = animelem = 7
value = 240,2
volume = 190
volumescale = 190

[State 2002, 4]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = hard
damage = 139,10
guardflag = MA
hitflag = MAFD
pausetime = 1,12
sparkno = S9999
guard.sparkno = s8060
sparkxy = -10,-65
hitsound = S5,8
guardsound = S6,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
ground.type = High
ground.slidetime = 18
ground.hittime = 26
air.hittime = 2
yaccel = .99
ground.velocity = -16,-10
air.velocity = -16,-10
airguard.velocity = -7,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
fall = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8076, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 226

[State 2002, slide]
type = velset
trigger1 = animelem = 3, = 1
x = 11

[State 2002, slide]
type = velset
trigger1 = animelem = 6, >= 0
trigger1 = animelem = 8, <= 0
x = 6

[State 2570, stop]
type = velmul
trigger1 = animelem = 3, = 1
x = 3.3

[State 2002, slide]
type = velset
trigger1 = animelem = 9
x = 0

[State 2002, Playerpush]
type = PlayerPush
trigger1 = animelem = 3, >= 1
trigger1 = animelem = 6, < 0
value = 0

[State 2002, NHB]
type = Nothitby
trigger1 = animelem = 3, >= 1
trigger1 = animelem = 6, < 0
value = , AP

[State 2002, 5]
type = ChangeState
trigger1 = movecontact
trigger1 = animelem = 9
value = 2008
ctrl = 0

[State 2002, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------
;Berserker Slash Type III
;-------------------------
[Statedef 2004]
type = S
movetype = A
physics = S
anim = 2004
juggle = 2
velset = 0,0
poweradd = 60
ctrl = 0

[State 2040, voice]
type = PlaySnd
trigger1 = animelem = 7
value = 7,4
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2000, fx]
type = PlaySnd
trigger1 = animelem = 7
value = 240,2
volume = 190
volumescale = 190

[State 2004, 4]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
animtype = hard
damage = 139,10
guardflag = MA
hitflag = MAFD
pausetime = 1,12
sparkno = S9999
guard.sparkno = s8060
sparkxy = -10,-65
hitsound = S5,8
guardsound = S6,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
ground.type = High
ground.slidetime = 18
ground.hittime = 26
air.hittime = 2
yaccel = .99
ground.velocity = -16,-10
air.velocity = -16,-10
airguard.velocity = -7,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
fall = 1

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8076, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 226

[State 2002, slide]
type = velset
trigger1 = animelem = 3, = 1
x = 15

[State 2002, slide]
type = velset
trigger1 = animelem = 6, >= 0
trigger1 = animelem = 8, <= 0
x = 8

[State 2570, stop]
type = velmul
trigger1 = animelem = 3, = 1
x = 3.8

[State 2002, slide]
type = velset
trigger1 = animelem = 9
x = 0

[State 2004, Playerpush]
type = PlayerPush
trigger1 = animelem = 3, >= 1
trigger1 = animelem = 6, < 0
value = 0

[State 2004, NHB]
type = Nothitby
trigger1 = animelem = 3, >= 1
trigger1 = animelem = 6, < 0
value = ,AP

[State 2004, 5]
type = ChangeState
trigger1 = movecontact
trigger1 = animelem = 9
value = 2008
ctrl = 0

[State 2004, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------


;========================================================================================
;-----------------------------------------------
;Berserker Barrage Type I
;-------------------------
[Statedef 2020]
type = S
movetype = A
physics = N
anim = 2020
velset = 0,0
poweradd = 60
ctrl = 0

[State 2020, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,7
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2020, slide]
type = velset
trigger1 = animelem = 2
x = 5

[State 2020, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2025
ctrl = 0

;Attack 1
[Statedef 2025]
type = S
movetype = A
physics = N
anim = 2025
juggle = 6
velset = 0,0
ctrl = 0

[State 2025, slide]
type = velset
trigger1 = animelem = 1
x = 5

[State 2025, FX]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2035
anim = 2035
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2025, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2025, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2025, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2025, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2025, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAFD
pausetime = 1,9
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -4
air.velocity = -4,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 79,5
guardflag = MA
hitflag = MAFD
pausetime = 1,9
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 8
ground.velocity = -11,-15
air.velocity = -11,-15
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2025, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2025, 5]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2025, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2025, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2025, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) >= 2
value = 2027
ctrl = 0

[State 2025, 8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) < 2
value = 2030
ctrl = 0

;Attack 2
[Statedef 2027]
type = S
movetype = A
physics = N
anim = 2025
juggle = 1
velset = 0,0
ctrl = 0

[State 2027, slide]
type = velset
trigger1 = animelem = 1
x = 5

[State 2027, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2027, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2027, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2027, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2027, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 29,5
guardflag = MA
hitflag = MAFD
pausetime = 1,9
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -4
air.velocity = -4,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 29,5
guardflag = MA
hitflag = MAFD
pausetime = 1,9
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 8
ground.velocity = -11,-15
air.velocity = -11,-15
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2027, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2027, 6]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2027, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 2030
ctrl = 0

;End
[Statedef 2030]
type = S
movetype = A
physics = N
anim = 2030
juggle = 2
velset = 0,0
ctrl = 0

[State 2030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;========================================================================================
;-----------------------------------------------
;Berserker Barrage Type II
;---------------------------
[Statedef 2040]
type = S
movetype = A
physics = N
anim = 2040
velset = 0,0
poweradd = 60
ctrl = 0

[State 2040, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,7
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2040, slide]
type = velset
trigger1 = animelem = 2
x = 6

[State 2040, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2045
ctrl = 0

;Attack 1
[Statedef 2045]
type = S
movetype = A
physics = N
anim = 2045
juggle = 6
velset = 0,0
ctrl = 0

[State 2045, slide]
type = velset
trigger1 = animelem = 1
x = 6

[State 2045, FX]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2035
anim = 2035
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2045, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2045, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2045, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2045, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2045, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAFD
pausetime = 1,11
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
down.velocity = -6,-7
air.hittime = 5
ground.velocity = -6
air.velocity = -4,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 79,5
guardflag = MA
hitflag = MAFD
pausetime = 1,11
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
down.velocity = -6,-7
air.hittime = 8
ground.velocity = -11,-15
air.velocity = -11,-15
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2025, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2045, 5]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2045, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2045, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2045, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) >= 2
value = 2046
ctrl = 0

[State 2045, 8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) < 2
value = 2050
ctrl = 0
;----------------------------------------------

;Attack 2
[Statedef 2046]
type = S
movetype = A
physics = N
anim = 2045
juggle = 1
velset = 0,0
ctrl = 0

[State 2046, slide]
type = velset
trigger1 = animelem = 1
x = 6

[State 2046, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2046, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2046, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2046, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2046, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAFD
pausetime = 1,11
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -6
air.velocity = -4,-1
down.velocity = -6,-7
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 79,5
guardflag = MA
hitflag = MAFD
pausetime = 1,11
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 8
down.velocity = -6,-7
ground.velocity = -11,-15
air.velocity = -11,-15
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2027, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2046, 6]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2046, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2046, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2046, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) >= 2
value = 2047
ctrl = 0

[State 2046, 8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) < 2
value = 2050
ctrl = 0
;----------------------------------------
;Attack 3
[Statedef 2047]
type = S
movetype = A
physics = N
anim = 2045
juggle = 1
velset = 0,0
ctrl = 0

[State 2047, slide]
type = velset
trigger1 = animelem = 1
x = 6

[State 2047, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2047, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2047, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2047, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2047, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAFD
pausetime = 1,11
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -6
air.velocity = -4,-1
down.velocity = -6,-7
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 79,5
guardflag = MA
hitflag = MAFD
pausetime = 1,11
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 8
ground.velocity = -11,-15
down.velocity = -6,-7
air.velocity = -11,-15
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2027, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2047, 6]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2047, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 2050
ctrl = 0
;---------------------------------
;End
[Statedef 2050]
type = S
movetype = A
physics = N
anim = 2050
velset = 0,0
ctrl = 0

[State 2050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;========================================================================================
;-----------------------------------------------
;Berserker Barrage Type III
;---------------------------
[Statedef 2060]
type = S
movetype = A
physics = N
anim = 2060
velset = 0,0
poweradd = 60
ctrl = 0

[State 2040, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,7
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2060, slide]
type = velset
trigger1 = animelem = 2
x = 7

[State 2060, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2065
ctrl = 0

;Attack 1
[Statedef 2065]
type = S
movetype = A
physics = N
anim = 2065
juggle = 6
velset = 0,0
ctrl = 0

[State 2065, slide]
type = velset
trigger1 = animelem = 1
x = 7

[State 2065, FX]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2035
anim = 2035
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2065, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2065, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2065, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2065, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2065, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAFD
pausetime = 1,13
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -8
air.velocity = -4,-1
airguard.velocity = -4,-.2
down.velocity = -6,-7
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 79,5
guardflag = MA
hitflag = MAFD
pausetime = 1,13
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 8
ground.velocity = -11,-15
air.velocity = -11,-15
airguard.velocity = -4,-.2
down.velocity = -6,-7
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2025, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2065, 5]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2065, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2065, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2065, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) >= 2
value = 2066
ctrl = 0

[State 2065, 8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) < 2
value = 2070
ctrl = 0
;----------------------------------------------

;Attack 2
[Statedef 2066]
type = S
movetype = A
physics = N
anim = 2065
juggle = 1
velset = 0,0
ctrl = 0

[State 2066, slide]
type = velset
trigger1 = animelem = 1
x = 7

[State 2066, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2066, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2066, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2066, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2066, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAFD
pausetime = 1,13
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -8
air.velocity = -4,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 79,5
guardflag = MA
hitflag = MAFD
pausetime = 1,13
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 8
ground.velocity = -11,-15
air.velocity = -11,-15
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2025, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2066, 6]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2066, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2066, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2066, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) >= 2
value = 2067
ctrl = 0

[State 2066, 8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) < 2
value = 2070
ctrl = 0
;----------------------------------------
;Attack 3
[Statedef 2067]
type = S
movetype = A
physics = N
anim = 2065
juggle = 1
velset = 0,0
ctrl = 0

[State 2067, slide]
type = velset
trigger1 = animelem = 1
x = 7

[State 2067, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2067, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2067, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2067, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2067, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAFD
pausetime = 1,13
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -8
air.velocity = -4,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 79,5
guardflag = MA
hitflag = MAFD
pausetime = 1,13
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 8
ground.velocity = -11,-15
air.velocity = -11,-15
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2025, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2067, 6]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2067, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2067, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2067, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) >= 2
value = 2068
ctrl = 0

[State 2067, 8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = var(13) < 2
value = 2070
ctrl = 0

;----------------------------------------
;Attack 4
[Statedef 2068]
type = S
movetype = A
physics = N
anim = 2065
juggle = 1
velset = 0,0
ctrl = 0

[State 2068, slide]
type = velset
trigger1 = animelem = 1
x = 7

[State 2068, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2068, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2068, SLASH2A]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2068, SLASH2B]
type = Explod
trigger1 = animelem = 4
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 2068, hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAFD
pausetime = 1,13
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -8
air.velocity = -4,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = .8

[State 2025, hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype = Hard
damage = 79,5
guardflag = MA
hitflag = MAFD
pausetime = 1,13
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 8
ground.velocity = -11,-15
air.velocity = -11,-15
airguard.velocity = -4,-.2
guard.velocity = -4.3
down.velocity = -6,-7
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
ID = 1+4
yaccel = .8

[State 2025, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 4
value = 240,2
volume = 190
volumescale = 190

[State 2068, 6]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2068, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 2070
ctrl = 0

;---------------------------------
;End
[Statedef 2070]
type = S
movetype = A
physics = N
anim = 2070
velset = 0,0
ctrl = 0

[State 2070, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------




;========================================================================================
;-----------------------------------------------
;Drill Claw Forward
;---------------------------
;Start Up
[Statedef 2100]
type = S
movetype = A
physics = N
anim = 2100
velset = 0,0
poweradd = 60
ctrl = 0

[State 2100, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2040, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2100, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2105
ctrl = 0

;-------------------------------
;Drill
[Statedef 2105]
type = A
movetype = A
physics = N
anim = 2105
juggle = 6
velset = 0,0
ctrl = 0

[State 2105, Fx]
type = PlaySnd
trigger1 = Time = 0
value = 240,2
volume = 190
volumescale = 190

[State 2105, velset]
type = velset
trigger1 = animelem = 1
x = 8

[State 2105, hit2]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
id = 1+4
yaccel = 1.3

[State 2105, 8]
type = ChangeState
trigger1 = movecontact
value = ifelse(moveguarded,2302,2300)
ctrl = 0

[State 2110, Wall]
type = ChangeState
trigger1 = vel x > 0
trigger1 = FrontEdgeBodyDist <= 10
value = 2350
ctrl = 0

[State 2105, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 2100
ctrl = 0
;----------------------------------------------

;---------------------------------
;Ground End
[Statedef 2110]
type = S
movetype = A
physics = N
anim = 2100
velset = 0,0
ctrl = 0

[State 2110, Y]
type = posset
trigger1 = Time = 0
Y = 0

[State 2110, 1]
type = VelSet
trigger1 = Time = 0
y = 0
x = 0

[State 2110, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 12, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 1,1

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200

[State 2110, 1]
type = varset
trigger1 = Time = 0
var(15) = 0

[State 2110, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------
;Drill Claw Up
;---------------------------
;Start Up
[Statedef 2120]
type = S
movetype = A
physics = N
anim = 2100
velset = 0,0
poweradd = 60
ctrl = 0

[State 2120, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2040, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2125
ctrl = 0

;-------------------------------
;Drill
[Statedef 2125]
type = A
movetype = A
physics = N
anim = 2120
juggle = 6
velset = 0,0
ctrl = 0

[State 2125, Fx]
type = PlaySnd
trigger1 = Time = 0
value = 240,2
volume = 190
volumescale = 190

[State 2125, velset]
type = velset
trigger1 = animelem = 1
y = -5

[State 2125, hit2]
type = HitDef
trigger1 = time = 0 && prevstateno != [2200,2270]
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 1
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1
air.velocity = -17,8
air.fall = 1
fall.envshake.time = 10
p2stateno = 715

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 0
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 706, 5]
type = Helper
trigger1 = numhelper(708) = 0 && (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
name = "Scroll Screen"
id = 708
stateno = 708
postype = p1
pos = 50, 30
bindtime = -1

[State 425, 3]
type = varset
trigger1 = (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
v = 56
value = 1
persistent = 0
yaccel = .6

[State 2125, 8]
type = ChangeState
trigger1 = movecontact
value = ifelse(moveguarded,2312,2310)
ctrl = 0

[State 2125, Wall]
type = ChangeState
trigger1 = vel x > 0
trigger1 = FrontEdgeBodyDist <= 10
value = 2350
ctrl = 0

[State 2125, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 2130
ctrl = 0
;----------------------------------------------

;---------------------------------
;Air End
[Statedef 2130]
type = A
movetype = A
physics = N
anim = 2130
;velset = 0,0
ctrl = 0

[State 2130, Y]
type = velset
trigger1 = Time = 0
x = 0

[State 2130, grav 1]
type = Veladd
trigger1 = var(8) = [-1,1]
y = .67

[State 2130, grav 2]
type = Veladd
trigger1 = var(8) != [-1,1]
y = .655

[State 2130, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0

;---------------------------------------------------------------------------
; Jump Land
[Statedef 2132]
type    = S
physics = S
anim = 47
ctrl = 0
velset = 0,0
facep2 = 1

[State 2132, scb]
type = varset
trigger1 = frontedgebodydist <= 5
var(17) = 0

[State 2132, 1]
type = VelSet
trigger1 = Time = 0
y = 0
x = 0

[State 2132, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 12, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 1,1

[State 52, Helper]
type = Helper
trigger1 = time = 0
stateno = 8200

[State 2132, 1]
type = varset
trigger1 = Time = 0
var(15) = 0

[State 2132, scb]
type = ScreenBound
trigger1 = var(17) = 1
value = 0

[State 2132, 4]
type = ChangeState
trigger1 = var(17) = 1
trigger1 = backedgebodydist <= -20
trigger1 = time = 2
value = 6050
ctrl = 0

[State 2132, 1]
type = varset
trigger1 = backedgebodydist > -20
var(17) = 0

[State 2132, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------

;-----------------------------------------------
;Drill Claw UpFwd
;---------------------------
;Start Up
[Statedef 2140]
type = S
movetype = A
physics = N
anim = 2100
velset = 0,0
poweradd = 60
ctrl = 0

[State 2140, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2040, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2140, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2145
ctrl = 0

;-------------------------------
;Drill
[Statedef 2145]
type = A
movetype = A
physics = N
anim = 2140
juggle = 6
velset = 0,0
ctrl = 0

[State 2145, Fx]
type = PlaySnd
trigger1 = Time = 0
value = 240,2
volume = 190
volumescale = 190

[State 2145, velset]
type = velset
trigger1 = animelem = 1
x = 4
y = -5

[State 2145, hit2]
type = HitDef
trigger1 = time = 0 && prevstateno != [2200,2270]
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 1
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1
air.velocity = -17,8
air.fall = 1
fall.envshake.time = 10
p2stateno = 715

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 0
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 706, 5]
type = Helper
trigger1 = numhelper(708) = 0 && (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
name = "Scroll Screen"
id = 708
stateno = 708
postype = p1
pos = 50, 30
bindtime = -1

[State 425, 3]
type = varset
trigger1 = (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
v = 56
value = 1
persistent = 0
yaccel = .6

[State 2145, vels]
type = velset
trigger1 = animTime = 0
x = 3

[State 2145, 8]
type = ChangeState
trigger1 = movecontact
value = ifelse(moveguarded,2322,2320)
ctrl = 0

[State 2145, Wall]
type = ChangeState
trigger1 = vel x > 0
trigger1 = FrontEdgeBodyDist <= 10
value = 2350
ctrl = 0

[State 2145, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150
ctrl = 0
;----------------------------------------------

;---------------------------------
;Air End
[Statedef 2150]
type = A
movetype = A
physics = N
anim = 2150
;velset = 0,0
ctrl = 0

[State 2150, x]
type = veladd
trigger1 = Time = 0
x = 0

[State 2150, grav 1]
type = Veladd
trigger1 = var(8) = [-1,1]
y = .67

[State 2150, grav 2]
type = Veladd
trigger1 = var(8) != [-1,1]
y = .655

[State 2150, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0

;-----------------------------------------------
;Drill Claw Backward
;---------------------------
;Start Up
[Statedef 2160]
type = S
movetype = A
physics = N
anim = 2100
velset = 0,0
poweradd = 60
ctrl = 0

[State 2160, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2040, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2160, 5]
type = turn
trigger1 = AnimTime = 0

[State 2160, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2105
ctrl = 0

;-------------------------------

;-----------------------------------------------
;Drill Claw UpBack
;---------------------------
;Start Up
[Statedef 2180]
type = S
movetype = A
physics = N
anim = 2100
velset = 0,0
poweradd = 60
ctrl = 0

[State 2180, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2040, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1


[State 2180, 5]
type = turn
trigger1 = AnimTime = 0

[State 2180, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2145
ctrl = 0

;-------------------------------


;========================================================================================
;AIR DRILL CLAWS
;-----------------------------------------------
;Air Drill Claw Forward
;---------------------------
;Start Up
[Statedef 2200]
type = A
movetype = A
physics = N
anim = 2200
velset = 0,0
poweradd = 60
ctrl = 0

[State 2200, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2200, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 2200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2205
ctrl = 0

;-------------------------------
;Drill Fwd
[Statedef 2205]
type = A
movetype = A
physics = N
anim = 2105
juggle = 6
velset = 0,0
ctrl = 0

[State 2205, Fx]
type = PlaySnd
trigger1 = Time = 0
value = 240,2
volume = 190
volumescale = 190


[State 2205, velset]
type = velset
trigger1 = animelem = 1
x = 8

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && prevstateno != [2200,2270]
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 1
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1
air.velocity = -17,8
air.fall = 1
fall.envshake.time = 10
p2stateno = 715

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 0
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 706, 5]
type = Helper
trigger1 = numhelper(708) = 0 && (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
name = "Scroll Screen"
id = 708
stateno = 708
postype = p1
pos = 50, 30
bindtime = -1

[State 425, 3]
type = varset
trigger1 = (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
v = 56
value = 1
persistent = 0
yaccel = .6

[State 2205, vels]
type = velset
trigger1 = animTime = 0
x = 3

[State 2205, 8]
type = ChangeState
trigger1 = movecontact
value = ifelse(moveguarded,2302,2300)
ctrl = 0

[State 2205, Wall]
type = ChangeState
trigger1 = vel x > 0
trigger1 = FrontEdgeBodyDist <= 10
value = 2350
ctrl = 0

[State 2205, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 2207
ctrl = 0
;----------------------------------------------

;---------------------------------
;Air End
[Statedef 2207]
type = A
movetype = A
physics = N
anim = 2207
;velset = 0,0
ctrl = 0

[State 2207, Y]
type = veladd
trigger1 = Time = 0
x = 0

[State 2207, grav 1]
type = Veladd
trigger1 = var(8) = [-1,1]
y = .37

[State 2207, grav 2]
type = Veladd
trigger1 = var(8) != [-1,1]
y = .255

[State 2207, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0

;-----------------------------------------------
;Air Drill Claw Back
;---------------------------
;Start Up
[Statedef 2210]
type = A
movetype = A
physics = N
anim = 2200
velset = 0,0
poweradd = 60
ctrl = 0

[State 2210, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2210, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 2210, 5]
type = turn
trigger1 = AnimTime = 0

[State 2210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2205
ctrl = 0
;-------------------------------

;-----------------------------------------------
;Air Drill Claw UP
;---------------------------
;Start Up
[Statedef 2220]
type = A
movetype = A
physics = N
anim = 2200
velset = 0,0
poweradd = 60
ctrl = 0

[State 2220, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2220, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 2220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2125
ctrl = 0
;-------------------------------

;-----------------------------------------------
;Air Drill Claw FWD-UP
;---------------------------
;Start Up
[Statedef 2230]
type = A
movetype = A
physics = N
anim = 2200
velset = 0,0
poweradd = 60
ctrl = 0

[State 2230, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2230, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 2230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2145
ctrl = 0
;-------------------------------

;-----------------------------------------------
;Air Drill Claw BACK-UP
;---------------------------
;Start Up
[Statedef 2240]
type = A
movetype = A
physics = N
anim = 2200
velset = 0,0
poweradd = 60
ctrl = 0

[State 2240, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2240, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 2240, 5]
type = turn
trigger1 = AnimTime = 0

[State 2240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2145
ctrl = 0
;-------------------------------


;-----------------------------------------------
;Air Drill Claw Down
;---------------------------
;Start Up
[Statedef 2250]
type = A
movetype = A
physics = N
anim = 2200
velset = 0,0
poweradd = 60
ctrl = 0

[State 2250, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2250, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 2250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2255
ctrl = 0
;-------------------------------

;-------------------------------
;Drill Down
[Statedef 2255]
type = A
movetype = A
physics = N
anim = 2250
juggle = 6
velset = 0,0
ctrl = 0

[State 2255, Fx]
type = PlaySnd
trigger1 = Time = 0
value = 240,2
volume = 190
volumescale = 190

[State 2255, velset]
type = velset
trigger1 = animelem = 1
y = 4
x = 0

[State 2255, hit2]
type = HitDef
trigger1 = time = 0 && prevstateno != [2200,2270]
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 1
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1
air.velocity = -17,8
air.fall = 1
fall.envshake.time = 10
p2stateno = 715

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 0
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 706, 5]
type = Helper
trigger1 = numhelper(708) = 0 && (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
name = "Scroll Screen"
id = 708
stateno = 708
postype = p1
pos = 50, 30
bindtime = -1

[State 425, 3]
type = varset
trigger1 = (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
v = 56
value = 1
persistent = 0
yaccel = .6

[State 2255, 8]
type = ChangeState
trigger1 = movecontact
value = ifelse(moveguarded,2332,2330)
ctrl = 0

[State 2255, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0

[State 2255, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 2257
ctrl = 0
;----------------------------------------------

;---------------------------------
;Air End
[Statedef 2257]
type = A
movetype = A
physics = N
anim = 2257
;velset = 0,0
ctrl = 0

[State 2257, Y]
type = veladd
trigger1 = Time = 0
x = 0

[State 2257, grav 1]
type = Veladd
trigger1 = var(8) = [-1,1]
y = .67

[State 2257, grav 2]
type = Veladd
trigger1 = var(8) != [-1,1]
y = .655

[State 2257, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0

;-----------------------------------------------
;Air Drill Claw Down Fwd
;---------------------------
;Start Up
[Statedef 2260]
type = A
movetype = A
physics = N
anim = 2200
velset = 0,0
poweradd = 60
ctrl = 0

[State 2260, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2260, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 2260, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2265
ctrl = 0
;-------------------------------

;-------------------------------
;Drill DwnFwd
[Statedef 2265]
type = A
movetype = A
physics = A
anim = 2260
juggle = 6
velset = 0,0
ctrl = 0

[State 2265, Fx]
type = PlaySnd
trigger1 = Time = 0
value = 240,2
volume = 50

[State 2265, velset]
type = velset
trigger1 = animelem = 1
y = 3
x = 3

[State 2265, velset]
type = velset
trigger1 = animtime = 0
x = 3

[State 2265, hit2]
type = HitDef
trigger1 = time = 0 && prevstateno != [2200,2270]
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 1
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1
air.velocity = -17,8
air.fall = 1
fall.envshake.time = 10
p2stateno = 715

[State 2205, hit2]
type = HitDef
trigger1 = time = 0 && (prevstateno = [2200,2270]) && var(55) = 0
attr = S, SA
animtype = medium
damage = 132,5
guardflag = MA
hitflag = MAFD
pausetime = 9,10
sparkno = S8002
guard.sparkno = 40
sparkxy = -0,-62
hitsound = S5,8
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 9
ground.velocity = -3,-14
air.velocity = -3,-14
airguard.velocity = -4,-7
guard.velocity = -15
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 40,40
givepower = 20,20
guard.pausetime = 11,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 0
yaccel = 1.3
id = 1+4

[State 706, 5]
type = Helper
trigger1 = numhelper(708) = 0 && (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
name = "Scroll Screen"
id = 708
stateno = 708
postype = p1
pos = 50, 30
bindtime = -1

[State 425, 3]
type = varset
trigger1 = (prevstateno = [2200,2270]) && var(55) = 1 && MoveHit
v = 56
value = 1
persistent = 0
yaccel = .6

[State 2265, 8]
type = ChangeState
trigger1 = movecontact
value = ifelse(moveguarded,2342,2340)
ctrl = 0

[State 2265, Wall]
type = ChangeState
trigger1 = vel x > 0
trigger1 = FrontEdgeBodyDist <= 10
value = 2350
ctrl = 0

[State 2265, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0

[State 2265, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 2267
ctrl = 0
;----------------------------------------------

;---------------------------------
;Air End
[Statedef 2267]
type = A
movetype = A
physics = N
anim = 2267
;velset = 0,0
ctrl = 0

[State 2267, Y]
type = veladd
trigger1 = Time = 0
x = 0

[State 2167, grav 1]
type = Veladd
trigger1 = var(8) = [-1,1]
y = .67

[State 2167, grav 2]
type = Veladd
trigger1 = var(8) != [-1,1]
y = .655

[State 2167, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0

;-----------------------------------------------
;Air Drill Claw Down BAck
;---------------------------
;Start Up
[Statedef 2270]
type = A
movetype = A
physics = N
anim = 2200
velset = 0,0
poweradd = 60
ctrl = 0

[State 2270, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 2270, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,8
volume = 255
volumescale = 255
channel = 0

[State 2270, 5]
type = turn
trigger1 = AnimTime = 0

[State 2270, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2265
ctrl = 0
;-------------------------------




;=======================================
;CONTACT FINISH
;-----------------------------------
;FWD/BACK HIT
[Statedef 2300]
type = A
movetype = A
physics = A
anim = 2300
velset = -3.3,-10
ctrl = 0

[State 2300, Y]
type = ctrlset
trigger1 = animelem = 10
value = 1

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710

;FWD/BACK GUARD
[Statedef 2302]
type = A
movetype = A
physics = A
anim = 2300
velset = -3.3,-10
ctrl = 0

[State 2302, Y]
type = veladd
trigger1 = Time = 0
x = 0

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710
;--------------------------------
;-----------------------------------
;UP HIT
[Statedef 2310]
type = A
movetype = A
physics = A
anim = 2310
velset = -3.3,-10
ctrl = 0

[State 2310, Y]
type = ctrlset
trigger1 = animelem = 10
value = 1

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710

;UP GUARD
[Statedef 2312]
type = A
movetype = A
physics = A
anim = 2310
velset = -3.3,-10
ctrl = 0

[State 2312, Y]
type = veladd
trigger1 = Time = 0
x = 0

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710
;--------------------------------
;-----------------------------------
;UPFWD/BACK HIT
[Statedef 2320]
type = A
movetype = A
physics = A
anim = 2320
velset = -3.3,-10
ctrl = 0

[State 2320, Y]
type = ctrlset
trigger1 = animelem = 10
value = 1

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710

;UP GUARD
[Statedef 2322]
type = A
movetype = A
physics = A
anim = 2320
velset = -3.3,-10
ctrl = 0

[State 2322, Y]
type = veladd
trigger1 = Time = 0
x = 0

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710
;--------------------------------

;-----------------------------------
;DOWN HIT
[Statedef 2330]
type = A
movetype = A
physics = A
anim = 2330
velset = -3.3,-10
ctrl = 0

[State 2330, Y]
type = ctrlset
trigger1 = animelem = 10
value = 1

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710

;DOWN GUARD
[Statedef 2332]
type = A
movetype = A
physics = A
anim = 2330
velset = -3.3,-10
ctrl = 0

[State 2332, Y]
type = veladd
trigger1 = Time = 0
x = 0

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710
;--------------------------------

;-----------------------------------
;DOWNFWDBACK HIT
[Statedef 2340]
type = A
movetype = A
physics = A
anim = 2340
velset = -3.3,-10
ctrl = 0

[State 2340, Y]
type = ctrlset
trigger1 = animelem = 10
value = 1

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710

;DOWNFWDBACK GUARD
[Statedef 2342]
type = A
movetype = A
physics = A
anim = 2340
velset = -3.3,-10
ctrl = 0

[State 2342, Y]
type = veladd
trigger1 = Time = 0
x = 0

[state 50,8]
type = ChangeState
trigger1 = (screenpos x != [-1000,320]) && var(55) = 1 && facing = -1
trigger2 = (screenpos x != [0,1320]) && var(55) = 1 && facing = 1
value = 710
;--------------------------------

;========================================
;Wall Cling
[Statedef 2350]
type = A
movetype = A
physics = N
anim = 2350
velset = 0,0
sprpriority = 2
ctrl = 0

[State 2350, Screen]
type = turn
trigger1 = time = 0
trigger1 = frontedgebodydist <= 15

[State 2350, fx]
type = playsnd
trigger1 = time = 0
value = 1,11
volume = 100

[State 2350, Screen]
type = ScreenBound
trigger1 = 1
movecamera = 0,1

[State 2350, 1]
type = Width
trigger1 = 1
edge = 20,20

[State 2350, 0]
type = PosSet
trigger1 = Facing = 1
trigger1 = time > 0
trigger1 = backedgebodydist <= 20
x = -98

[State 2350, 0]
type = PosSet
trigger1 = time > 0
trigger1 = Facing = -1
trigger1 = backedgebodydist <= 20
x = 97

[State 2350, set]
type = VelSet
trigger1 = animTime = 0
x = 2.5
y = -8.6

[State 2350, set]
type = varset
trigger1 = Time = 0
var(16) = 0

[State 2350, Posadd]
type = posadd
trigger1 = animTime = 0
x = -35

[State 2350, Drill Claw fwd]
type = Varset
;triggerall = var(9) != 1
trigger1 = (command = "x" || command = "y" || command = "z")&& command = "holdfwd"
trigger1 = animelem = 2, > 0
var(16) = 1

[State 2350, Drill Claw Down]
type = Varset
;triggerall = var(9) != 1
trigger1 = (command = "x" || command = "y" || command = "z") && command = "holddown"
trigger1 = animelem = 2, > 0
var(16) = 2

[State 2350, Drill Claw Up]
type = Varset
;triggerall = var(9) != 1
trigger1 = (command = "x" || command = "y" || command = "z") && command = "holdup"
trigger1 = animelem = 2, > 0
var(16) = 3

[State 2350, Drill Claw Downfwd]
type = Varset
;triggerall = var(9) != 1
trigger1 = (command = "x" || command = "y" || command = "z") && command = "holddown" && command = "holdfwd"
trigger1 = animelem = 2, > 0
var(16) = 4

[State 2350, Drill Claw UpFwd]
type = Varset
;triggerall = var(9) != 1
trigger1 = (command = "x" || command = "y" || command = "z") && command = "holdup" && command = "holdfwd"
trigger1 = animelem = 2, > 0
var(16) = 5

[State 2350, Drill Claw UpFwd]
type = Varrandom
triggerall = var(9) = 1
trigger1 = animelem = 2, > 0
v = 16
range = 5

[State 2350, E1]
type = ChangeState
trigger1 = var(16) = 1
trigger1 = animtime = 0
value = 2205
ctrl = 0

[State 2350, E2]
type = ChangeState
trigger1 = var(16) = 2
trigger1 = animtime = 0
value = 2255
ctrl = 0

[State 2350, E3]
type = ChangeState
trigger1 = var(16) = 3
trigger1 = animtime = 0
value = 2125
ctrl = 0

[State 2350, E4]
type = ChangeState
trigger1 = var(16) = 4
trigger1 = animtime = 0
value = 2265
ctrl = 0

[State 2350, E5]
type = ChangeState
trigger1 = var(16) = 5
trigger1 = animtime = 0
value = 2145
ctrl = 0

[State 2350, 6]
type = ChangeState
trigger1 = var(16) = 0
trigger1 = animtime = 0
value = 2352
ctrl = 0
;---------------------------------------------------------------------------

;========================================
;Fall
[Statedef 2352]
type = A
movetype = A
physics = A
anim = 2352
velset = 0,0
sprpriority = 2
ctrl = 1

[State 2350, set]
type = posadd
trigger1 = Time = 0
x = 0
;---------------------------------------------------------------------------



;========================================================================================
;-----------------------------------------------
;Tornado Claw Type I
;-------------------------
[Statedef 2500]
type = S
movetype = A
physics = N
anim = 2500
velset = 0,0
juggle = 6
poweradd = 60
ctrl = 0

[State 2020, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,9
volume = 255
volumescale = 255
channel = 0

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2500, slide]
type = velset
trigger1 = animelem = 1
x = 1

[State 2500, hit1]
type = HitDef
trigger1 = p2stateno != [5070,5071]
trigger1 = AnimElem = 2
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -2
guard.cornerpush.veloff = -2
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2500, hit2]
type = HitDef
trigger1 = p2stateno != [5070,5071]
trigger1 = AnimElem = 3
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -2
guard.cornerpush.veloff = -2
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2505, fx]
type = PlaySnd
trigger1 = animelem = 3
value = 240,2
volume = 190
volumescale = 190

[State 2500, 5]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2500, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2505, 7]
type = ChangeState
trigger1 = animelem = 2, = 0
trigger1 = var(13) >= 4
value = 2520
ctrl = 0

[State 2500, Ai]
type = varadd
trigger1 = var(9) = 1
ignorehitpause = 1
var(13) = 1

[State 2500, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2505
ctrl = 0

;SHORYUKEN~!
[Statedef 2505]
type = A
movetype = A
physics = N
anim = 2505
juggle = 2
velset = 0,0
ctrl = 0

[State 2505, Vels]
type = velset
trigger1 = animelem = 1, = 1
persistent = 0
x = 4
y = -9.75

[State 2505, Grav]
type = veladd
trigger1 = animelem = 1, > 1
y = .77

[State 2505, stop]
type = velmul
trigger1 = animelem = 2, < 11
x = .9

[State 2505, stop]
type = velset
trigger1 = animelem = 2, = 11
x = 0

[State 2505, hit1]
type = HitDef
trigger1 = p2stateno != [5070,5071]
trigger1 = AnimElem = 2
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -2
guard.cornerpush.veloff = -2
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2505, fx]
type = PlaySnd
trigger1 = animelem = 1
value = 240,2
volume = 190
volumescale = 190

[State 2505, Mash]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2505, Ai]
type = varadd
trigger1 = var(9) = 1
ignorehitpause = 1
var(13) = 1

[State 2505, 7]
type = ChangeState
trigger1 = animelem = 2, = 0
trigger1 = var(13) >= 3
value = 2520
ctrl = 0

[State 2505, 8]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 52
ctrl = 0

;Land
[Statedef 2510]
type = S
movetype = A
physics = N
anim = 2510
velset = 0,0
ctrl = 0

[State 2510, Grav]
type = posset
trigger1 = time = 0
y = 0

;Play sound when landing
[State 2510, 3]
type = PlaySnd
trigger1 = Time = 0
value = 1,5
volume = 60

[State 2510, Landing Wave]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
ID = 701
anim = 701
postype = p1
pos = 0, 5
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = -2

[State 2510, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------
;Follow-Up
[Statedef 2520]
type = A
movetype = A
physics = N
anim = 2520
juggle = 2
ctrl = 0

[State 2520, Grav]
type = veladd
trigger1 = animelem = 1, <= 11
y = .67

[State 2520, Grav]
type = veladd
trigger1 = animelem = 1, > 11
y = .64

[State 2520, stop]
type = velmul
trigger1 = animelem = 1, < 11
x = .9

[State 2520, Grav]
type = veladd
trigger1 = time = 0
y = -6.8

[State 2520, stop]
type = velset
trigger1 = animelem = 1, = 11
x = 0

[State 2520, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = AnimElem = 3
trigger3 = Animelem = 6
trigger4 = AnimElem = 7
value = 240,2
volume = 190
volumescale = 190
channel = 2

[State 2520, hit1]
type = HitDef
trigger1 = p2stateno != [5070,5071]
trigger1 = Animelem = 2
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -2
guard.cornerpush.veloff = -2
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2520, hit2]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 4
trigger2 = Animelem = 7
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -2
guard.cornerpush.veloff = -2
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2520, hit3]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 8
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -2
guard.cornerpush.veloff = -2
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2520, 8]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 52
ctrl = 0

;----------------------------------------------------
;Tornado Claw Type II
;----------------------------------------------------
[Statedef 2550]
type = S
movetype = A
physics = N
anim = 2500
velset = 0,0
poweradd = 60
juggle = 6
ctrl = 0

[State 2020, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,9
volume = 255
volumescale = 255

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2550, slide]
type = velset
trigger1 = animelem = 1
x = 3

[State 2550, hit1]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 2
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
guard.cornerpush.veloff = -4
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2550, hit2]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 3
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
guard.cornerpush.veloff = -4
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2505, fx]
type = PlaySnd
trigger1 = animelem = 3
value = 240,2
volume = 190
volumescale = 190

[State 2550, 5]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2505, 7]
type = ChangeState
trigger1 = animelem = 2, = 0
trigger1 = var(13) >= 4
value = 2570
ctrl = 0

[State 2550, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2550, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2550, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2555
ctrl = 0

;SHORYUKEN~!
[Statedef 2555]
type = A
movetype = A
physics = N
anim = 2555
juggle = 2
velset = 0,0
ctrl = 0

[State 2555, Vels]
type = velset
trigger1 = animelem = 1, = 1
persistent = 0
x = 7
y = -13.8

[State 2555, Grav]
type = veladd
trigger1 = time > 0
trigger1 = animelem = 2, <= 11
y = .97

[State 2555, Grav]
type = veladd
trigger1 = animelem = 2, > 11
y = .9

[State 2555, stop]
type = velmul
trigger1 = animelem = 2, < 11
x = .9

[State 2555, stop]
type = velset
trigger1 = animelem = 2, = 11
x = 0

[State 2555, hit1]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 2
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
guard.cornerpush.veloff = -4
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2555, fx]
type = PlaySnd
trigger1 = animelem = 1
value = 240,2
volume = 190
volumescale = 190

[State 2555, Mash]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2555, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2555, 7]
type = ChangeState
trigger1 = animelem = 2, = 0
trigger1 = var(13) >= 3
value = 2570
ctrl = 0

[State 2555, 8]
type = ChangeState
trigger1 = pos y >= -5 && vel y > 0
value = 52
ctrl = 0

;Land
[Statedef 2560]
type = S
movetype = A
physics = N
anim = 2560
velset = 0,0
ctrl = 0

[State 2560, Grav]
type = posset
trigger1 = time = 0
y = 0

;Play sound when landing
[State 2560, 3]
type = PlaySnd
trigger1 = Time = 0
value = 1,5
volume = 60

[State 2560, Landing Wave]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
ID = 701
anim = 701
postype = p1
pos = 0, 5
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = -2

[State 2560, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------
;Follow-Up
[Statedef 2570]
type = A
movetype = A
physics = N
anim = 2570
juggle = 2
ctrl = 0

[State 2570, Grav]
type = veladd
trigger1 = animelem = 1, <= 11
y = .67

[State 2570, Grav]
type = veladd
trigger1 = animelem = 1, > 11
y = .64

[State 2570, stop]
type = velmul
trigger1 = animelem = 1, < 11
x = .9

[State 2570, Grav]
type = veladd
trigger1 = time = 0
y = -2.8

[State 2570, stop]
type = velset
trigger1 = animelem = 1, = 11
x = 0

[State 2570, hit1]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = Animelem = 2
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
guard.cornerpush.veloff = -4
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2570, hit2]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 4
trigger2 = Animelem = 7
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
guard.cornerpush.veloff = -4
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2570, hit3]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 8
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
guard.cornerpush.veloff = -4
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2570, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = AnimElem = 3
trigger3 = Animelem = 6
trigger4 = AnimElem = 7
value = 240,2
volume = 190
volumescale = 190
channel = 0

[State 2570, set]
type = varset
trigger1 = time = 0
ignorehitpause = 1
var(13) = 0

[State 2570, Mash]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2570, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2570, 8]
type = ChangeState
trigger1 = animelem = 9, = 0
trigger1 = var(13) >= 2
value = 2580
ctrl = 0

[State 2570, 8]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 52
ctrl = 0
;--------------------------------------

;--------------------------------------
;Follow-Up II
[Statedef 2580]
type = A
movetype = A
physics = N
anim = 2580
juggle = 2
ctrl = 0

[State 2580, Grav]
type = veladd
trigger1 = animelem = 1, <= 11
y = .67

[State 2580, Grav]
type = veladd
trigger1 = animelem = 1, > 11
y = .66

[State 2580, Grav]
type = veladd
trigger1 = time = 0
y = -2.3

[State 2580, stop]
type = velmul
trigger1 = animelem = 1, < 11
x = .9

[State 2580, stop]
type = velset
trigger1 = animelem = 1, = 11
x = 0

[State 2580, hit1]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 3
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
guard.cornerpush.veloff = -4
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2580, hit2]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 5
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -4
air.cornerpush.veloff = -4
guard.cornerpush.veloff = -4
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2580, fx]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = AnimElem = 4
value = 240,2
volume = 190
volumescale = 190
channel = 0

[State 2580, 8]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 52
ctrl = 0
;--------------------------------------


;-----------------------------------------------
;Tornado Claw Type III
;-------------------------
[Statedef 2600]
type = S
movetype = A
physics = N
anim = 2500
velset = 0,0
juggle = 6
poweradd = 60
ctrl = 0

[State 2020, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,9
volume = 255
volumescale = 255

[State 1000, Explod]
type = Explod
trigger1 = time = 0
anim = 8300
id = 8300
supermove = 1
sprpriority = 4
ownpal = 1

[State 2600, slide]
type = velset
trigger1 = animelem = 1
x = 6

[State 2600, hit1]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 2
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -9
air.cornerpush.veloff = -9
guard.cornerpush.veloff = -9
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2600, hit2]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 3
attr = S, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -11
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2505, fx]
type = PlaySnd
trigger1 = animelem = 3
value = 240,2
volume = 190
volumescale = 190

[State 2600, 5]
type = varset
trigger1 = Time = 0
var(13) = 0

[State 2600, 6]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2505, 7]
type = ChangeState
trigger1 = animelem = 2, = 0
trigger1 = var(13) >= 4
value = 2620
ctrl = 0

[State 2600, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2600, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 2605
ctrl = 0

;SHORYUKEN~!
[Statedef 2605]
type = A
movetype = A
physics = N
anim = 2605
juggle = 2
velset = 0,0
ctrl = 0

[State 2605, Vels]
type = velset
trigger1 = animelem = 1, = 1
persistent = 0
x = 12
y = -15.72

[State 2605, Grav]
type = veladd
trigger1 = animelem = 1, > 1
trigger1 = animelem = 2, < 12
y = .97

[State 2605, Grav]
type = veladd
trigger1 = animelem = 2, >= 12
y = .9

[State 2605, stop]
type = velmul
trigger1 = animelem = 2, < 12
x = .9

[State 2605, stop]
type = velset
trigger1 = animelem = 2, = 12
x = 0

[State 2605, hit1]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 2
attr = A, SA
animtype = Hard
damage = 59,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-12
air.velocity = -.9,-12
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -11
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2555, fx]
type = PlaySnd
trigger1 = animelem = 1
value = 240,2
volume = 190
volumescale = 190

[State 2605, Mash]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2605, 7]
type = ChangeState
trigger1 = animelem = 2, = 0
trigger1 = var(13) >= 3
value = 2620
ctrl = 0

[State 2605, 8]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 52
ctrl = 0

;Land
[Statedef 2610]
type = S
movetype = A
physics = N
anim = 2610
velset = 0,0
ctrl = 0

[State 2610, Grav]
type = posset
trigger1 = time = 0
y = 0

;Play sound when landing
[State 2610, 3]
type = PlaySnd
trigger1 = Time = 0
value = 1,5
volume = 60

[State 2610, Landing Wave]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
ID = 701
anim = 701
postype = p1
pos = 0, 5
bindtime = 1
removetime = -2
ownpal = 1
sprpriority = -2

[State 2610, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------
;Follow-Up
[Statedef 2620]
type = A
movetype = A
physics = N
anim = 2620
juggle = 2
ctrl = 0

[State 2620, Grav]
type = veladd
trigger1 = animelem = 1, <= 11
y = .67

[State 2620, Grav]
type = veladd
trigger1 = animelem = 1, > 11
y = .64

[State 2620, stop]
type = velmul
trigger1 = animelem = 1, < 11
x = .9

[State 2620, Grav]
type = veladd
trigger1 = time = 0
y = -2.5

[State 2620, stop]
type = velset
trigger1 = animelem = 1, = 11
x = 0

[State 2620, hit1]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = Animelem = 2
attr = A, SA
animtype = Hard
damage = 39,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-10
air.velocity = -.9,-10
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -11
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2620, hit2]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 4
trigger2 = Animelem = 7
attr = A, SA
animtype = Hard
damage = 39,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-10
air.velocity = -.9,-10
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -11
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2620, hit3]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 8
attr = A, SA
animtype = Hard
damage = 39,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-10
air.velocity = -.9,-10
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -11
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2620, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = AnimElem = 3
trigger3 = Animelem = 6
trigger4 = AnimElem = 7
value = 240,2
volume = 190
volumescale = 190
channel = 0

[State 2620, set]
type = varset
trigger1 = time = 0
ignorehitpause = 1
var(13) = 0

[State 2620, Mash]
type = varadd
trigger1 = command = "x" || command = "y" || command = "z"
ignorehitpause = 1
var(13) = 1

[State 2620, Ai]
type = varadd
trigger1 = var(9) = 1
trigger1 = movehit
ignorehitpause = 1
var(13) = 1

[State 2620, 8]
type = ChangeState
trigger1 = animelem = 9, = 0
trigger1 = var(13) >= 2
value = 2630
ctrl = 0

[State 2620, 8]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 52
ctrl = 0
;--------------------------------------

;--------------------------------------
;Follow-Up II
[Statedef 2630]
type = A
movetype = A
physics = N
anim = 2630
juggle = 2
ctrl = 0

[State 2630, Grav]
type = veladd
trigger1 = animelem = 1, <= 11
y = .60

[State 2630, Grav]
type = veladd
trigger1 = animelem = 1, > 11
y = .68

[State 2630, stop]
type = velmul
trigger1 = animelem = 1, < 11
x = .9

[State 2630, Grav]
type = veladd
trigger1 = time = 0
y = -2.5

[State 2630, stop]
type = velset
trigger1 = animelem = 1, = 11
x = 0

[State 2630, hit1]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = Animelem = 2
attr = A, SA
animtype = Hard
damage = 39,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-10
air.velocity = -.9,-10
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -11
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2630, hit2]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 4
trigger2 = Animelem = 7
attr = A, SA
animtype = Hard
damage = 39,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-10
air.velocity = -.9,-10
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -11
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2630, hit3]
type = HitDef
triggerall = p2stateno != [5070,5071]
trigger1 = AnimElem = 8
attr = A, SA
animtype = Hard
damage = 39,5
guardflag = MA
hitflag = MAF
pausetime = 6,4
sparkno = S8002
guard.sparkno = S8050
sparkxy = -8,-58
hitsound = S5,7
guardsound = 6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 14
ground.velocity = -.9,-10
air.velocity = -.9,-10
airguard.velocity = -.5,-1.5
guard.velocity = -.5
ground.cornerpush.veloff = -11
air.cornerpush.veloff = -11
guard.cornerpush.veloff = -11
getpower = 20,20
givepower = 10,10
guard.pausetime = 8,6
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
yaccel = 1.19

[State 2630, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = AnimElem = 3
trigger3 = Animelem = 6
trigger4 = AnimElem = 7
value = 240,2
volume = 190
volumescale = 190
channel = 0

[State 2630, set]
type = varset
trigger1 = time = 0
ignorehitpause = 1
var(13) = 0

[State 2630, 8]
type = ChangeState
trigger1 = pos y >= 0 && vel y > 0
value = 52
ctrl = 0
;--------------------------------------


;====================================
; Wolverine X's Super Moves States
;====================================

;-------------------------
;Berserker Barrage X
;-------------------------
[Statedef 6000]
type = S
movetype = A
physics = N
anim = 6000
velset = 0,0
ctrl = 0

[State 1300]
type = Explod
trigger1 = animelem = 1
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 1
var(38) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 1
stateno = 8500
supermovetime = 99999999
pos = ceil(18*const(size.xscale)),ceil(-15*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 3,1
volume = 255
volumescale = 255
channel = 1

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 4,< 0
value = SCA

[State 6000, ATvar]
type = varset
trigger1 = time = 0
var(18) = enemy, gethitvar(hitcount)
persistent = 0

[State 6000, ATvar]
type = varset
trigger1 = time = 0
trigger1 = p2movetype != H
var(18) = 0
persistent = 0

[State 6000, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 6010
ctrl = 0

;Attack
[Statedef 6010]
type = S
movetype = A
physics = N
anim = 6010
juggle = 12
velset = 0,0
ctrl = 0

[State 6010, atmul]
type = attackmulset
trigger1 = var(18) <= 0 
ignorehitpause
value = 1

[State 6010, atmul]
type = attackmulset
trigger1 = var(18) = [1,3]
ignorehitpause
value = .9

[State 6010, atmul]
type = attackmulset
trigger1 = var(18) = [4,6]
ignorehitpause
value = .8

[State 6010, atmul]
type = attackmulset
trigger1 = var(18) > 6
ignorehitpause
value = .7

[State 6010, slide]
type = velset
trigger1 = animelem = 1
x = 5

[State 6010, stop]
type = velset
trigger1 = animelem = 52
x = 0

[State 6010, FX]
type = Explod
trigger1 = animelem = 1
scale = const(size.xscale)
id = 6030
anim = 6030
pos = 0,0
sprpriority = 2
removetime = 52
bindtime = -1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6010, SLASH1A]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 7
trigger3 = animelem = 13
trigger4 = animelem = 19
trigger5 = animelem = 25
trigger6 = animelem = 31
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 49
scale = const(size.xscale)
id = 2036
anim = 2036
pos = 0,0
sprpriority = 2
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6010, SLASH1B]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 7
trigger3 = animelem = 13
trigger4 = animelem = 19
trigger5 = animelem = 25
trigger6 = animelem = 31
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 49
scale = const(size.xscale)
id = 2037
anim = 2037
pos = 0,0
sprpriority = -2
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6010, SLASH2A]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 16
trigger4 = animelem = 22
trigger5 = animelem = 28
trigger6 = animelem = 34
trigger7 = animelem = 40
trigger8 = animelem = 46
trigger9 = animelem = 52
scale = const(size.xscale)
id = 2038
anim = 2038
pos = 0,0
sprpriority = 2
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6010, SLASH2B]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 16
trigger4 = animelem = 22
trigger5 = animelem = 28
trigger6 = animelem = 34
trigger7 = animelem = 40
trigger8 = animelem = 46
trigger9 = animelem = 52
scale = const(size.xscale)
id = 2039
anim = 2039
pos = 0,0
sprpriority = -2
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6010, hit1]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 14
trigger4 = animelem = 20
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 38
trigger8 = animelem = 44
trigger9 = animelem = 50
attr = S, SA
animtype = Hard
damage = 15,5
guardflag = MA
hitflag = MAFD
pausetime = 0,9
guard.pausetime = 0,5
sparkno = S8072
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -4
air.velocity = -4,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
kill = 0
yaccel = .8

[State 6010, hit2]
type = HitDef
trigger1 = animelem = 5
trigger2 = animelem = 11
trigger3 = animelem = 17
trigger4 = animelem = 23
trigger5 = animelem = 29
trigger6 = animelem = 35
trigger7 = animelem = 41
trigger8 = animelem = 47
attr = S, SA
animtype = Hard
damage = 14,5
guardflag = MA
hitflag = MAFD
pausetime = 0,9
guard.pausetime = 0,5
sparkno = S8075
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 5
ground.velocity = -4
air.velocity = -4,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 20,20
givepower = 10,10
guard.pausetime = 1,12
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
kill = 0
yaccel = .8

[State 6010, Finish]
type = HitDef
trigger1 = AnimElem = 53
attr = S, HA
animtype = HArd
damage = 75,5
guardflag = MA
hitflag = MAFD
pausetime = 5,12
guard.pausetime = 6,10
sparkno = S8073
guard.sparkno = S8050
sparkxy = -8,-62
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 18
air.hittime = 24
ground.velocity = -23,-23.5
air.velocity = -23,-23
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -6
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -6
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
p2getp1stateno = 1
fall = 1
fall.recover = 0
p2stateno = 1100
yaccel = 1

[State 6010, voice]
type = PlaySnd
trigger1 = animelem = 52
value = 7,4
channel = 0
volume = 255
volumescale = 255

[State 6010, fx]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 7
trigger3 = animelem = 13
trigger4 = animelem = 19
trigger5 = animelem = 25
trigger6 = animelem = 31
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 49
trigger10 = animelem = 4
trigger11 = animelem = 10
trigger12 = animelem = 16
trigger13 = animelem = 22
trigger14 = animelem = 28
trigger15 = animelem = 34
trigger16 = animelem = 40
trigger17 = animelem = 46
trigger18 = animelem = 52
value = 240,2
channel = 1
volume = 255
volumescale = 255

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 54
var(38) = 0

[State 6010, scb]
type = ScreenBound
trigger1 = movehit
Trigger1 = animelem = 53, > 1
value = 0

[State 100, voice]
type = PlaySnd
trigger1 = movehit
Trigger1 = animelem = 53
value = 0,11

[State 6010, 8]
type = ChangeState
trigger1 = backedgebodydist <= -20
trigger1 = animtime = 0
value = 6050
ctrl = 0

[State 6010, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
;SCREEN BOUND -RUN_FWD-
[Statedef 6050]
type = S
physics = S
anim = 100
ctrl = 0

[State 6050, 1]
type = varset
trigger1 = Time = 0
var(17) = 0

[State 6050, scb]
type = ScreenBound
Trigger1 = time < 8
value = 0

[State 6050, 1]
type = VelSet
trigger1 = time > 3
x = const(velocity.run.fwd.x)

[State 100, voice]
type = PlaySnd
trigger1 = time = 0
value = 7,5
volume = 255
volumescale = 255
channel = 0

[State 100, 6]
type = AssertSpecial
trigger1 = command != "holdback"
flag = NoWalk

[State 101, Explod]
type = Explod
trigger1 = time % 5 = 0
anim = 8100
ownpal = 1
sprpriority = 4
random = 30,abs(const(size.head.pos.y))
pos = -30,ceil(const(size.mid.pos.y))
scale = 0.5, 0.5

[State 101, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,5

[State 6050, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 6050, 6]
type = AssertSpecial
trigger1 = command != "holdback"
flag = NoWalk


;--------------------------------------------------------


;==============================================================
;Weapon X
;==============================================================
;-------------------------
[Statedef 6100]
type = S
movetype = A
physics = N
anim = 6100
velset = 0,0
ctrl = 0

[State 1300]
type = Explod
trigger1 = animelem = 1
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 11
var(38) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 11
stateno = 8500
supermovetime = 99999999
pos = ceil(4*const(size.xscale)),ceil(-50*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 11
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 3,1
volume = 255
volumescale = 255
channel = 1

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 11,< 0
value = SCA

[State 6100, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 6110
ctrl = 0

;DASH
[Statedef 6110]
type = S
movetype = A
physics = N
anim = 6110
velset = 0,0
juggle = 12
ctrl = 0

[State 3001]
type = PlaySnd
trigger1 = Time = 1
value = 7,3
volume = 255
volumescale = 255
channel = 1

[State 6610, PowerVAR]
type = Varadd
trigger1 = AnimElem = 1, = 0
var(22) = -1000
ignorehitpause = 1 

[State 6110, vel]
type = velset
trigger1 = 1
x = 24

[State 6110, FX]
type = Explod
trigger1 = animelem = 1
scale = const(size.xscale)
id = 6112
anim = 6112
pos = -10,0
sprpriority = 2
removetime = 16
bindtime = -1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6110, hit]
type = HitDef
trigger1 = enemynear, statetype != L
trigger1 = animelem = 2
attr = S, HA
animtype = light
damage = 14,0
guardflag = MA
hitflag = MAFD
pausetime = 9,11
guard.pausetime = 9,11
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,2
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
ground.velocity = -0.3
air.velocity = -2,0
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 9,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2facing = 1
kill = 0
yaccel = .5
p2stateno = 1182
p2getp1stateno = 1

[State 6110, hit]
type = HitDef
trigger1 = enemynear, statetype = L
trigger1 = animelem = 2
attr = S, HA
animtype = light
damage = 14,5
guardflag = MA
hitflag = MAFD
pausetime = 9,11
guard.pausetime = 9,11
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,2
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
ground.velocity = -0.3
air.velocity = -2,0
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 9,11
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2facing = 1
kill = 0
yaccel = .5

[State 6110, NHB]
type = Nothitby
trigger1 = 1
value = , AP

[State 6110, hit]
type = ChangeState
trigger1 = enemynear, statetype != L
trigger1 = movehit
value = 6150
ctrl = 0

[State 6110, hit]
type = ChangeState
trigger1 = enemynear, statetype = L
trigger1 = movehit
value = 6120
ctrl = 0

[State 6110, miss]
type = ChangeState
trigger1 = moveguarded
value = 6120
ctrl = 0

[State 6110, miss]
type = ChangeState
trigger1 = AnimTime = 0
value = 6120
ctrl = 0

;MISS
[Statedef 6120]
type = S
movetype = A
physics = S
anim = 6120
velset = 0,0
ctrl = 0

[State 6120, remhyperbg]
type = Removeexplod
trigger1 = numexplod(750) = 1
Trigger1 = time = 0
ignorehitpause = 1
id = 750

[State 3000, VarSet]
type = VarSet
trigger1 = time = 0
var(38) = 0

[State 6120, FX]
type = Explod
trigger1 = animelem = 1
scale = const(size.xscale)
id = 6122
anim = 6122
pos = -10,0
sprpriority = 2
removetime = 6
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------
;AUTOCOMBO
[Statedef 6150]
type = S
movetype = A
physics = N
anim = 6150
velset = 0,0
ctrl = 0

[State 6150, FX]
type = Explod
trigger1 = animelem = 1
scale = const(size.xscale)
id = 6122
anim = 6122
pos = -10,0
sprpriority = 2
removetime = 6
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6150, atmul]
type = attackmulset
trigger1 = 1
ignorehitpause
value = 1

[State 6150, end]
type = targetbind
trigger1 = Time = 0
pos = 55,0
time = 1


[State 810, Width 2-11]
type = Width
trigger1 = 1
edge = 122,0

[State 830, 2]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 6150, voice]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 14
trigger3 = animelem = 24
trigger4 = animelem = 30
trigger5 = animelem = 40
value = 7,3
channel = 0
volume = 255
volumescale = 255

[State 6150, voice]
type = PlaySnd
trigger1 = animelem = 8
trigger2 = animelem = 20
trigger3 = animelem = 27
trigger4 = animelem = 35
trigger5 = animelem = 43
value = 7,5
channel = 0
volume = 255
volumescale = 255

[State 6150, lp]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0.3
air.velocity = 0.3,-0.1
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, mp1]
type = HitDef
trigger1 = animelem = 9
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0.3
air.velocity = 0.3,-0.5
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, mp2]
type = HitDef
trigger1 = animelem = 15
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0.3
air.velocity = 0.3,-0.5
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, lk]
type = HitDef
trigger1 = animelem = 21
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0.5
air.velocity = 0.5,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, jlp]
type = HitDef
trigger1 = animelem = 25
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0.5
air.velocity = 0.5,-1
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, jlk]
type = HitDef
trigger1 = animelem = 28
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0.5
air.velocity = 0.5,-2
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, jmp1]
type = HitDef
trigger1 = animelem = 31
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 0.5
air.velocity = 0.5,-0.3
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, jmp2]
type = HitDef
trigger1 = animelem = 36
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 1
air.velocity = 1,-0.5
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, jmk]
type = HitDef
trigger1 = animelem = 41
attr = S, HA
animtype = Hard
damage = 19,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
ground.velocity = 1
air.velocity = 1,-2
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2stateno = 1100
p2getp1stateno = 1
kill = 0
yaccel = .5

[State 6150, jhp]
type = HitDef
trigger1 = animelem = 44
attr = S, HA
animtype = Diagup
damage = 34,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -0,-46
hitsound = S5,6
guardsound = S6,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
ground.velocity = -.1,-7
air.velocity = -.1,-7
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
kill = 0
yaccel = .5
fall = 1
fall.recover = 0
p2getp1stateno = 1
p2stateno = 1180
fall.envshake.time = 2

[State 6150, land]
type = ChangeState
trigger1 = AnimTime = 0
value = 6160
ctrl = 0

;Land
[Statedef 6160]
type = S
movetype = A
physics = N
anim = 6160
velset = 0,0
ctrl = 0

[State 6160, pos]
type = posset
trigger1 = Time = 0
y = 0

[State 1192, scb]
type = ScreenBound
Trigger1 = 1
value = 1

[State 6160, Finisher]
type = ChangeState
trigger1 = AnimTime = 0
value = 6170
ctrl = 0

;-------------------------------------
;Finisher
[Statedef 6170]
type = A
movetype = A
physics = N
anim = 6170
velset = 0,0
ctrl = 0

[State 6170, atmul]
type = attackmulset
trigger1 = 1
ignorehitpause
value = 1

[State 6170, voice]
type = PlaySnd
trigger1 = animelem = 1
value = 7,4
channel = 0
volume = 255
volumescale = 255

[State 6170, pos]
type = posadd
trigger1 = Time = 0
y = -50
x = 55

[State 6170, pos]
type = velset
trigger1 = time > 0 
y = -1
x = 1

;[State 6170, pos]
;type = posadd
;trigger1 = time = 1
;y = -35
;x = 40

[State 6170, SLASH1A]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 6172
anim = 6172
pos = 0,0
sprpriority = 2
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6170, SLASH1B]
type = Explod
trigger1 = time = 0
scale = const(size.xscale)
id = 6174
anim = 6174
pos = 0,0
sprpriority = -2
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6170, Finish]
type = HitDef
trigger1 = AnimElem = 1
attr = S, HA
animtype = HArd
damage = 112,5
guardflag = MA
hitflag = MAFD
pausetime = 1,38
sparkno = -1
guard.sparkno = 40
sparkxy = -8,-62
hitsound = S5,8
guardsound = S6,0
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 24
ground.velocity = -.1,-4
air.velocity = -.1,-5
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
fall = 1
fall.recover = 0
yaccel = .6

[State 6170, End]
type = ChangeState
trigger1 = time >= 41
value = 6180
ctrl = 0

;End
[Statedef 6180]
type = A
movetype = I
physics = N
anim = 6180
velset = 0,0
ctrl = 0

[State 3000, VarSet]
type = VarSet
trigger1 = time = 0
var(38) = 0

[State 6180, remhyperbg]
type = Removeexplod
Trigger1 = animelem = 1, = 0
Trigger2 = winKo
ignorehitpause = 1
id = 750

[State 6180, End]
type = velset
trigger1 = time = 0
x = 2
y = -3

[State 6180, grav 1]
type = Veladd
trigger1 = var(8) = [-1,1]
y = .67

[State 6180, grav 2]
type = Veladd
trigger1 = var(8) != [-1,1]
y = .655

[State 6180, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0

;---------------------------------------------------------------------------------
; FATAL CLAW X
;---------------------------------------------------------------------------------
[Statedef 6300]
type = S
movetype = A
physics = N
anim = 6300
velset = 0,0
ctrl = 0

[State 1300]
type = Explod
trigger1 = animelem = 1
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 1
var(38) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 1
stateno = 8500
supermovetime = 99999999
pos = ceil(-1*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 1,< 0
value = SCA

[State 6300, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 6305
ctrl = 0

;Jump Start
[Statedef 6305]
type = A
movetype = A
physics = N
anim = 6305
velset = 8,-8
ctrl = 0

[State 6305, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,4
volume = 255
volumescale = 255
channel = 1

[State 6305, pause]
type = pause
trigger1 = time = 0
movetime = 7
time = 7

[State 6305, ATvar]
type = varset
trigger1 = time = 0
var(18) = enemy, gethitvar(hitcount)
persistent = 0

[State 6305, ATvar]
type = varset
trigger1 = time = 0
trigger1 = p2movetype != H
var(18) = 0
persistent = 0

[State 6305, end]
type = ChangeState
trigger1 = time = 8
value = 6310
ctrl = 0

;Attack
[Statedef 6310]
type = A
movetype = A
physics = N
anim = 6310
juggle = 13
velset = .6,-.6
ctrl = 0

[State 6310, atmul]
type = attackmulset
trigger1 = var(18) <= 0 
ignorehitpause
value = 1

[State 6310, atmul]
type = attackmulset
trigger1 = var(18) = [1,3]
ignorehitpause
value = .8

[State 6310, atmul]
type = attackmulset
trigger1 = var(18) = [4,6]
ignorehitpause
value = .7

[State 6310, atmul]
type = attackmulset
trigger1 = var(18) > 6
ignorehitpause
value = .6

[State 6310, Front]
type = Explod
trigger1 = time = 0
trigger2 = time = 12
trigger3 = time = 24
trigger4 = time = 36
scale = const(size.xscale)
id = 6350
anim = 6350
pos = -6,-62
sprpriority = 3
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6310, Back]
type = Explod
trigger1 = time = 0
trigger2 = time = 12
trigger3 = time = 24
trigger4 = time = 36
scale = const(size.xscale)
id = 6360
anim = 6360
pos = -6,-62
sprpriority = -2
bindtime = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999
shadow = 68,68,68
ownpal = 1

[State 6310, Hit]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
trigger7 = animelem = 14
trigger8 = animelem = 16
trigger9 = animelem = 18
trigger10 = animelem = 20
trigger11 = animelem = 22
attr = A, HA
animtype = BAck
damage = 24,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,5+ceil(enemynear, pos y)
hitsound = S280,0
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
air.hittime = 13
ground.velocity = ((p2bodydist x) / 6),((p2dist y /-6)+5)
air.type = Low
air.velocity = ((p2bodydist x) / 6),((p2dist y /-6)+5)
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
p2getp1stateno = 1
fall = 1
yaccel = 0.3+enemynear,const(movement.yaccel)

[State 6310, Hit]
type = HitDef
trigger1 = animelem = 24
attr = A, HA
animtype = BAck
damage = 24,5
guardflag = MA
hitflag = MAFD
pausetime = 1,2
sparkno = S8002
guard.sparkno = S8050
sparkxy = -10,35
hitsound = S280,0
guardsound = S6,0
ground.type = high
ground.slidetime = 22
ground.hittime = 22
air.hittime = 5
ground.velocity = 0,-2
air.velocity = 0,-2
airguard.velocity = -4,-.2
guard.velocity = -4.3
ground.cornerpush.veloff = -0
air.cornerpush.veloff = -0
guard.cornerpush.veloff = -0
getpower = 0,0
givepower = 0,0
guard.pausetime = 1,2
guard.slidetime = 18
guard.hittime = 18
guard.ctrltime = 18
fall = 1
yaccel = .9

[State 6310, PP]
type = playerpush
trigger1 = animelem = 23, > 0
ignorehitpause = 1
value = 0

[State 6310, end]
type = ChangeState
trigger1 = time = 51 
value = 6320
ctrl = 0

;Fall
[Statedef 6320]
type = A
movetype = A
physics = N
anim = 6320
velset = 4,-4
ctrl = 0

[State 3000, VarSet]
type = VarSet
trigger1 = time = 0
var(38) = 0

[State 6320, PP]
type = playerpush
trigger1 = 1
ignorehitpause = 1
value = 0

[State 6320, remhyperbg]
type = Removeexplod
Trigger1 = time = 0
ignorehitpause = 1
id = 750

[State 6320, end]
type = velset
trigger1 = Time = 0
y = 0

[State 6320, grav 1]
type = Veladd
trigger1 = var(8) = [-1,1]
y = .67

[State 6320, grav 2]
type = Veladd
trigger1 = var(8) != [-1,1]
y = .655

[State 6320, land]
type = Changestate
trigger1 = vel y > 0 && pos y >= -10
value = 2132
ctrl = 0
;====================================================

;AERIAL FATAL CLAW
;Start Up
[Statedef 6400]
type = A
movetype = A
physics = N
anim = 6400
velset = 0,0
poweradd = 60
ctrl = 0

[State 6320, end]
type = velset
trigger1 = Time = 0
y = -3.5

[State 6320, end]
type = veladd
trigger1 = time >= 9
y = .59

[State 6400, Limit]
type = varset
trigger1 = Time = 0
var(15) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 17
var(38) = 1

[State 3000, Helper]
type = Helper
trigger1 = animelem = 17
stateno = 8500
supermovetime = 99999999
pos = ceil(-1*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 17
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 17,< 0
value = SCA

[State 0, PosFreeze]
type = PosFreeze
trigger1 = animelem = 17,> 0

[State 6400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 6410
ctrl = 0

;-------------------------------

;Jump Start
[Statedef 6410]
type = A
movetype = A
physics = N
anim = 6410
velset = 0,0
ctrl = 0

[State 6305, voice]
type = PlaySnd
trigger1 = Time = 0
value = 7,4
volume = 255
volumescale = 255
channel = 1

[State 6410, pause]
type = pause
trigger1 = time = 0
movetime = 7
time = 7

[State 6410, ATvar]
type = varset
trigger1 = time = 0
var(18) = enemy, gethitvar(hitcount)
persistent = 0

[State 6410, ATvar]
type = varset
trigger1 = time = 0
trigger1 = p2movetype != H
var(18) = 0
persistent = 0

[State 6410, end]
type = ChangeState
trigger1 = time = 8
value = 6310
ctrl = 0



;---------------------------------------------------------------------------------
; Berseker Charge
;---------------------------------------------------------------------------------
[Statedef 6500]
type = S
movetype = A
physics = N
anim = 6500
velset = 0,0
ctrl = 0

[State 1300]
type = Explod
trigger1 = animelem = 3
anim = 8300
id = 8300
supermove = 1
sprpriority = 6
ownpal = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 2
var(38) = 1

[State 3000, VarSet]
type = VarSet
trigger1 = animelem = 7
var(38) = 0

[State 3000, Helper]
type = Helper
trigger1 = animelem = 2
stateno = 8500
supermovetime = 99999999
pos = ceil(-1*const(size.xscale)),ceil(-60*const(size.yscale))
ownpal = 1
id = 8500

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 2
time = 36
movetime = 36
darken = 1
anim = -1
p2defmul = 1
poweradd = -1000

[State 3001]
type = PlaySnd
trigger1 = animelem = 3
value = 7,3
volume = 255
volumescale = 255
channel = 1

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = animelem = 2,< 0
value = SCA

[State 6500, SpeedVar]
type = Varset
trigger1 = time = 0
var(19) = 0
ignorehitpause = 0

[State 6500, SpeedVar]
type = Varset
trigger1 = animelem = 7, = 0
var(19) = 565
ignorehitpause = 0

[State 3000, 10]
type = Helper
trigger1 = animelem = 3
name = "Timer"
StateNo = 6501
postype = left
pos = 0, 0
ownpal = 1  

[State 6500, PowerVar]
type = Varset
trigger1 = animelem = 7, = 0
var(22) = power
ignorehitpause = 0

[State 6500, Hit]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
animtype = hard
damage = 49,10
guardflag = MA
hitflag = MAFD
pausetime = 1,12
sparkno = S9999
guard.sparkno = S8050
sparkxy = -0,-65
hitsound = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime = 26
air.hittime = 2
yaccel = .99
ground.velocity = -16,-10
air.velocity = -16,-10
airguard.velocity = -7,-2
fall.xvelocity = 0
fall.yvelocity = -1
air.fall = 1
fall.recover = 0
fall = 1

[State 220, 8]
type = TargetState
trigger1 = MoveHit
trigger1 = NumTarget != 0
trigger1 = target, stateno = [5000,5030]
ignorehitpause = 1
value = 226

[State G-FX, Hit/Guard Spark]
type = Explod
trigger1 = MoveContact
anim = Cond(MoveHit, 8076, 32004)
postype = p1
pos = Floor(P2Dist X - 10), Floor(P2Dist Y - 55)
bindtime = 1
removetime = -2
supermovetime = 500
scale = 0.5, 0.5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 6500, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Timer Berseker Charge
[Statedef 6501]
type = A
movetype = I
physics = N
anim = 9999

[State 3030, 1]
type = VarSet
trigger1 = time = 0
v = 50
value = parent, var(51)

[State 3030, 2]
type = Explod
trigger1 = teamside = 1
trigger1 = time = 0
ID = 7878
anim = 15900
postype = left
pos = 19, 220
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = -1
scale = 0.5,0.5

[State 3030, 3]
type = Explod
trigger1 = teamside = 1
trigger1 = time = 0
ID = 7879
anim = 15902
postype = left
pos = 142, 208
ownpal = 1
sprpriority = 5
bindtime = -1
removetime = -1

[State 3030, 4]
type = Explod
trigger1 = teamside = 2
trigger1 = time = 0
ID = 7878
anim = 15901
postype = right
pos = -39, 220
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = -1
scale = 0.5,0.5

[State 3030, 5]
type = Explod
trigger1 = teamside = 2
trigger1 = time = 0
ID = 7979
anim = 15902
postype = right
pos = -143, 208
ownpal = 1
sprpriority = 5
bindtime = -1
removetime = -1

[State 3030, 6]
type = VarAdd
trigger1 = time > 0
fv = 0
value = 1

[State 3030, 7]
type = VarSet
trigger1 = time > 0
fv = 1
value = fvar(0) / 1165

[State 3030, 8]
type = ModifyExplod
trigger1 = time > 0
ID = 7979
scale = fvar(1),0.5

[State 3030, 7]
type = VarSet
trigger1 = time > 0
fv = 1
value = fvar(0) / -1165

[State 3030, 8]
type = ModifyExplod
trigger1 = time > 0
ID = 7879
scale = fvar(1),0.5

[State 3030, 9]
type = ParentVarSet
trigger1 = fvar(0) > 580
v = 20
value = 1

[State 3030, 10]
type = RemoveExplod
trigger1 = fvar(0) > 580
trigger2 = parent, Win
trigger3 = !(Parent, Alive)
trigger4 = Parent, Lose
trigger5 = Parent, StateNo = 3230
trigger5 = Parent, MoveType != H

[STate 3030, 11]
type = DestroySelf
trigger1 = fvar(0) > 580
trigger2 = 0
trigger3 = !(Parent, Alive)
trigger4 = Parent, Lose
trigger5 = Parent, StateNo = 3230
trigger5 = Parent, MoveType != H


;-----------------------------------------------

;==================================
; Wolverine X's Custom Hit States
;==================================

;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 1000]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1000, 1] ;Anim for HIT_UP
type = ChangeAnim
trigger1 = Time = 0
trigger1 = selfanimexist(5051)
value = 5051

[State 1000, 2] ;Anim for HIT_DIAGUP
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !selfanimexist(5051)
trigger1 = selfanimexist(5052)
value = 5052

[State 1000, 3] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !selfanimexist(5051)
trigger1 = !selfanimexist(5052)
value = 5030

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 1000, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
type = a

[State 1000, 7]
type = hitfallset
trigger1 = time = 0
value = 0

[State 1000, 7]
type = SelfState
trigger1 = HitShakeOver
value = 5030

[State 1000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 1000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 1000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------

















;---------------------------------------------------------------------------
;CUSTOM HITSTATE
;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 1100]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1100, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 1100, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 1100, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 1100, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 1100, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
type = a

[State 1100, 6]
type = SelfState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5001 ;HITG_SLIDE

[State 1100, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 1130

[State 1100, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 1100, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 1100, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 1130]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1130, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 1130, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1130, 4]
type = ChangeState
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 1150 ;HITA_FALL

[State 1130, GMA]
type = GameMakeAnim
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
persistent = 0
ignorehitpause = 1
value = 72
pos = -20,-65
postype = p1
bindtime = -1

[State 1130, GMA]
type = Explod
triggerall = vel x != 0
trigger1 = frontedgebodydist <= 5
persistent = 0
ignorehitpause = 1
anim = f72
pos = 20,-65
sprpriority = 2
facing = -1
bindtime = 1
ownpal = 1

[State 1130, 10]
type = PlaySnd
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
trigger2 = frontedgebodydist <= 5
trigger1 = vel x != 0
persistent = 0
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1130, 10]
type = velset
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
trigger2 = frontedgebodydist <= 5
persistent = 0
x = 0

[State 1130, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1135 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 1135]
type    = A
movetype= H
physics = N

[State 1135, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 1135, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 1135, GMA]
type = GameMakeAnim
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
persistent = 0
ignorehitpause = 1
value = 72
pos = -20,-65
postype = p1
bindtime = -1

[State 1135, GMA]
type = Explod
triggerall = vel x != 0
trigger1 = frontedgebodydist <= 5
persistent = 0
ignorehitpause = 1
anim = f72
pos = 20,-65
sprpriority = 2
facing = -1
bindtime = 1
ownpal = 1

[State 1135, 10]
type = PlaySnd
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
trigger2 = frontedgebodydist <= 5
persistent = 0
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1135, 10]
type = velset
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
trigger2 = frontedgebodydist <= 5
persistent = 0
x = .0

[State 9001, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 5110;ifelse(alive,5040,5050)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 1150]
type    = A
movetype= H
physics = N

[State 1150, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 1150, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 1150, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 1150, GMA]
type = GameMakeAnim
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
persistent = 0
ignorehitpause = 1
value = 72
pos = -20,-65
postype = p1
bindtime = -1

[State 1150, GMA]
type = Explod
triggerall = vel x != 0
trigger1 = frontedgebodydist <= 5
persistent = 0
ignorehitpause = 1
anim = f72
pos = 20,-65
sprpriority = 2
facing = -1
bindtime = 1
ownpal = 1

[State 1150, 10]
type = PlaySnd
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
trigger2 = frontedgebodydist <= 5
persistent = 0
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1150, 10]
type = velset
triggerall = vel x != 0
trigger1 = backedgebodydist <= 5
trigger2 = frontedgebodydist <= 5
persistent = 0
x = 0

[State 9001, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 5110;ifelse(alive,5040,5050)

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 1160]
type    = L
movetype= H
physics = N

[State 1160, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 1160, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 1160, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 1160, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 1160, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 1160, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1160, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1160, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 1160, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = sysvar(1) <= 10

[State 1160, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 1160, 10]
type = PlaySnd
trigger1 = Time = 1
;value = F7, 0 ;Hit ground
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1160, 11]
type = PosFreeze
trigger1 = 1

[State 1160, 12]
type = velset
trigger1 = Time >= 2
x = -2
y = -5

[State 1160, 7]
type = selfstate
triggerall = Time >= 2
trigger1 = hitfall
trigger2 = !alive
value = 5101

[State 1160, 12]
type = changestate
trigger1 = !hitfall
trigger1 = alive
trigger1 = Time >= 2
value = 1170

[State 1160, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 1170]
type    = A
movetype= H
physics = N

[State 1170, 1]
type = posadd
trigger1 = time = 0
y = 25

[State 1170, 2]
type = ChangeAnim
trigger1 = time = 0
value = 5210

[State 1170, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 1170, 5]
type = VelAdd
trigger1 = 1
y = .5

[State 1170, NHB]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1170, 6]
type = selfState
triggerall = time > 6
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 52 ;JUMPLAND

;---------------------------------------------------------------------------


;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 1180]
type    = S
movetype = H
physics  = N
velset = 0,0

[State 1180, pos]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1180, vel]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1180, 1] ;Anim for HIT_UP
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 1180, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 1180, 5] ;State type gets set to aerial if getting hit up
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
type = a

[State 1180, 7]
type = changeState
trigger1 = HitShakeOver
value = 1190

[State 1180, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 1180, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 1180, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 1190]
type    = S
movetype= H
physics = N

[State 1190, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 1190, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 1190, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 1190, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 1190, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1190, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1190, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 1190, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = sysvar(1) <= 10

[State 1190, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 2
volume = 50

[State 1190, 11]
type = PosFreeze
trigger1 = 1

[State 1190, 12]
type = changestate
trigger1 = Time >= 4
value = 1192

[State 1190, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 1192]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1192, scb]
type = ScreenBound
Trigger1 = 1
value = 0

[State 1192, Diagupanim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5052)
value = 5052 

[State 1192, Hitupanim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = !SelfAnimExist(5052) && selfanimexist(5051)
value = 5051

[State 1192, Hitanim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = !SelfAnimExist(5052) && !selfanimexist(5051)
value = 5050

[State 1192, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 1192, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1192, pos]
type = posadd
trigger1 = Time = 0
y = -15

[State 1192, 4]
type = selfstate
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5050 ;HITA_FALL

[State 1192, 5]
type = selfState
trigger1 = AnimTime = 0
value = 5035 ;HITA_UP (transition)

;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
;CUSTOM HITSTATE
;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 1182]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1182, pos]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1182, vel]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1182, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 1182, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 1182, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 1182, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 1182, 6]
type = SelfState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5001 ;HITG_SLIDE

[State 1182, 7]
type = SelfState
trigger1 = HitShakeOver
value = 5030

[State 1182, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 1182, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 1182, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140


; HIT_FALLRECOVER (on the ground) 
[Statedef 5201]
type    = C
movetype= H
physics = N
anim = ifelse(prevstateno=5200,5200,5201)
facep2 = 1
sprpriority = -1

[State 5201, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5201, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(anim=5200,8,-4)
y = 0

[State 5201, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, PlayerPush]
type = PlayerPush
trigger1 = anim = 5200
value = 0

[State 5201, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Dizzy Up
[Statedef 5250]
type    = A
movetype= H
physics = N
ctrl = 0
anim = 5250
poweradd = 0
velset = -3, -17
sprpriority = 1

[State 970, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

;This resets the dizzy counter back to zero
[State 970, 3]
type = VarSet
trigger1 = Time = 0
v = 33
value = 0

[State 5250, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5250, Gravity]
type = VelAdd
trigger1 = 1
y = 0.3

[State 91, VelAdd]
type = VelAdd
trigger1 = Vel Y > 0
y= - 0.17

[State 5250, recavary]
type = ChangeState
trigger1 = time = 32
value = 5210
ctrl = 1

 

; nGtFNg 
[Statedef 8200]
type = A
movetype = H
physics = N
anim = 9999

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
scale = 2,2
pos = 16,0
vel = 4,0
sprpriority = 4
ownpal = 1

[State 8200, Explod]
type = Explod
trigger1 = time = 0
anim = 8200
pos = -16,0
vel = -4,0
scale = 2,2
sprpriority = 4
ownpal = 1

[State 8200, DestroySelf]
type = DestroySelf
trigger1 = time = 0

; X[p[R{o(wp[) 
	
[Statedef 8500] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8500, PlaySnd]
type = PlaySnd
trigger1 = time = 0
volume = 200
volumescale = 200
value = 4,0

[State 8500, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 8500, EnvColor]
type = EnvColor
trigger1 = time < 37
value = 0,0,0
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8500
id = 8500
bindtime = -1
removetime = -1
ontop = 1
supermove = 1
ownpal = 1
scale = 1.1,1.1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = 8900
sprpriority = -1
pos = 0,120
postype = back
under = 1
supermove = 1
bindtime = 6
removetime = 37
vel = -0.09,0
scale = 1,1
ID = 8900
ownpal = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 0
anim = f9951
sprpriority = -2
postype = left
under = 1
supermove = 1
bindtime = -1
removetime = 37
scale = 1,1
ownpal = 1


[State 9999,0]
type = ModifyExplod
trigger1 = time = [0,6]
ID = 8900
scale = .75- (.0415*time), .75- (.0415*time)
sprpriority = -1
under = 1

[State 8500, Explod]
type = Explod
trigger1 = time = 37
trigger2 = time > 37 && root,var(14) = 1 && !numexplod(8505)
anim = 8505
id = 8505
postype = left
bindtime = -1
removetime = -1
scale = .5,.5*fvar(1)
sprpriority = -3
ownpal = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = numexplod(8505)
ID = 8505
scale = .5,.5*fvar(1)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = ifelse(screenpos y-212<0,0,screenpos y-212)

[State 0, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = 1+(fvar(0)/512)

[State 8500, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(38) = 0 || root,var(38) = 2
trigger2 = root,movetype = H
trigger3 = time >= 37 && roundstate > 2
id = 8505

[State 8500, ChangeState]
type = ChangeState
triggerall = root,WinKo
trigger1 = time >= 37 && roundstate > 2
value = 8510

[State 8500, DestroySelf]
type = DestroySelf
trigger1 = root,var(38) = 0
trigger2 = root,movetype = H


[Statedef 8510] 
type = A
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,17

[State 8510, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,16

[State 8510, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = nobardisplay

[State 8510, Explod]
type = Explod
trigger1 = time = 0
anim = 8510
id = 8510
postype = left
bindtime = -1
sprpriority = -3
ownpal = 1

[State 8510, DestroySelf]
type = DestroySelf
trigger1 = !numexplod(8510)
  
; VXep 
	 
; ^[QbgJo[ 
[Statedef 9900]
type = A
movetype = H
physics = N

[State 9900, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5040,5050)
 
; ^[Qbg_EA 
[Statedef 9901]
type = A
movetype = H
physics = N

[State 9901, SelfState]
type = SelfState
trigger1 = 1
value = ifelse(alive,5201,5050)
 
; ^[QbgoEh 
[Statedef 9910]
type = A
movetype = H
physics = N
ctrl = 0
facep2 = 1

[State 9910, SelfState]
type = SelfState
trigger1 = !alive
value = 5050

[State 9910, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5040

[State 9910, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9910, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -6

[State 9910, PosSet]
type = PosSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -5

[State 1300, 6]
type = PalFX
triggerall = name = "Dhalsim"
trigger1 = animelem = 1
time = 18
sinadd =  255,255,255,43
ignorehitpause = 0

[State 5100, 10]
type = PlaySnd
triggerall = name = "Dhalsim"
trigger1 = Time = 1
value = S3,0

[State 9910, VelSet]
type = VelSet
triggerall = name = "Dhalsim"
trigger1 = time >= 0
trigger1 = time <= 1
y = -4
x = 0

[State 9910, VelAdd]
type = VelAdd
triggerall = name = "Dhalsim"
trigger1 = time = 1
y = 0

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9910, NotHitBy]
type = NotHitBy
trigger1 = pos y >= 0 && vel y > 0
value = SCA
time = 3

[State 9910, VelAdd]
type = VelAdd
trigger1 = 1
y = .82;gethitvar(yaccel)

[State 9910, SelfState]
type = SelfState
trigger1 = pos y >= 0 && vel y > 0
value = 52

;---------------------------------------------------------------------------



;============================
; Wolverine X's -2 States
;============================

[Statedef -2]

[State 0]
type = changeanim
triggerall = anim < 7000
triggerall = var(19) > 0
trigger1 = stateno = [0,20]
value = anim + 7000

[State 0]
type = ChangeAnim
triggerall = anim !=0
triggerall = var(19) = 0
trigger1 = stateno = 0
value = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
value = 0,10
channel = 4
volume = 155
volumescale = 155

[State 0, PlaySnd]
type = PlaySnd
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
value = 0,7
channel = 4
volume = 155
volumescale = 155

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 20, 2]
type = envshake
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 228  && !NumExplod(8010)
time = 8
freq = 80
ampl = 3

[State 20, 2]
type = envshake
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 9910  && !NumExplod(8010)
time = 8
freq = 80
ampl = 3


[State 0, PlaySnd]
type = PlaySnd
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 228  && !NumExplod(8010)
value = 0,10
channel = 4
volume = 155
volumescale = 155

[State 0, PlaySnd]
type = PlaySnd
trigger1	= NumEnemy && Enemy, StateNo = 228  && !NumExplod(8010)
value = 0,7
channel = 4
volume = 155
volumescale = 155

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 228  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, 10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1	= NumEnemy && Enemy, StateNo = 703  && !NumExplod(8010)
value = 0,7
channel = 4
volume = 155
volumescale = 155

[State -2, effect for custom state #9910]
type = Explod
trigger1	= NumEnemy && Enemy, StateNo = 703  && !NumExplod(8010)
persistent = 0
ID = 8010
anim = 8010
postype = p2
pos = -20, -10
scale = 0.8,0.8
sprpriority = 5
ownpal = 1
removetime = -2
ignorehitpause = 1

[State 20, 2]
type = envshake
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 703  && !NumExplod(8010)
time = 8
freq = 80
ampl = 3

[State 0, PlaySnd]
type = PlaySnd
triggerall = name = "Sentinel"
triggerall = name = "Hulk"
triggerall = name = "Juggernaut"
trigger1	= NumEnemy && Enemy, StateNo = 703  && !NumExplod(8010)
value = 0,10
channel = 4
volume = 155
volumescale = 155


[State -2, Pre-walking state]
type = ChangeState
;triggerall = !var(59)
trigger1 = prevstateno = 190
trigger2 = RoundNo != 1              ;Enable If Round Number is > 1
trigger2 = RoundState = 1           ;RoundState < 2 and
trigger2 = RoundState = 2
trigger2 = stateno = 0              ;Current state is 0
value = 21
ctrl = 0

[State -2, Remember the last Position (X)]
type = VarSet
triggerall = RoundState < 2
trigger1 = stateno = [0, 21] ;Enable after Intro
fvar(5) = Pos X

[State -2, Set the actual Position when match begins]
type = PosSet
trigger1 = RoundState = 2
trigger1 = fvar(5) != 0
trigger1 = prevstateno != 190
x = fvar(5)

[State -2, Reset PlaceHolder Var]
type = VarSet
trigger1 = RoundState = 2
fvar(5) = 0

[State -3]
type = ChangeState
triggerall = hitshakeover
trigger1 = (stateno = 5000 || stateno = 5010 || stateno = 5020 || stateno = 5070 || stateno = 5080)
trigger1 = !Alive || !Life
value = 5090

[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate = 2
trigger1 = roundstate != 3
trigger1 = NumHelper(19999997) = 0
stateno = 19999997
id = 19999997

;KO Sound
[State -3]
type = Helper
triggerall = !alive
trigger1 = roundstate != 2
trigger1 = roundstate = 3
trigger1 = NumHelper(19999998) = 0
stateno = 19999998
id = 19999998

; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = screenpos y < 0
anim = 8589+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = roundstate = [2,3]
triggerall = !numexplod(8596) && numenemy
triggerall = screenpos y > 240-const(size.head.pos.y)
trigger1 = var(21) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(21) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8595+teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8596

[State -2, O\]
type = Explod
triggerall = roundstate = [2,3]
triggerall = !numexplod(8598) && numenemy
triggerall = screenpos y < 0
trigger1 = var(21) = 1
trigger1 = screenpos x < enemynear,screenpos x
trigger2 = var(21) = -1
trigger2 = screenpos x > enemynear,screenpos x
anim = 8597+teamside
ownpal = 1
ontop = 1
facing = -var(21)
postype = left
pos = floor(screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8596)
trigger1 = screenpos y <= 240-const(size.head.pos.y)
id = 8596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(8598)
trigger1 = screenpos y >= 0
id = 8598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8596)
id = 8596
postype = left
pos = floor(screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(8598)
id = 8598
postype = left
pos = floor(screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy
var(21) = ifelse(screenpos x - enemynear,screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(8596)
trigger1 = screenpos y > 240-const(size.head.pos.y)
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),195
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

[State -2, O\]
type = Explod
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(8598)
trigger1 = screenpos y < 0
anim = 8593+teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(screenpos x),5
scale = .25,.25
facing = -var(21)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8594

  
; O\() 
	
; vC[\ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = enemy,screenpos y < 0
anim = 8589+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .5,.5
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 8590
 
; \(]) 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = roundstate = [2,3]
triggerall = !numexplod(18596)
triggerall = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
trigger1 = var(20) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(20) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8595+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18596

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
triggerall = roundstate = [2,3]
triggerall = !numexplod(18598)
triggerall = enemy,screenpos y < 0
trigger1 = var(20) = 1
trigger1 = enemy,screenpos x < screenpos x
trigger2 = var(20) = -1
trigger2 = enemy,screenpos x > screenpos x
anim = 8597+enemy,teamside
ownpal = 1
ontop = 1
facing = -var(20)
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18598

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18596)
trigger1 = enemy,screenpos y <= 240-enemy,const(size.head.pos.y)
id = 18596

[State -2, O\]
type = RemoveExplod
triggerall = numexplod(18598)
trigger1 = enemy,screenpos y >= 0
id = 18598

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18596)
id = 18596
postype = left
pos = floor(enemy,screenpos x),195

[State -2, O\]
type = ModifyExplod
trigger1 = numexplod(18598)
id = 18598
postype = left
pos = floor(enemy,screenpos x),5

[State -2, O\]
type = VarSet
trigger1 = numenemy = 1
var(20) = ifelse(enemy,screenpos x - screenpos x < 0,-1,1)
 
; \ 
[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(18596)
trigger1 = enemy,screenpos y > 240-enemy,const(size.head.pos.y)
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),195
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

[State -2, O\]
type = Explod
triggerall = numenemy = 1
triggerall = !(enemy,authorname="mouser" && enemy,var(5)=5068355)
trigger1 = roundstate = [2,3]
trigger1 = !numexplod(18598)
trigger1 = enemy,screenpos y < 0
anim = 8593+enemy,teamside
ownpal = 1
ontop = 1
postype = left
pos = floor(enemy,screenpos x),5
scale = .25,.25
facing = -var(20)
supermove = 1
pausemovetime = 99999999
ignorehitpause = 1
id = 18594

  
; I 
[State -2, I]
type = AssertSpecial
trigger1 = roundstate > 2
flag = nowalk
 
; ~ 
[State -2, ~]
type = Width
trigger1 = vel x > 0 && movetype != H
edge = 5,5


;------------------------------------------------------
;signs

[State -2, VS_Combo]
type = VarSet
triggerall = (var(36)!=10) || (var(36)=10 && movehit && statetype != A)
trigger1 = var(35) >= 3
trigger2 = var(35)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = [5000,5899])
var(36) = 1+(var(35)>3)+(var(35)>5)+(var(35)>7)+(var(35)>9)+(var(35)>29)+(var(35)>59)+(var(35)>=100)-(var(35)=-1)
ignorehitpause = 1

[State -2, Air Combo]
type = VarSet
triggerall = var(35) >= 3 && statetype = A && var(36)!=10 && var(55)
trigger1 = (movehit)
var(36) = 10
ignorehitpause = 1


[State -2, Danger]
type = VarSet
trigger1 = var(50) !=1 && roundstate=2 && life <= Ceil(const(data.life)/5)
var(36) = 9
ignorehitpause = 1

; sound First attack
[State -2, First Attack]
type = PlaySnd
triggerall = var(35)=-1
triggerall = NumExplod(8050) = 0
trigger1 = var(35)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
persistent = 0
value = 2,0
channel = 14
volume=255
ignorehitpause = 1

; Telop sound
[State -2, Combo Sound]
type = PlaySnd
trigger1 = NumExplod(8050) = 0
trigger1 = var(35)=0 && var(36)!=0
persistent = 0;1
value = 2,var(36)
channel = 14
volume=255
ignorehitpause = 1

[State -2, VarAdd] ;Normal Score Addition
type = VarAdd
triggerall = var(51) < 999999
trigger1 = enemynear,time<=0 && enemynear,gethitvar(hitshaketime)
trigger1 = enemynear,movetype=H && (enemynear,stateno!=[120,159])
var(51) = enemynear,gethitvar(damage) * 10
ignorehitpause=1

[State -2, Left]
type = explod
trigger1 = var(35)=0 && var(36)!=0
trigger2 = var(35)=-1 && (movehit || p2movetype = H && (p2stateno != [120,159]));p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
trigger3 = var(35)=0 && var(36)=10 && (movehit || p2movetype = H && (p2stateno != [120,159]))
triggerall = TeamSide = 1 && NumExplod(8050) = 0
anim = (8550 + var(36))
ID = 8050
postype = left
pos = 3,80
ontop = 1
bindtime = -1
removetime = 60
ownpal = 1
supermovetime = 60
pausemovetime = 60
scale = 0.5,0.5
persistent = 0
ignorehitpause = 1

[State -2, Right]
type = explod
trigger1 = var(35)=0 && var(36)!=0
trigger2 = var(35)=-1 && (movehit || p2movetype = H && (p2stateno != [120,159]));p2stateno = 6300 ||p2movetype = H);p2stateno = [5000,5899])
trigger3 = var(35)=0 && var(36)=10 && (movehit || p2movetype = H && (p2stateno != [120,159]))
triggerall = TeamSide = 2 && NumExplod(8050) = 0
anim = (8650+ var(36));8011;8720;
ID = 8050
postype = right
pos = -10,80;130;82
ontop = 1
bindtime = -1
removetime = 60;90
ownpal = 1
supermovetime = 60;90
pausemovetime = 60;90
scale = 0.5,0.5
persistent = 0;1
ignorehitpause = 1

[State -2, VS_Combo]
type = VarAdd
trigger1 = enemynear, time = 0
trigger1 = enemynear, Hitshakeover = 0
trigger1 = (p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H;p2stateno = [5000,5899]
trigger2 = var(35)=-1 && (movehit || p2movetype = H && p2stateno != [120,159]);p2stateno = 6300 || p2movetype = H);p2stateno = [5000,5899])
var(35) = 1 + (var(35)=-1)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
trigger1 = var(35)!=-1 && (p2movetype!=H || enemynear, ctrl)
trigger2 = var(35)=-1 && movetype = H;p2stateno = [5000,5899])
var(35) = 0 - (roundstate<2)
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
triggerall = numexplod(8050)!=0
trigger1 = var(35)=0
var(36) = 0
ignorehitpause = 1

[State -2, Is Danger]
type = VarSet
trigger1 = var(50) = 0 && life <= Ceil(const(data.life)/5)
;trigger1 = var(30) = 1 && roundstate!=2
var(50) = 1;(roundstate>1)
ignorehitpause = 1

[State -2, Is Danger]
type = VarSet
trigger1 = var(50) = 1 && life > Ceil(const(data.life)/5)
;trigger1 = var(30) = 1 && roundstate!=2
var(50) = 0;(roundstate>1)
ignorehitpause = 1

[State -2, Is First Attack p3]
type = VarSet
triggerall = numpartner=1
trigger1 = partner, movehit
trigger1 = partner, var(35) != -1
var(35) = 0
ignorehitpause = 1

[State -2, AssertSpecial]
type = AssertSpecial
triggerall = roundno = 1
trigger1 = roundstate < 2
flag = nomusic



; ^[Qbg 
[State -2, ^[Qbg]
type = VarSet
trigger1 = 1
var(25) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget
var(25) = target,id
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = !numtarget
var(26) = 0
ignorehitpause = 1

[State -2, ^[Qbg]
type = VarSet
trigger1 = numtarget && hitpausetime
var(26) = target,stateno = 5080
ignorehitpause = 1

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(25)) && !var(26)
trigger1 = playerID(var(25)),gethitvar(chainid) & 1
trigger1 = playerID(var(25)),stateno != [120,155]
trigger1 = playerID(var(25)),hitover && playerID(var(25)),alive && playerID(var(25)),hitshakeover
trigger1 = playerID(var(25)),statetype = A && playerID(var(25)),stateno != 9900
value = 9900

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(25)) && var(26)
trigger1 = playerID(var(25)),alive && playerID(var(25)),hitshakeover
trigger1 = playerID(var(25)),pos y >= 0 && playerID(var(25)),vel y > 0
trigger1 = playerID(var(25)),statetype = A && playerID(var(25)),stateno != 5201 && playerID(var(25)),stateno != 9910
value = 9901

[State -2, ^[Qbg]
type = TargetState
trigger1 = playeridexist(var(25))
trigger1 = playerID(var(25)),gethitvar(chainid) & 2
trigger1 = playerID(var(25)),stateno != [120,155]
trigger1 = playerID(var(25)),alive && playerID(var(25)),hitshakeover
trigger1 = playerID(var(25)),pos y >= 0 && playerID(var(25)),vel y > 0
trigger1 = playerID(var(25)),statetype = A && playerID(var(25)),stateno != 9910
value = 9910

;Wall Hit

[state 5100,2]
type = explod
triggerall = var(42)
triggerall = enemynear,stateno != [120,159]
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist <= 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
anim = 8015
postype = p2
pos = 0, -50
postype = p2
bindtime = 1
facing = -1
removetime = -2
sprpriority = 4
ownpal = 1
ignorehitpause = 1
persistent = 0

[state 5100,2]
type = playsnd
triggerall = var(42)
triggerall = numenemy
triggerall = enemynear,stateno != [120,159]
trigger1 = stateno != 4003
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
persistent = 0
value = 0,8
channel = 4
volume = 255

[state 200, 3]
type = varset
triggerall = var(42)
triggerall = numenemy
trigger1 = enemynear,movetype = h
trigger1 = enemynear,backedgedist < 5
trigger1 = enemynear,statetype = a
trigger1 = enemynear,vel x < 0
v = 42
value = 0

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 31
value = var(32)

[state -3, 2];combo hosei
type = varset
trigger1 = 1
v = 32
value = var(34)+hitcount

[state -3, 2];combo hosei
type = varset
trigger1 = enemynear,movetype != H
v = 34
value = 0

;***************
[state -3, 2];combo
type = varset
trigger1 = var(32)>var(31)
v = 42
value = 1

[State -2, AI vs Jumpcampers]
type = Varadd
trigger1 = movetype = H && statetype = A
trigger1 = prevstateno = [600,681]
trigger1 = var(23) <= 99 && time = 1
var(23) = 1
IgnoreHitPause = 1

[State -2, AI vs Turtlers]
type = Varadd
trigger1 = moveguarded
trigger1 = stateno = [200,681]
trigger1 = var(24) <= 99
var(24) = 1

[State -2, AI vs Turtlers]
type = Varadd
trigger1 = movehit
trigger1 = stateno = [200,681]
trigger1 = var(24) > 0
var(24) = -1
;IgnoreHitPause = 1


[State -2, StopAI]
type = VarSet
triggerall = (var(59) > 0)
trigger1 = (RoundState != 2)
trigger2 = !Alive
var(59) = -2
IgnoreHitPause = 1

[State -2, Simplifier]
type = VarSet
trigger1 = 1
var(9) = (var(59) = 1)
IgnoreHitPause = 1

[State -2, Defense Up]
type = DefenceMulSet
trigger1 = Life <= 437
value = ifelse(life < 262,.70,.80)

;Get rid of trailing anims when hit
[State -2, 3]
type = AfterImageTime
trigger1 = movetype = H
time = 0

;Sorrow edge' Throw limitter-------------------------------
[State -2, throwa]
type = VarSet
trigger1 = HitDefAttr = SCA, NA, AP && MoveContact
var(4) = 15
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(4) >= 1
var(4) = -1
ignorehitpause = 1 

;Modified it a bit for special throws
[State -2, throwa]
type = VarSet
trigger1 = MoveGuarded
var(5) = 15
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(5) >= 1
var(5) = -1
ignorehitpause = 1

;------------------------------------------------------------------
:KOF COMBO ATTACK MULSET CODE
[State -2, Varadd]
type = Varadd
trigger1 = hitcount > 0 && movehit 
;trigger1 = HitDefAttr = SCA, NA
var(6) = movehit 
;ignorehitpause = 1 
persistent = 0

[State -2, AttackMulSet]
type = Varset
trigger1 = Var(6) > 0
trigger1 = enemy, movetype != H
var(6) = 0

[State -2, AttackMulSet]
type = AttackMulSet
trigger1 = var(6) <= 0
value = 1

[State -2, AttackMulSet]
type = AttackMulSet
trigger1 = var(6) = [1,4]  
value = .3

[State -2, AttackMulSet]
type = AttackMulSet
trigger1 = var(6) = [5,8]  
value = .2

State -2, AttackMulSet]
type = AttackMulSet
trigger1 = var(6) > 8
value = .1

;------------------------------------------------------------------
;==================================================================================
; ------- DIZZY CODE --------
;===============================================
[State -2, reset Dizzy]
type = VarSet
trigger1 = RoundState = 0 || RoundState = 3 || (movetype = H &&  var(14) = 1 && stateno != 5250)
ignorehitpause = 1
var(11) = 0

[State -2, reset Dizzy]
type = VarSet
trigger1 = var(11) <= 0 && var(14) = 1
ignorehitpause = 1
var(14) = 0

[State -2, DIZZY CODE]
type = VarAdd
trigger1 = (var(11) = [1,999]) && movetype = H && gethitvar(hitcount) >= 20 
var(11) = -(var(11) -5)
ignorehitpause = 1 

[State -2, DIZZY CODE]
type = VarAdd
trigger1 = (var(11) = [1,999]) && movetype = H && gethitvar(hitcount) >= 5 
var(11) = ifelse(gethitvar(hitcount) >= 12,-50,-20)
ignorehitpause = 1 

[State -2, DIZZY CODE]
type = VarAdd
trigger1 = var(11) = [1,999]
var(11) = -1
ignorehitpause = 1 

[State -2, DIZZY CODE]
type = Varset
trigger1 = var(11) > 1000
var(11) = 1000
ignorehitpause = 1 
;------------------------------------------------------

;==================================================================================
; ------- GUARD CRUSH--------
;===============================================

[State -2, GUARD CRUSH CODE]
type = VarAdd
trigger1 = var(12) >= 1
var(12) = -1
ignorehitpause = 1 

[State -2, GUARD CRUSH CODE]
type = VarAdd
trigger1 = var(12) >= 1 && movetype = H && enemy, hitdefattr = SCA, HA, HP
var(12) = -10
ignorehitpause = 1 

;==================
;STOP SOUNDS
;==================
;Stop channel 20's sound when button fwd is release
[State -2, STPRUNSND]
type = StopSnd
trigger1 = stateno != 100
channel = 20;running snd

;===========================
;Launcher Limit
;===========================
[State -2, Launcherlimit1]
type = Varset
trigger1 = (p2stateno = 5100 || p2stateno = 1160) && var(6) > 1
var(10) = 1
ignorehitpause = 1 

[State -2, Launcherlimit2]
type = Varset
trigger1 = p2movetype != H
var(10) = 0
ignorehitpause = 1 

;===========================
;Speed Up Variable
;===========================
[State -2, SpeedUPVAR]
type = Varadd
trigger1 = var(19) >= 1
var(19) = -1
ignorehitpause = 1 

[State -2, hyperwin]
type = Powerset
trigger1 = var(19) >= 1
value = var(22)

;=================================
;Remove Explod
[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = statetype != A 
ID = 655

[State -2, hyperwin]
type = AssertSpecial
trigger1 = NumExplod(770) = 1
flag = NoBG
flag2 = NoFG

;============================
;DEBUG DISPLAY
;============================
[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "AI: %d\nWolverine71113"
params = var(24) 

;[State -2, DEBUG]
;trigger1 = 1
;type = DisplayToClipboard
;ignorehitpause = 1
;text = "juggle = %d P2dist = %f Y dist =%f \n Wolverine71113"
;params = var(13) , p2dist x, (p2dist y)
; - enemynear(0), const(size.height))
;============================================================================

[Statedef -3]
;[State -3, 1];kill the corner push bug
;type = VelSet
;trigger1 = FrontEdgeDist < 10 && Vel x > 0.1
;x = 0.1
;============================================================================

; _[W{CX 
[State 1120, _[W{CX]
type = PlaySnd
triggerall = alive && movetype = H
triggerall = random % 10 < 5
trigger1 = stateno = 5000 && time = 1
trigger2 = stateno = 5010 && time = 1
trigger3 = stateno = 5020 && time = 1
trigger4 = stateno = 5070 && time = 1
trigger5 = stateno = 5080 && time = 1
value = s5000,random%2
channel = 2
volume = 255
volumescale = 255

[State 0, StopSnd]
type = StopSnd
trigger1 =  !alive
channel =2
;ignorehitpau

;----------------------------------------------------------------------------------------;
;                                        Dizzy code                                      ;
;----------------------------------------------------------------------------------------;
[State -3, Varadd]
type = VarAdd
triggerall = (Time = 0) && (Var(39) < 15) && (Var(37) = 0)
trigger1 = (anim = 5000) || (anim = 5001) || (anim = 5010) || (anim = 5011) || (anim = 5020) || (anim = 5021)
v = 33
value = ((GetHitVar(animtype)=0)*100)+((GetHitVar(animtype)=1)*200)+((GetHitVar(animtype)=2)*250)+((GetHitVar(animtype)>=3)*300)

[State -3, VarSubtract]
type = VarAdd
trigger1 = Var(33) > 0
v = 33
value = ifelse(MoveType = A,-3,-2)

[State -3, VarSet]
type = VarSet
trigger1 = Var(33) < 0
v = 33
value = 0
ignorehitpause = 1

[State -3, ChangeState]
type = ChangeState
triggerall = Time = 1
trigger1 = (anim = 5000) || (anim = 5001) || (anim = 5010) || (anim = 5011) || (anim = 5020) || (anim = 5021)
trigger1 = (Var(33) >=20000) && (LoseKO = 0)
value = 5250
ignorehitpause = 1


;----------------------------------------------------------------------------------------;

[state -3, 1]
type = varset
trigger1 = statetype != A && ctrl
v = 55
value = 0

[state -3, 2]
type = varset
trigger1 = statetype != A && ctrl && stateno != 100
v = 56
value = 0

[state -3, 2]
type = varset
trigger1 = statetype != A && ctrl
v = 54
value = 0

[State -3, 3]
type = ScreenBound
trigger1 = Var(56) = 1 && var(54) < 32 && stateno != 100
value = 0
movecamera = 0,0

[State -3, 4]
type = ScreenBound
trigger1 = Var(56) = 0 || (statetype = A && var(54) = 32 && stateno != 100)
value = 1
movecamera = 1,1

[state -3, 5]
type = varadd
trigger1 = var(56) = 1
v = 54
value = 1
